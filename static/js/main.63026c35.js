/*! For license information please see main.63026c35.js.LICENSE.txt */
!function(){var e={142:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.isForwardRef=function(e){return w(e)===h}},33:function(e,t,n){"use strict";e.exports=n(142)},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(618);n(7);var i=n(791);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function v(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function y(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===a(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var g=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=v(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=v(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(g,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new g(e,r)}));var k=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,g.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=y(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new k(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(y(e))}))}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o;this.getTarget(a).addHandlers(u,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o,s=this.getTarget(a,!1);s&&(s.removeHandlers(u,e,m(t)),s.hasHandlers()||this.removeTarget(a))}}}]),e}(),w=new b,_=function(e){function t(){return o(this,t),d(this,f(t).apply(this,arguments))}return l(t,i.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=w,t.default=_},775:function(e,t,n){"use strict";var r;r=n(630),e.exports=r.default,e.exports.instance=r.instance},618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},854:function(e){"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var a=i+65;n[a]=[String.fromCharCode(a+32),String.fromCharCode(a)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Se(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ie)&&(Ne(),Se())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,Et,Tt=!1,St=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<St.length){Bt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Tn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function $n(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Gn(t,Wn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Sr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Sr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tr:case Sr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Si={},Ci=Ii(Si),Ni=Ii(!1),Ai=Si;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ni),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ti(Ci,e)):Ei(Ni),Ti(Ni,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Sa(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return So().memoizedState}function Bo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return So().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Sa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(So(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],So().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],So().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Su(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ou,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Uu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return _a(t.type._context),Hu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var xs,Is=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Ss=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Rs=0,Ps=0,Ds=Ii(0),Os=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Vs=null,Bs=0,zs=1/0,qs=null,Ks=!1,Gs=null,Hs=null,Ws=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Os&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,ji&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Rs===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Cs=i,null!==As?t=0:(Ns=null,Rs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,ji&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Ss.transition,r=kt;try{if(Ss.transition=null,kt=1,e)return e()}finally{kt=r,Ss.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ps=Ds.current,Ei(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Dc(e.current,null),Rs=Ps=t,Os=0,Ls=null,Us=Fs=Ms=0,Vs=js=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Os=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Os&&(Os=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Rs===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Es.current=r,null!==As)throw Error(a(261));return Ns=null,Rs=0,Os}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=xs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ts.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Os=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=kt,i=Ss.transition;try{Ss.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ss.transition=o}else e.current=n;if(Ws&&(Ws=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Ss.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Ss.transition,n=kt;try{if(Ss.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Ss.transition=t}}return!1}function xc(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Os||3===Os&&(130023424&Rs)===Rs&&500>Xe()-Bs?hc(e,0):Us|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return We(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case S:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Se,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,T=-1,S=5,C=-1;function N(){return!(t.unstable_now()-C<S)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){y(A,0)};function D(e){E=e,I||(I=!0,x())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return wl},SDK_VERSION:function(){return Of},_DEFAULT_ENTRY_NAME:function(){return wf},_addComponent:function(){return Ef},_addOrOverwriteComponent:function(){return Tf},_apps:function(){return xf},_clearComponents:function(){return Af},_components:function(){return If},_getProvider:function(){return Cf},_registerComponent:function(){return Sf},_removeServiceInstance:function(){return Nf},deleteApp:function(){return Uf},getApp:function(){return Mf},getApps:function(){return Ff},initializeApp:function(){return Lf},onLog:function(){return Bf},registerVersion:function(){return Vf},setLogLevel:function(){return zf}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function x(e){var t=k();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function I(e,t,n){return I=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},E(e)}function T(e){return o(e)||f(e)||s(e)||c()}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,A="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:O(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(A,v),h=e,function(){u.removeEventListener(A,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(y.location,e,n);r&&r(i,e);var a=P(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(y.location,e,n);r&&r(i,e);var a=P(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}function F(e,t,n){void 0===n&&(n="/");var r=H(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=q(i[o],G(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=X([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),U(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:z(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=S(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=j(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));var V=/^:\w+$/,B=function(e){return"*"===e};function z(e,t){var n=e.split("/"),r=n.length;return n.some(B)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!B(e)})).reduce((function(e,t){return e+(V.test(t)?3:""===t?1:10)}),r)}function q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=K({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:X([i,l.pathname]),pathnameBase:J(X([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=X([i,l.pathnameBase]))}return a}function K(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);W("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return W(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return W(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Q(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Y(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(R(!(i=C({},e)).pathname||!i.pathname.includes("?"),Q("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),Q("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),Q("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Z(a),hash:ee(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var X=function(e){return e.join("/").replace(/\/\/+/g,"/")},J=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ee=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},te=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(E(Error));function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var re=["post","put","patch","delete"],ie=(new Set(re),["get"].concat(re));new Set(ie),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var oe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ue=r.useState,se=r.useEffect,ce=r.useLayoutEffect,le=r.useDebugValue;function fe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!oe(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,function(e){e.useSyncExternalStore}(i);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext({outlet:null,matches:[]});var ge=r.createContext(null);function ke(){return null!=r.useContext(me)}function be(){return ke()||R(!1),r.useContext(me).location}function we(){ke()||R(!1);var e=r.useContext(ve),t=e.basename,n=e.navigator,i=r.useContext(ye).matches,a=be().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=Y(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:X([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ye).matches,a=be().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return Y(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function xe(){var e=function(){var e,t=r.useContext(ge),n=Ne(Ee.UseRouteError),i=Ae(Ee.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ie,Ee,Te=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return v(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Se(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(he);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},i)}function Ce(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||R(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(xe,null):null,l=t.concat(i.slice(0,u+1)),f=function(){return r.createElement(Se,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?r.createElement(Te,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Ne(e){var t=r.useContext(de);return t||R(!1),t}function Ae(e){var t=function(e){var t=r.useContext(ye);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ie||(Ie={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ee||(Ee={}));var Re;function Pe(e){R(!1)}function De(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ke()&&R(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=L(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,I=v.key,E=void 0===I?"default":I,T=r.useMemo((function(){var e=H(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:E}}),[d,y,k,w,x,E]);return null==T?null:r.createElement(ve.Provider,{value:p},r.createElement(me.Provider,{children:o,value:{location:T,navigationType:c}}))}function Oe(e){var n=e.children,i=e.location,a=r.useContext(he);return function(e,n){ke()||R(!1);var i,a=r.useContext(ve).navigator,o=r.useContext(de),u=r.useContext(ye).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,be());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||R(!1),i=d}else i=f;var p=i.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Ce(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:X([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:X([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?r.createElement(me.Provider,{value:{location:ae({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Me(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Re||(Re={}));var Le=new Promise((function(){}));r.Component;function Me(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Pe&&R(!1),e.props.index&&e.props.children&&R(!1);var a=[].concat(h(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Me(e.props.children,a)),n.push(o)}else n.push.apply(n,Me(e.props.children,t))})),n}function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ve(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),M((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:O(t)}),null,t)));var u=o.current,s=l(r.useState({action:u.action,location:u.location}),2),c=s[0],f=s[1];return r.useLayoutEffect((function(){return u.listen(f)}),[u]),r.createElement(De,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:u})}var Be="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Ue(e,je),d=!1;if(Be&&"string"===typeof l&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(l)){n=l;var p=new URL(window.location.href),v=l.startsWith("//")?new URL(p.protocol+l):new URL(l);v.origin===p.origin?l=v.pathname+v.search+v.hash:d=!0}var m=function(e,t){var n=(void 0===t?{}:t).relative;ke()||R(!1);var i=r.useContext(ve),a=i.basename,o=i.navigator,u=_e(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:X([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),y=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=we(),l=be(),f=_e(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:O(l)===O(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Fe({},h,{href:n||m,onClick:d||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var qe,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(qe||(qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function He(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=He(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var We=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=He(e))&&(r&&(r+=" "),r+=t);return r},Qe={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function $e(e){var t=typeof e;return"string"===t||"number"===t?Qe[e]||e:""}var Ye=function(e,t){return e&&t},Xe=function(e,t){return e&&!0!==e&&e+" "+t},Je=function(e,t){return e&&(!0===e?t:e+" "+t)},Ze=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},et=function(e){return"justified"===e?"justified":Xe(e,"aligned")},tt=function(e){return Xe(e,"aligned")},nt=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?$e(e):$e(e)+" "+t},rt=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};var it=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var a=n();if(a)return a}return t.href?"a":i.as||"div"},at="object"==typeof global&&global&&global.Object===Object&&global,ot="object"==typeof self&&self&&self.Object===Object&&self,ut=at||ot||Function("return this")(),st=ut.Symbol,ct=Object.prototype,lt=ct.hasOwnProperty,ft=ct.toString,ht=st?st.toStringTag:void 0;var dt=function(e){var t=lt.call(e,ht),n=e[ht];try{e[ht]=void 0;var r=!0}catch(a){}var i=ft.call(e);return r&&(t?e[ht]=n:delete e[ht]),i},pt=Object.prototype.toString;var vt=function(e){return pt.call(e)},mt=st?st.toStringTag:void 0;var yt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mt&&mt in Object(e)?dt(e):vt(e)};var gt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var kt=function(e){if(!gt(e))return!1;var t=yt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},bt=ut["__core-js_shared__"],wt=function(){var e=/[^.]+$/.exec(bt&&bt.keys&&bt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var _t=function(e){return!!wt&&wt in e},xt=Function.prototype.toString;var It=function(e){if(null!=e){try{return xt.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Et=/^\[object .+?Constructor\]$/,Tt=Function.prototype,St=Object.prototype,Ct=Tt.toString,Nt=St.hasOwnProperty,At=RegExp("^"+Ct.call(Nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Rt=function(e){return!(!gt(e)||_t(e))&&(kt(e)?At:Et).test(It(e))};var Pt=function(e,t){return null==e?void 0:e[t]};var Dt=function(e,t){var n=Pt(e,t);return Rt(n)?n:void 0},Ot=Dt(Object,"create");var Lt=function(){this.__data__=Ot?Ot(null):{},this.size=0};var Mt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ft=Object.prototype.hasOwnProperty;var Ut=function(e){var t=this.__data__;if(Ot){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ft.call(t,e)?t[e]:void 0},jt=Object.prototype.hasOwnProperty;var Vt=function(e){var t=this.__data__;return Ot?void 0!==t[e]:jt.call(t,e)};var Bt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ot&&void 0===t?"__lodash_hash_undefined__":t,this};function zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zt.prototype.clear=Lt,zt.prototype.delete=Mt,zt.prototype.get=Ut,zt.prototype.has=Vt,zt.prototype.set=Bt;var qt=zt;var Kt=function(){this.__data__=[],this.size=0};var Gt=function(e,t){return e===t||e!==e&&t!==t};var Ht=function(e,t){for(var n=e.length;n--;)if(Gt(e[n][0],t))return n;return-1},Wt=Array.prototype.splice;var Qt=function(e){var t=this.__data__,n=Ht(t,e);return!(n<0)&&(n==t.length-1?t.pop():Wt.call(t,n,1),--this.size,!0)};var $t=function(e){var t=this.__data__,n=Ht(t,e);return n<0?void 0:t[n][1]};var Yt=function(e){return Ht(this.__data__,e)>-1};var Xt=function(e,t){var n=this.__data__,r=Ht(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jt.prototype.clear=Kt,Jt.prototype.delete=Qt,Jt.prototype.get=$t,Jt.prototype.has=Yt,Jt.prototype.set=Xt;var Zt=Jt,en=Dt(ut,"Map");var tn=function(){this.size=0,this.__data__={hash:new qt,map:new(en||Zt),string:new qt}};var nn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var rn=function(e,t){var n=e.__data__;return nn(t)?n["string"==typeof t?"string":"hash"]:n.map};var an=function(e){var t=rn(this,e).delete(e);return this.size-=t?1:0,t};var on=function(e){return rn(this,e).get(e)};var un=function(e){return rn(this,e).has(e)};var sn=function(e,t){var n=rn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cn.prototype.clear=tn,cn.prototype.delete=an,cn.prototype.get=on,cn.prototype.has=un,cn.prototype.set=sn;var ln=cn;var fn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var hn=function(e){return this.__data__.has(e)};function dn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ln;++t<n;)this.add(e[t])}dn.prototype.add=dn.prototype.push=fn,dn.prototype.has=hn;var pn=dn;var vn=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var mn=function(e){return e!==e};var yn=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var gn=function(e,t,n){return t===t?yn(e,t,n):vn(e,mn,n)};var kn=function(e,t){return!!(null==e?0:e.length)&&gn(e,t,0)>-1};var bn=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var wn=function(e,t){return e.has(t)},_n=Dt(ut,"Set");var xn=function(){};var In=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},En=_n&&1/In(new _n([,-0]))[1]==1/0?function(e){return new _n(e)}:xn,Tn=En;var Sn=function(e,t,n){var r=-1,i=kn,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=bn;else if(a>=200){var c=t?null:Tn(e);if(c)return In(c);o=!1,i=wn,s=new pn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u};var Cn=function(e){return e&&e.length?Sn(e):[]},Nn=Array.isArray;var An=function(e,t){return function(n){return e(t(n))}},Rn=An(Object.getPrototypeOf,Object);var Pn=function(e){return null!=e&&"object"==typeof e},Dn=Function.prototype,On=Object.prototype,Ln=Dn.toString,Mn=On.hasOwnProperty,Fn=Ln.call(Object);var Un=function(e){if(!Pn(e)||"[object Object]"!=yt(e))return!1;var t=Rn(e);if(null===t)return!0;var n=Mn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ln.call(n)==Fn};var jn=function(e){return"number"==typeof e||Pn(e)&&"[object Number]"==yt(e)};var Vn=function(e){return"string"==typeof e||!Nn(e)&&Pn(e)&&"[object String]"==yt(e)};var Bn=function(e){return!0===e||!1===e||Pn(e)&&"[object Boolean]"==yt(e)};var zn=function(e){return null==e};function qn(e,t,n,i){if(void 0===i&&(i={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(zn(n)||Bn(n))return null;var a=Vn(n),o=jn(n),u=kt(n),s=r.isValidElement(n),c=Un(n),l=a||o||Nn(n);if(!u&&!s&&!c&&!l)return null;var f=i.defaultProps,h=void 0===f?{}:f,d=s&&n.props||c&&n||l&&t(n),p=i.overrideProps,v=void 0===p?{}:p;v=kt(v)?v(Ge({},h,d)):v;var m=Ge({},h,d,v);if(h.className||v.className||d.className){var y=We(h.className,v.className,d.className);m.className=Cn(y.split(" ")).join(" ")}if((h.style||v.style||d.style)&&(m.style=Ge({},h.style,d.style,v.style)),zn(m.key)){var g=m.childKey,k=i.autoGenerateKey,b=void 0===k||k;zn(g)?b&&(a||o)&&(m.key=n):(m.key="function"===typeof g?g(m):g,delete m.childKey)}return s?r.cloneElement(n,m):"function"===typeof m.children?m.children(e,Ge({},m,{children:void 0})):l||c?r.createElement(e,m):u?n(e,m,m.children):void 0}function Kn(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return qn(e,t,n,r)}}var Gn=Kn("input",(function(e){return{type:e}})),Hn=Kn("label",(function(e){return{children:e}})),Wn=Kn("p",(function(e){return{children:e}}));function Qn(e){var t=e.children,n=e.className,i=e.computer,a=e.color,o=e.floated,u=e.largeScreen,s=e.mobile,c=e.only,l=e.stretched,f=e.tablet,h=e.textAlign,d=e.verticalAlign,p=e.widescreen,v=e.width,m=We(a,Ye(l,"stretched"),Ze(c,"only"),et(h),Xe(o,"floated"),tt(d),nt(i,"wide computer"),nt(u,"wide large screen"),nt(s,"wide mobile"),nt(f,"wide tablet"),nt(p,"wide widescreen"),nt(v,"wide"),"column",n),y=rt(Qn,e),g=it(Qn,e);return r.createElement(g,Ge({},y,{className:m}),t)}Qn.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],Qn.propTypes={},Qn.create=Kn(Qn,(function(e){return{children:e}}));var $n=Qn;function Yn(e){var t=e.centered,n=e.children,i=e.className,a=e.color,o=e.columns,u=e.divided,s=e.only,c=e.reversed,l=e.stretched,f=e.textAlign,h=e.verticalAlign,d=We(a,Ye(t,"centered"),Ye(u,"divided"),Ye(l,"stretched"),Ze(s,"only"),Ze(c,"reversed"),et(f),tt(h),nt(o,"column",!0),"row",i),p=rt(Yn,e),v=it(Yn,e);return r.createElement(v,Ge({},p,{className:d}),n)}Yn.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Yn.propTypes={};var Xn=Yn;function Jn(e){var t=e.celled,n=e.centered,i=e.children,a=e.className,o=e.columns,u=e.container,s=e.divided,c=e.doubling,l=e.inverted,f=e.padded,h=e.relaxed,d=e.reversed,p=e.stackable,v=e.stretched,m=e.textAlign,y=e.verticalAlign,g=We("ui",Ye(n,"centered"),Ye(u,"container"),Ye(c,"doubling"),Ye(l,"inverted"),Ye(p,"stackable"),Ye(v,"stretched"),Je(t,"celled"),Je(s,"divided"),Je(f,"padded"),Je(h,"relaxed"),Ze(d,"reversed"),et(m),tt(y),nt(o,"column",!0),"grid",a),k=rt(Jn,e),b=it(Jn,e);return r.createElement(b,Ge({},k,{className:g}),i)}Jn.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Jn.Column=$n,Jn.Row=Xn,Jn.propTypes={};var Zn=Jn;function er(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}var tr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var nr=function(){this.__data__=new Zt,this.size=0};var rr=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ir=function(e){return this.__data__.get(e)};var ar=function(e){return this.__data__.has(e)};var or=function(e,t){var n=this.__data__;if(n instanceof Zt){var r=n.__data__;if(!en||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ln(r)}return n.set(e,t),this.size=n.size,this};function ur(e){var t=this.__data__=new Zt(e);this.size=t.size}ur.prototype.clear=nr,ur.prototype.delete=rr,ur.prototype.get=ir,ur.prototype.has=ar,ur.prototype.set=or;var sr=ur;var cr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var lr=function(e,t,n,r,i,a){var o=1&n,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new pn:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!cr(t,(function(e,t){if(!wn(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h},fr=ut.Uint8Array;var hr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},dr=st?st.prototype:void 0,pr=dr?dr.valueOf:void 0;var vr=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new fr(e),new fr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Gt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=hr;case"[object Set]":var s=1&r;if(u||(u=In),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=lr(u(e),u(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(pr)return pr.call(e)==pr.call(t)}return!1};var mr=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var yr=function(e,t,n){var r=t(e);return Nn(e)?r:mr(r,n(e))};var gr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var kr=function(){return[]},br=Object.prototype.propertyIsEnumerable,wr=Object.getOwnPropertySymbols,_r=wr?function(e){return null==e?[]:(e=Object(e),gr(wr(e),(function(t){return br.call(e,t)})))}:kr;var xr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Ir=function(e){return Pn(e)&&"[object Arguments]"==yt(e)},Er=Object.prototype,Tr=Er.hasOwnProperty,Sr=Er.propertyIsEnumerable,Cr=Ir(function(){return arguments}())?Ir:function(e){return Pn(e)&&Tr.call(e,"callee")&&!Sr.call(e,"callee")},Nr=Cr;var Ar=function(){return!1},Rr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pr=Rr&&"object"==typeof module&&module&&!module.nodeType&&module,Dr=Pr&&Pr.exports===Rr?ut.Buffer:void 0,Or=(Dr?Dr.isBuffer:void 0)||Ar,Lr=/^(?:0|[1-9]\d*)$/;var Mr=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Lr.test(e))&&e>-1&&e%1==0&&e<t};var Fr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ur={};Ur["[object Float32Array]"]=Ur["[object Float64Array]"]=Ur["[object Int8Array]"]=Ur["[object Int16Array]"]=Ur["[object Int32Array]"]=Ur["[object Uint8Array]"]=Ur["[object Uint8ClampedArray]"]=Ur["[object Uint16Array]"]=Ur["[object Uint32Array]"]=!0,Ur["[object Arguments]"]=Ur["[object Array]"]=Ur["[object ArrayBuffer]"]=Ur["[object Boolean]"]=Ur["[object DataView]"]=Ur["[object Date]"]=Ur["[object Error]"]=Ur["[object Function]"]=Ur["[object Map]"]=Ur["[object Number]"]=Ur["[object Object]"]=Ur["[object RegExp]"]=Ur["[object Set]"]=Ur["[object String]"]=Ur["[object WeakMap]"]=!1;var jr=function(e){return Pn(e)&&Fr(e.length)&&!!Ur[yt(e)]};var Vr=function(e){return function(t){return e(t)}},Br="object"==typeof exports&&exports&&!exports.nodeType&&exports,zr=Br&&"object"==typeof module&&module&&!module.nodeType&&module,qr=zr&&zr.exports===Br&&at.process,Kr=function(){try{var e=zr&&zr.require&&zr.require("util").types;return e||qr&&qr.binding&&qr.binding("util")}catch(t){}}(),Gr=Kr&&Kr.isTypedArray,Hr=Gr?Vr(Gr):jr,Wr=Object.prototype.hasOwnProperty;var Qr=function(e,t){var n=Nn(e),r=!n&&Nr(e),i=!n&&!r&&Or(e),a=!n&&!r&&!i&&Hr(e),o=n||r||i||a,u=o?xr(e.length,String):[],s=u.length;for(var c in e)!t&&!Wr.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Mr(c,s))||u.push(c);return u},$r=Object.prototype;var Yr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$r)},Xr=An(Object.keys,Object),Jr=Object.prototype.hasOwnProperty;var Zr=function(e){if(!Yr(e))return Xr(e);var t=[];for(var n in Object(e))Jr.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ei=function(e){return null!=e&&Fr(e.length)&&!kt(e)};var ti=function(e){return ei(e)?Qr(e):Zr(e)};var ni=function(e){return yr(e,ti,_r)},ri=Object.prototype.hasOwnProperty;var ii=function(e,t,n,r,i,a){var o=1&n,u=ni(e),s=u.length;if(s!=ni(t).length&&!o)return!1;for(var c=s;c--;){var l=u[c];if(!(o?l in t:ri.call(t,l)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var d=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<s;){var v=e[l=u[c]],m=t[l];if(r)var y=o?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(void 0===y?v===m||i(v,m,n,r,a):y)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=e.constructor,k=t.constructor;g==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof k&&k instanceof k||(d=!1)}return a.delete(e),a.delete(t),d},ai=Dt(ut,"DataView"),oi=Dt(ut,"Promise"),ui=Dt(ut,"WeakMap"),si="[object Map]",ci="[object Promise]",li="[object Set]",fi="[object WeakMap]",hi="[object DataView]",di=It(ai),pi=It(en),vi=It(oi),mi=It(_n),yi=It(ui),gi=yt;(ai&&gi(new ai(new ArrayBuffer(1)))!=hi||en&&gi(new en)!=si||oi&&gi(oi.resolve())!=ci||_n&&gi(new _n)!=li||ui&&gi(new ui)!=fi)&&(gi=function(e){var t=yt(e),n="[object Object]"==t?e.constructor:void 0,r=n?It(n):"";if(r)switch(r){case di:return hi;case pi:return si;case vi:return ci;case mi:return li;case yi:return fi}return t});var ki=gi,bi="[object Arguments]",wi="[object Array]",_i="[object Object]",xi=Object.prototype.hasOwnProperty;var Ii=function(e,t,n,r,i,a){var o=Nn(e),u=Nn(t),s=o?wi:ki(e),c=u?wi:ki(t),l=(s=s==bi?_i:s)==_i,f=(c=c==bi?_i:c)==_i,h=s==c;if(h&&Or(e)){if(!Or(t))return!1;o=!0,l=!1}if(h&&!l)return a||(a=new sr),o||Hr(e)?lr(e,t,n,r,i,a):vr(e,t,s,n,r,i,a);if(!(1&n)){var d=l&&xi.call(e,"__wrapped__"),p=f&&xi.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return a||(a=new sr),i(v,m,n,r,a)}}return!!h&&(a||(a=new sr),ii(e,t,n,r,i,a))};var Ei=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Pn(t)&&!Pn(n)?t!==t&&n!==n:Ii(t,n,r,i,e,a))};var Ti=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var u=n[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var s=(u=n[i])[0],c=e[s],l=u[1];if(o&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new sr;if(r)var h=r(c,l,s,e,t,f);if(!(void 0===h?Ei(l,c,3,r,f):h))return!1}}return!0};var Si=function(e){return e===e&&!gt(e)};var Ci=function(e){for(var t=ti(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Si(i)]}return t};var Ni=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Ai=function(e){var t=Ci(e);return 1==t.length&&t[0][2]?Ni(t[0][0],t[0][1]):function(n){return n===e||Ti(n,e,t)}};var Ri=function(e){return"symbol"==typeof e||Pn(e)&&"[object Symbol]"==yt(e)},Pi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Di=/^\w*$/;var Oi=function(e,t){if(Nn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ri(e))||(Di.test(e)||!Pi.test(e)||null!=t&&e in Object(t))};function Li(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Li.Cache||ln),n}Li.Cache=ln;var Mi=Li;var Fi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ui=/\\(\\)?/g,ji=function(e){var t=Mi(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Fi,(function(e,n,r,i){t.push(r?i.replace(Ui,"$1"):n||e)})),t})),Vi=st?st.prototype:void 0,Bi=Vi?Vi.toString:void 0;var zi=function e(t){if("string"==typeof t)return t;if(Nn(t))return tr(t,e)+"";if(Ri(t))return Bi?Bi.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var qi=function(e){return null==e?"":zi(e)};var Ki=function(e,t){return Nn(e)?e:Oi(e,t)?[e]:ji(qi(e))};var Gi=function(e){if("string"==typeof e||Ri(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Hi=function(e,t){for(var n=0,r=(t=Ki(t,e)).length;null!=e&&n<r;)e=e[Gi(t[n++])];return n&&n==r?e:void 0};var Wi=function(e,t,n){var r=null==e?void 0:Hi(e,t);return void 0===r?n:r};var Qi=function(e,t){return null!=e&&t in Object(e)};var $i=function(e,t,n){for(var r=-1,i=(t=Ki(t,e)).length,a=!1;++r<i;){var o=Gi(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Fr(i)&&Mr(o,i)&&(Nn(e)||Nr(e))};var Yi=function(e,t){return null!=e&&$i(e,t,Qi)};var Xi=function(e,t){return Oi(e)&&Si(t)?Ni(Gi(e),t):function(n){var r=Wi(n,e);return void 0===r&&r===t?Yi(n,e):Ei(t,r,3)}};var Ji=function(e){return e};var Zi=function(e){return function(t){return null==t?void 0:t[e]}};var ea=function(e){return function(t){return Hi(t,e)}};var ta=function(e){return Oi(e)?Zi(Gi(e)):ea(e)};var na=function(e){return"function"==typeof e?e:null==e?Ji:"object"==typeof e?Nn(e)?Xi(e[0],e[1]):Ai(e):ta(e)};var ra=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}();var ia=function(e,t){return function(n,r){if(null==n)return n;if(!ei(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function(e,t){return e&&ra(e,t,ti)}));var aa=function(e,t){var n=-1,r=ei(e)?Array(e.length):[];return ia(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var oa=function(e,t){return(Nn(e)?tr:aa)(e,na(t,3))};var ua=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var sa=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var ca=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var la=function(e,t){return t.length<2?e:Hi(e,ca(t,0,-1))};var fa=function(e,t,n){t=Ki(t,e);var r=null==(e=la(e,t))?e:e[Gi(sa(t))];return null==r?void 0:ua(r,e,n)},ha=Math.max;var da=function(e,t,n){return t=ha(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=ha(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(o),ua(e,this,u)}};var pa=function(e){return function(){return e}},va=function(){try{var e=Dt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),ma=va?function(e,t){return va(e,"toString",{configurable:!0,enumerable:!1,value:pa(t),writable:!0})}:Ji,ya=Date.now;var ga=function(e){var t=0,n=0;return function(){var r=ya(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},ka=ga(ma);var ba=function(e,t){return ka(da(e,t,Ji),e+"")},wa=ba(fa);var _a=function(e,t){var n;return ia(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};var xa=function(e,t,n){if(!gt(n))return!1;var r=typeof t;return!!("number"==r?ei(n)&&Mr(t,n.length):"string"==r&&t in n)&&Gt(n[t],e)};var Ia=function(e,t,n){var r=Nn(e)?cr:_a;return n&&xa(e,t,n)&&(t=void 0),r(e,na(t,3))},Ea=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};var Ta=function(e){return void 0===e},Sa=function(e,t,n,r){void 0===r&&(r=!1);var i,a=t[e];if(void 0!==a)return a;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var u=n[e];if(void 0!==u)return u}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)},Ca=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,o=a.autoControlledProps,u=a.getAutoControlledStateFromProps,s=wa(w(t),"getInitialAutoControlledState",t.props)||{},c=o.reduce((function(e,n){return e[n]=Sa(n,t.props,s,!0),e}),{});return t.state=Ge({},s,c,{autoControlledProps:o,getAutoControlledStateFromProps:u}),t}return er(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!Ta(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,Ge({},t,i),t);return Ge({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(r.Component);function Na(e){var t=e.children,n=e.className,i=e.content,a=We("header",n),o=rt(Na,e),u=it(Na,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}Na.handledProps=["as","children","className","content"],Na.propTypes={};var Aa=Na;var Ra=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var Pa=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Da=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oa=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var La=function(e){return(e=qi(e))&&e.replace(Da,Pa).replace(Oa,"")},Ma=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Fa=function(e){return e.match(Ma)||[]},Ua=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ja=function(e){return Ua.test(e)},Va="\\u2700-\\u27bf",Ba="a-z\\xdf-\\xf6\\xf8-\\xff",za="A-Z\\xc0-\\xd6\\xd8-\\xde",qa="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ka="["+qa+"]",Ga="\\d+",Ha="[\\u2700-\\u27bf]",Wa="["+Ba+"]",Qa="[^\\ud800-\\udfff"+qa+Ga+Va+Ba+za+"]",$a="(?:\\ud83c[\\udde6-\\uddff]){2}",Ya="[\\ud800-\\udbff][\\udc00-\\udfff]",Xa="["+za+"]",Ja="(?:"+Wa+"|"+Qa+")",Za="(?:"+Xa+"|"+Qa+")",eo="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",to="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",no="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ro="[\\ufe0e\\ufe0f]?",io=ro+no+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",$a,Ya].join("|")+")"+ro+no+")*"),ao="(?:"+[Ha,$a,Ya].join("|")+")"+io,oo=RegExp([Xa+"?"+Wa+"+"+eo+"(?="+[Ka,Xa,"$"].join("|")+")",Za+"+"+to+"(?="+[Ka,Xa+Ja,"$"].join("|")+")",Xa+"?"+Ja+"+"+eo,Xa+"+"+to,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ga,ao].join("|"),"g");var uo=function(e){return e.match(oo)||[]};var so=function(e,t,n){return e=qi(e),void 0===(t=n?void 0:t)?ja(e)?uo(e):Fa(e):e.match(t)||[]},co=RegExp("['\u2019]","g");var lo=function(e){return function(t){return Ra(so(La(t).replace(co,"")),e,"")}};var fo=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:ca(e,t,n)},ho=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var po=function(e){return ho.test(e)};var vo=function(e){return e.split("")},mo="[\\ud800-\\udfff]",yo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",go="[^\\ud800-\\udfff]",ko="(?:\\ud83c[\\udde6-\\uddff]){2}",bo="[\\ud800-\\udbff][\\udc00-\\udfff]",wo="(?:"+yo+"|"+"\\ud83c[\\udffb-\\udfff])"+"?",_o="[\\ufe0e\\ufe0f]?",xo=_o+wo+("(?:\\u200d(?:"+[go,ko,bo].join("|")+")"+_o+wo+")*"),Io="(?:"+[go+yo+"?",yo,ko,bo,mo].join("|")+")",Eo=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Io+xo,"g");var To=function(e){return e.match(Eo)||[]};var So=function(e){return po(e)?To(e):vo(e)};var Co=function(e){return function(t){t=qi(t);var n=po(t)?So(t):void 0,r=n?n[0]:t.charAt(0),i=n?fo(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"),No=lo((function(e,t,n){return e+(n?" ":"")+Co(t)}));function Ao(e){var t=e.children,n=e.className,i=e.content,a=e.size,o=We(a,"icons",n),u=rt(Ao,e),s=it(Ao,e);return r.createElement(s,Ge({},u,{className:o}),Ea(t)?i:t)}Ao.handledProps=["as","children","className","content","size"],Ao.propTypes={},Ao.defaultProps={as:"i"};var Ro=Ao,Po=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():wa(t.props,"onClick",e,t.props)},t}er(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return zn(n)?e["aria-hidden"]="true":e["aria-label"]=n,zn(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,i=e.circular,a=e.className,o=e.color,u=e.corner,s=e.disabled,c=e.fitted,l=e.flipped,f=e.inverted,h=e.link,d=e.loading,p=e.name,v=e.rotated,m=e.size,y=We(o,p,m,Ye(n,"bordered"),Ye(i,"circular"),Ye(s,"disabled"),Ye(c,"fitted"),Ye(f,"inverted"),Ye(h,"link"),Ye(d,"loading"),Je(u,"corner"),Xe(l,"flipped"),Xe(v,"rotated"),"icon",a),g=rt(t,this.props),k=it(t,this.props),b=this.getIconAriaOptions();return r.createElement(k,Ge({},g,b,{className:y,onClick:this.handleClick}))},t}(r.PureComponent);Po.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],Po.propTypes={},Po.defaultProps={as:"i"},Po.Group=Ro,Po.create=Kn(Po,(function(e){return{name:e}}));var Do=Po,Oo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||wa(t.props,"onClick",e,t.props)},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,o=e.color,u=e.content,s=e.disabled,c=e.fitted,l=e.header,f=e.icon,h=e.link,d=e.name,p=e.onClick,v=e.position,m=We(o,v,Ye(n,"active"),Ye(s,"disabled"),Ye(!0===f||f&&!(d||u),"icon"),Ye(l,"header"),Ye(h,"link"),Je(c,"fitted"),"item",a),y=it(t,this.props,(function(){if(p)return"a"})),g=rt(t,this.props);return Ea(i)?r.createElement(y,Ge({},g,{className:m,onClick:this.handleClick}),Do.create(f,{autoGenerateKey:!1}),Ea(u)?No(d):u):r.createElement(y,Ge({},g,{className:m,onClick:this.handleClick}),i)},t}(r.Component);function Lo(e){var t=e.children,n=e.className,i=e.content,a=e.position,o=We(a,"menu",n),u=rt(Lo,e),s=it(Lo,e);return r.createElement(s,Ge({},u,{className:o}),Ea(t)?i:t)}Oo.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],Oo.propTypes={},Oo.create=Kn(Oo,(function(e){return{content:e,name:e}})),Lo.handledProps=["as","children","className","content","position"],Lo.propTypes={};var Mo=Lo,Fo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),wa(e,"onClick",n,r),wa(t.props,"onItemClick",n,r)}}},t}er(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return oa(t,(function(t,r){return Oo.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,i=e.borderless,a=e.children,o=e.className,u=e.color,s=e.compact,c=e.fixed,l=e.floated,f=e.fluid,h=e.icon,d=e.inverted,p=e.pagination,v=e.pointing,m=e.secondary,y=e.size,g=e.stackable,k=e.tabular,b=e.text,w=e.vertical,_=e.widths,x=We("ui",u,y,Ye(i,"borderless"),Ye(s,"compact"),Ye(f,"fluid"),Ye(d,"inverted"),Ye(p,"pagination"),Ye(v,"pointing"),Ye(m,"secondary"),Ye(g,"stackable"),Ye(b,"text"),Ye(w,"vertical"),Je(n,"attached"),Je(l,"floated"),Je(h,"icon"),Je(k,"tabular"),Xe(c,"fixed"),nt(_,"item"),o,"menu"),I=rt(t,this.props),E=it(t,this.props);return r.createElement(E,Ge({},I,{className:x}),Ea(a)?this.renderItems():a)},t}(Ca);Fo.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],Fo.propTypes={},Fo.autoControlledProps=["activeIndex"],Fo.Header=Aa,Fo.Item=Oo,Fo.Menu=Mo,Fo.create=Kn(Fo,(function(e){return{items:e}}));var Uo=Fo;var jo=n(33),Vo=n(164),Bo=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)};var zo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}er(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Vo.findDOMNode(this);this.prevNode=e,Bo(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=Vo.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,Bo(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&Bo(this.props.innerRef,t)},n.componentWillUnmount=function(){Bo(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(r.Component),qo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;Bo(r.ref,e),Bo(i,e),t.currentNode=e},t}er(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&Bo(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return r.cloneElement(e,{ref:this.handleRefOverride})},t}(r.Component),Ko=["children","innerRef"],Go=function(e){var t=e.children,n=e.innerRef,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ko),a=r.Children.only(t),o=jo.isForwardRef(a)?qo:zo,u=a&&i&&Object.keys(i).length>0?r.cloneElement(a,i):a;return r.createElement(o,{innerRef:n},u)},Ho=/\s/;var Wo=function(e){for(var t=e.length;t--&&Ho.test(e.charAt(t)););return t},Qo=/^\s+/;var $o=function(e){return e?e.slice(0,Wo(e)+1).replace(Qo,""):e},Yo=/^[-+]0x[0-9a-f]+$/i,Xo=/^0b[01]+$/i,Jo=/^0o[0-7]+$/i,Zo=parseInt;var eu=function(e){if("number"==typeof e)return e;if(Ri(e))return NaN;if(gt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=gt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$o(e);var n=Xo.test(e);return n||Jo.test(e)?Zo(e.slice(2),n?2:8):Yo.test(e)?NaN:+e},tu=1/0;var nu=function(e){return e?(e=eu(e))===tu||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var ru=function(e){var t=nu(e),n=t%1;return t===t?n?t-n:t:0};var iu=function(e,t){return tr(t,(function(t){return e[t]}))};var au=function(e){return null==e?[]:iu(e,ti(e))},ou=Math.max;var uu=function(e,t,n,r){e=ei(e)?e:au(e),n=n&&!r?ru(n):0;var i=e.length;return n<0&&(n=ou(i+n,0)),Vn(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&gn(e,t,n)>-1};var su=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var cu=function(e){return"function"==typeof e?e:Ji};var lu=function(e,t){return(Nn(e)?su:ia)(e,cu(t))},fu=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],hu=[].concat(fu,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),du=["alt","height","src","srcSet","width","loading"],pu=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?hu:r,a=n.includeAria,o=void 0===a||a,u={},s={};return lu(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(uu(i,t)||n?u:s)[t]=e})),[u,s]},vu="object"===typeof document&&null!==document,mu="object"===typeof window&&null!==window&&window.self===window,yu=function e(){return zn(e.override)?vu&&mu:e.override},gu=n(775),ku=n.n(gu),bu=n(854),wu=n.n(bu),_u=Math.max,xu=Math.min;var Iu=function(e,t,n){return e>=xu(t,n)&&e<_u(t,n)};var Eu=function(e,t,n){return t=nu(t),void 0===n?(n=t,t=0):n=nu(n),e=eu(e),Iu(e,t,n)};var Tu=function(e){return e&&e.length?e[0]:void 0},Su=function(e,t){if(Ia([t,e],zn))return!1;if(t.target&&(wa(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return wa(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(Ia([n,r],zn))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var a=Tu(i),o=a.top,u=a.bottom,s=a.left,c=a.right;return!Ia([o,u,s,c],zn)&&(Eu(r,o,u+.001)&&Eu(n,s,c+.001))},Cu=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){Bo(t.props.innerRef,e)},t}er(t,e);var n=t.prototype;return n.componentDidMount=function(){wa(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){wa(this.props,"onUnmount",null,this.props)},n.render=function(){if(!yu())return null;var e=this.props,t=e.children,n=e.mountNode,i=void 0===n?document.body:n;return(0,Vo.createPortal)(r.createElement(Go,{innerRef:this.handleRef},t),i)},t}(r.Component);Cu.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],Cu.propTypes={};var Nu=Cu,Au=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).contentRef=r.createRef(),t.triggerRef=r.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||Su(t.triggerRef.current,e)||r&&Su(t.contentRef.current,r)||Su(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&wu().getCode(e)===wu().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];wa.apply(void 0,[r,"props.onBlur",e].concat(o));var s=e.relatedTarget||document.activeElement,c=wa(t.contentRef.current,"contains",s);i&&!c&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,a=n.openOnTriggerClick,o=t.state.open,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];wa.apply(void 0,[r,"props.onClick",e].concat(s)),o&&i?t.close(e):!o&&a&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];wa.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,a=n.mouseLeaveDelay,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];wa.apply(void 0,[r,"props.onMouseLeave",e].concat(u)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,a))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,a=n.openOnTriggerMouseEnter,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];wa.apply(void 0,[r,"props.onMouseEnter",e].concat(u)),a&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){wa(t.props,"onOpen",e,Ge({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=Ge({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),wa(t.props,"onClose",e,Ge({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=Ge({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){wa(t.props,"onMount",null,t.props)},t.handleUnmount=function(){wa(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,Bo(t.props.triggerRef,e)},t}er(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,i=e.mountNode,a=e.trigger,o=this.state.open;return r.createElement(r.Fragment,null,o&&r.createElement(r.Fragment,null,r.createElement(Nu,{innerRef:this.contentRef,mountNode:i,onMount:this.handleMount,onUnmount:this.handleUnmount},t),r.createElement(ku(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),r.createElement(ku(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),r.createElement(ku(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),r.createElement(ku(),{name:"click",on:this.handleDocumentClick,pool:n}),r.createElement(ku(),{name:"keydown",on:this.handleEscape,pool:n})),a&&r.createElement(Go,{innerRef:this.handleTriggerRef},r.cloneElement(a,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(Ca);Au.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],Au.propTypes={},Au.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},Au.autoControlledProps=["open"],Au.Inner=Nu;var Ru=Au;function Pu(e){var t=e.blurring,n=e.className,i=e.children,a=e.content,o=e.dimmed,u=We(Ye(t,"blurring"),Ye(o,"dimmed"),"dimmable",n),s=rt(Pu,e),c=it(Pu,e);return r.createElement(c,Ge({},s,{className:u}),Ea(i)?a:i)}Pu.handledProps=["as","blurring","children","className","content","dimmed"],Pu.propTypes={};var Du=Pu,Ou=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).containerRef=(0,r.createRef)(),t.contentRef=(0,r.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;wa(t.props,"onClick",e,t.props),n&&n!==e.target&&Su(n,e)||wa(t.props,"onClickOutside",e,t.props)},t}er(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,o=e.content,u=e.disabled,s=e.inverted,c=e.page,l=e.simple,f=e.verticalAlign,h=We("ui",Ye(n,"active transition visible"),Ye(u,"disabled"),Ye(s,"inverted"),Ye(c,"page"),Ye(l,"simple"),tt(f),"dimmer",a),d=rt(t,this.props),p=it(t,this.props),v=Ea(i)?o:i;return r.createElement(Go,{innerRef:this.containerRef},r.createElement(p,Ge({},d,{className:h,onClick:this.handleClick}),v&&r.createElement("div",{className:"content",ref:this.contentRef},v)))},t}(r.Component);Ou.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],Ou.propTypes={};var Lu=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){yu()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){yu()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.page,a=rt(t,this.props);return i?r.createElement(Ru,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},r.createElement(Ou,Ge({},a,{active:n,page:i}))):r.createElement(Ou,Ge({},a,{active:n,page:i}))},t}(r.Component);function Mu(e){var t=e.children,n=e.className,i=e.content,a=e.size,o=We("ui",a,n,"images"),u=rt(Mu,e),s=it(Mu,e);return r.createElement(s,Ge({},u,{className:o}),Ea(t)?i:t)}Lu.handledProps=["active","page"],Lu.propTypes={},Lu.Dimmable=Du,Lu.Inner=Ou,Lu.create=Kn(Lu,(function(e){return{content:e}})),Mu.handledProps=["as","children","className","content","size"],Mu.propTypes={};var Fu=Mu;function Uu(e){var t=e.avatar,n=e.bordered,i=e.centered,a=e.children,o=e.circular,u=e.className,s=e.content,c=e.dimmer,l=e.disabled,f=e.floated,h=e.fluid,d=e.hidden,p=e.href,v=e.inline,m=e.label,y=e.rounded,g=e.size,k=e.spaced,b=e.verticalAlign,w=e.wrapped,_=e.ui,x=We(Ye(_,"ui"),g,Ye(t,"avatar"),Ye(n,"bordered"),Ye(o,"circular"),Ye(i,"centered"),Ye(l,"disabled"),Ye(h,"fluid"),Ye(d,"hidden"),Ye(v,"inline"),Ye(y,"rounded"),Je(k,"spaced"),Xe(f,"floated"),tt(b),"image",u),I=rt(Uu,e),E=pu(I,{htmlProps:du}),T=E[0],S=E[1],C=it(Uu,e,(function(){if(!zn(c)||!zn(m)||!zn(w)||!Ea(a))return"div"}));return Ea(a)?Ea(s)?"img"===C?r.createElement(C,Ge({},S,T,{className:x})):r.createElement(C,Ge({},S,{className:x,href:p}),Lu.create(c,{autoGenerateKey:!1}),Ku.create(m,{autoGenerateKey:!1}),r.createElement("img",T)):r.createElement(C,Ge({},I,{className:x}),s):r.createElement(C,Ge({},I,{className:x}),a)}Uu.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],Uu.Group=Fu,Uu.propTypes={},Uu.defaultProps={as:"img",ui:!0},Uu.create=Kn(Uu,(function(e){return{src:e}}));var ju=Uu;function Vu(e){var t=e.children,n=e.className,i=e.content,a=We("detail",n),o=rt(Vu,e),u=it(Vu,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}Vu.handledProps=["as","children","className","content"],Vu.propTypes={},Vu.create=Kn(Vu,(function(e){return{content:e}}));var Bu=Vu;function zu(e){var t=e.children,n=e.circular,i=e.className,a=e.color,o=e.content,u=e.size,s=e.tag,c=We("ui",a,u,Ye(n,"circular"),Ye(s,"tag"),"labels",i),l=rt(zu,e),f=it(zu,e);return r.createElement(f,Ge({},l,{className:c}),Ea(t)?o:t)}zu.handledProps=["as","children","circular","className","color","content","size","tag"],zu.propTypes={};var qu=zu,Ku=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){wa(e,"onClick",n),wa(t.props,"onRemove",n,t.props)}}},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.attached,a=e.basic,o=e.children,u=e.circular,s=e.className,c=e.color,l=e.content,f=e.corner,h=e.detail,d=e.empty,p=e.floating,v=e.horizontal,m=e.icon,y=e.image,g=e.onRemove,k=e.pointing,b=e.prompt,w=e.removeIcon,_=e.ribbon,x=e.size,I=e.tag,E=We("ui",c,(!0===k?"pointing":("left"===k||"right"===k)&&k+" pointing")||("above"===k||"below"===k)&&"pointing "+k,x,Ye(n,"active"),Ye(a,"basic"),Ye(u,"circular"),Ye(d,"empty"),Ye(p,"floating"),Ye(v,"horizontal"),Ye(!0===y,"image"),Ye(b,"prompt"),Ye(I,"tag"),Je(f,"corner"),Je(_,"ribbon"),Xe(i,"attached"),"label",s),T=rt(t,this.props),S=it(t,this.props);if(!Ea(o))return r.createElement(S,Ge({},T,{className:E,onClick:this.handleClick}),o);var C=Ta(w)?"delete":w;return r.createElement(S,Ge({className:E,onClick:this.handleClick},T),Do.create(m,{autoGenerateKey:!1}),"boolean"!==typeof y&&ju.create(y,{autoGenerateKey:!1}),l,Bu.create(h,{autoGenerateKey:!1}),g&&Do.create(C,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(r.Component);function Gu(e){var t=e.children,n=e.className,i=e.content,a=e.hidden,o=e.visible,u=We(Ye(o,"visible"),Ye(a,"hidden"),"content",n),s=rt(Gu,e),c=it(Gu,e);return r.createElement(c,Ge({},s,{className:u}),Ea(t)?i:t)}Ku.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],Ku.propTypes={},Ku.Detail=Bu,Ku.Group=qu,Ku.create=Kn(Ku,(function(e){return{content:e}})),Gu.handledProps=["as","children","className","content","hidden","visible"],Gu.propTypes={};var Hu=Gu;function Wu(e){var t=e.attached,n=e.basic,i=e.buttons,a=e.children,o=e.className,u=e.color,s=e.compact,c=e.content,l=e.floated,f=e.fluid,h=e.icon,d=e.inverted,p=e.labeled,v=e.negative,m=e.positive,y=e.primary,g=e.secondary,k=e.size,b=e.toggle,w=e.vertical,_=e.widths,x=We("ui",u,k,Ye(n,"basic"),Ye(s,"compact"),Ye(f,"fluid"),Ye(h,"icon"),Ye(d,"inverted"),Ye(p,"labeled"),Ye(v,"negative"),Ye(m,"positive"),Ye(y,"primary"),Ye(g,"secondary"),Ye(b,"toggle"),Ye(w,"vertical"),Je(t,"attached"),Xe(l,"floated"),nt(_),"buttons",o),I=rt(Wu,e),E=it(Wu,e);return zn(i)?r.createElement(E,Ge({},I,{className:x}),Ea(a)?c:a):r.createElement(E,Ge({},I,{className:x}),oa(i,(function(e){return Ju.create(e)})))}Wu.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],Wu.propTypes={};var Qu=Wu;function $u(e){var t=e.className,n=e.text,i=We("or",t),a=rt($u,e),o=it($u,e);return r.createElement(o,Ge({},a,{className:i,"data-text":n}))}$u.handledProps=["as","className","text"],$u.propTypes={};var Yu=$u,Xu=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!zn(n)||!zn(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return zn(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(){return wa(t.ref.current,"focus")},t.handleClick=function(e){t.props.disabled?e.preventDefault():wa(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,a=e.icon;return!0===a||a&&(n||Ea(r)&&zn(i))},t}er(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return zn(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,i=e.animated,a=e.attached,o=e.basic,u=e.children,s=e.circular,c=e.className,l=e.color,f=e.compact,h=e.content,d=e.disabled,p=e.floated,v=e.fluid,m=e.icon,y=e.inverted,g=e.label,k=e.labelPosition,b=e.loading,w=e.negative,_=e.positive,x=e.primary,I=e.secondary,E=e.size,T=e.toggle,S=e.type,C=We(l,E,Ye(n,"active"),Ye(o,"basic"),Ye(s,"circular"),Ye(f,"compact"),Ye(v,"fluid"),Ye(this.hasIconClass(),"icon"),Ye(y,"inverted"),Ye(b,"loading"),Ye(w,"negative"),Ye(_,"positive"),Ye(x,"primary"),Ye(I,"secondary"),Ye(T,"toggle"),Je(i,"animated"),Je(a,"attached")),N=We(Je(k||!!g,"labeled")),A=We(Ye(d,"disabled"),Xe(p,"floated")),R=rt(t,this.props),P=it(t,this.props,this.computeElementType),D=this.computeTabIndex(P);if(!zn(g)){var O=We("ui",C,"button",c),L=We("ui",N,"button",c,A),M=Ku.create(g,{defaultProps:{basic:!0,pointing:"left"===k?"right":"left"},autoGenerateKey:!1});return r.createElement(P,Ge({},R,{className:L,onClick:this.handleClick}),"left"===k&&M,r.createElement(Go,{innerRef:this.ref},r.createElement("button",{className:O,"aria-pressed":T?!!n:void 0,disabled:d,type:S,tabIndex:D},Do.create(m,{autoGenerateKey:!1})," ",h)),("right"===k||!k)&&M)}var F=We("ui",C,A,N,"button",c),U=!Ea(u),j=this.computeButtonAriaRole(P);return r.createElement(Go,{innerRef:this.ref},r.createElement(P,Ge({},R,{className:F,"aria-pressed":T?!!n:void 0,disabled:d&&"button"===P||void 0,onClick:this.handleClick,role:j,type:S,tabIndex:D}),U&&u,!U&&Do.create(m,{autoGenerateKey:!1}),!U&&h))},t}(r.Component);Xu.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Xu.propTypes={},Xu.defaultProps={as:"button"},Xu.Content=Hu,Xu.Group=Qu,Xu.Or=Yu,Xu.create=Kn(Xu,(function(e){return{content:e}}));var Ju=Xu;var Zu=function(e,t,n){"__proto__"==t&&va?va(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},es=Object.prototype.hasOwnProperty;var ts=function(e,t,n){var r=e[t];es.call(e,t)&&Gt(r,n)&&(void 0!==n||t in e)||Zu(e,t,n)};var ns=function(e,t,n,r){if(!gt(e))return e;for(var i=-1,a=(t=Ki(t,e)).length,o=a-1,u=e;null!=u&&++i<a;){var s=Gi(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=gt(l)?l:Mr(t[i+1])?[]:{})}ts(u,s,c),u=u[s]}return e};var rs=function(e,t,n){return null==e?e:ns(e,t,n)},is=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).inputRef=(0,r.createRef)(),t.labelRef=(0,r.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,a=t.state.checked;return!n&&!i&&!(r&&a)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return zn(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,a=r.indeterminate,o=wa(t.inputRef.current,"contains",e.target),u=wa(t.labelRef.current,"contains",e.target),s=!u&&!o,c=!zn(n);u&&c||wa(t.props,"onClick",e,Ge({},t.props,{checked:!i,indeterminate:!!a})),t.isClickFromMouse&&(t.isClickFromMouse=!1,u&&!c&&t.handleChange(e),s&&t.handleChange(e),u&&c&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(wa(t.props,"onChange",e,Ge({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;wa(t.props,"onMouseDown",e,Ge({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||wa(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,wa(t.props,"onMouseUp",e,Ge({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;rs(t.inputRef,"current.indeterminate",!!e)},t}er(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,i=e.disabled,a=e.label,o=e.id,u=e.name,s=e.radio,c=e.readOnly,l=e.slider,f=e.toggle,h=e.type,d=e.value,p=this.state,v=p.checked,m=p.indeterminate,y=We("ui",Ye(v,"checked"),Ye(i,"disabled"),Ye(m,"indeterminate"),Ye(zn(a),"fitted"),Ye(s,"radio"),Ye(c,"read-only"),Ye(l,"slider"),Ye(f,"toggle"),"checkbox",n),g=rt(t,this.props),k=it(t,this.props),b=pu(g,{htmlProps:fu}),w=b[0],_=b[1],x=Hn(a,{defaultProps:{htmlFor:o},autoGenerateKey:!1})||r.createElement("label",{htmlFor:o});return r.createElement(k,Ge({},_,{className:y,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),r.createElement(Go,{innerRef:this.inputRef},r.createElement("input",Ge({},w,{checked:v,className:"hidden",disabled:i,id:o,name:u,readOnly:!0,tabIndex:this.computeTabIndex(),type:h,value:d}))),r.createElement(Go,{innerRef:this.labelRef},x))},t}(Ca);function as(e){var t=e.slider,n=e.toggle,i=e.type,a=rt(as,e),o=!(t||n)||void 0;return r.createElement(is,Ge({},a,{type:i,radio:o,slider:t,toggle:n}))}is.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],is.propTypes={},is.defaultProps={type:"checkbox"},is.autoControlledProps=["checked","indeterminate"],as.handledProps=["slider","toggle","type"],as.propTypes={},as.defaultProps={type:"radio"};var os=as;function us(e){var t=e.children,n=e.className,i=e.content,a=e.control,o=e.disabled,u=e.error,s=e.inline,c=e.label,l=e.required,f=e.type,h=e.width,d=e.id,p=We(Ye(o,"disabled"),Ye(u,"error"),Ye(s,"inline"),Ye(l,"required"),nt(h,"wide"),"field",n),v=rt(us,e),m=it(us,e),y=Wi(u,"pointing","above"),g=Ku.create(u,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:y,id:d?d+"-error-message":void 0,role:"alert","aria-atomic":!0}}),k=("below"===y||"right"===y)&&g,b=("above"===y||"left"===y)&&g;if(zn(a))return zn(c)?r.createElement(m,Ge({},v,{className:p,id:d}),Ea(t)?i:t):r.createElement(m,Ge({},v,{className:p,id:d}),k,Hn(c,{autoGenerateKey:!1}),b);var w={"aria-describedby":d&&u?d+"-error-message":null,"aria-invalid":!!u||void 0},_=Ge({},v,{content:i,children:t,disabled:o,required:l,type:f,id:d});return"input"!==a||"checkbox"!==f&&"radio"!==f?a===is||a===os?r.createElement(m,{className:p},k,(0,r.createElement)(a,Ge({},w,_,{label:c})),b):r.createElement(m,{className:p},Hn(c,{defaultProps:{htmlFor:d},autoGenerateKey:!1}),k,(0,r.createElement)(a,Ge({},w,_)),b):r.createElement(m,{className:p},r.createElement("label",null,k,(0,r.createElement)(a,Ge({},w,_))," ",c,b))}us.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],us.propTypes={};var ss=us;function cs(e){var t=e.control,n=rt(cs,e),i=it(cs,e);return r.createElement(i,Ge({},n,{control:t}))}cs.handledProps=["as","control"],cs.propTypes={},cs.defaultProps={as:ss,control:Ju};var ls=cs;function fs(e){var t=e.control,n=rt(fs,e),i=it(fs,e);return r.createElement(i,Ge({},n,{control:t}))}fs.handledProps=["as","control"],fs.propTypes={},fs.defaultProps={as:ss,control:is};var hs=fs;var ds=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var ps=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var vs=function(e,t){var n=!0;return ia(e,(function(e,r,i){return n=!!t(e,r,i)})),n};var ms=function(e,t,n){var r=Nn(e)?ps:vs;return n&&xa(e,t,n)&&(t=void 0),r(e,na(t,3))};var ys=function(e,t,n,r){var i=-1,a=kn,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=tr(t,Vr(n))),r?(a=bn,o=!1):t.length>=200&&(a=wn,o=!1,t=new pn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s};var gs=function(e){return Pn(e)&&ei(e)},ks=ba((function(e,t){return gs(e)?ys(e,t):[]})),bs=ks;var ws=function(e){return function(t,n,r){var i=Object(t);if(!ei(t)){var a=na(n,3);t=ti(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},_s=Math.max;var xs=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=_s(r+i,0)),vn(e,na(t,3),i)},Is=ws(xs);var Es=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:ru(t),ca(e,0,(t=r-t)<0?0:t)):[]},Ts=Object.prototype.hasOwnProperty;var Ss=function(e){if(null==e)return!0;if(ei(e)&&(Nn(e)||"string"==typeof e||"function"==typeof e.splice||Or(e)||Hr(e)||Nr(e)))return!e.length;var t=ki(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Yr(e))return!Zr(e).length;for(var n in e)if(Ts.call(e,n))return!1;return!0},Cs=Zi("length"),Ns="[\\ud800-\\udfff]",As="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Rs="\\ud83c[\\udffb-\\udfff]",Ps="[^\\ud800-\\udfff]",Ds="(?:\\ud83c[\\udde6-\\uddff]){2}",Os="[\\ud800-\\udbff][\\udc00-\\udfff]",Ls="(?:"+As+"|"+Rs+")"+"?",Ms="[\\ufe0e\\ufe0f]?",Fs=Ms+Ls+("(?:\\u200d(?:"+[Ps,Ds,Os].join("|")+")"+Ms+Ls+")*"),Us="(?:"+[Ps+As+"?",As,Ds,Os,Ns].join("|")+")",js=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Us+Fs,"g");var Vs=function(e){for(var t=js.lastIndex=0;js.test(e);)++t;return t};var Bs=function(e){return po(e)?Vs(e):Cs(e)};var zs=function(e){if(null==e)return 0;if(ei(e))return Vn(e)?Bs(e):e.length;var t=ki(e);return"[object Map]"==t||"[object Set]"==t?e.size:Zr(e).length},qs=st?st.isConcatSpreadable:void 0;var Ks=function(e){return Nn(e)||Nr(e)||!!(qs&&e&&e[qs])};var Gs=function e(t,n,r,i,a){var o=-1,u=t.length;for(r||(r=Ks),a||(a=[]);++o<u;){var s=t[o];n>0&&r(s)?n>1?e(s,n-1,r,i,a):mr(a,s):i||(a[a.length]=s)}return a},Hs=ba((function(e,t){return gs(e)?ys(e,Gs(t,1,gs,!0)):[]})),Ws=Hs,Qs=ba((function(e){return Sn(Gs(e,1,gs,!0))}));var $s=function(e,t){return Ei(e,t)};var Ys=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Hi(e,o);n(u,o)&&ns(a,Ki(o,e),u)}return a};var Xs=function(e,t){return Ys(e,t,(function(t,n){return Yi(e,n)}))};var Js=function(e){return(null==e?0:e.length)?Gs(e,1):[]};var Zs=function(e){return ka(da(e,void 0,Js),e+"")}((function(e,t){return null==e?{}:Xs(e,t)})),ec=n(613),tc=n.n(ec),nc=function(e){function t(){return e.apply(this,arguments)||this}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.className,i=e.name,a=We(i,"flag",n),o=rt(t,this.props),u=it(t,this.props);return r.createElement(u,Ge({},o,{className:a}))},t}(r.PureComponent);nc.handledProps=["as","className","name"],nc.propTypes={},nc.defaultProps={as:"i"},nc.create=Kn(nc,(function(e){return{name:e}}));var rc=nc;function ic(e){var t=e.className,n=We("divider",t),i=rt(ic,e),a=it(ic,e);return r.createElement(a,Ge({},i,{className:n}))}ic.handledProps=["as","className"],ic.propTypes={};var ac=ic,oc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){wa(t.props,"onClick",e,t.props)},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,o=e.content,u=e.disabled,s=e.description,c=e.flag,l=e.icon,f=e.image,h=e.label,d=e.selected,p=e.text,v=We(Ye(n,"active"),Ye(u,"disabled"),Ye(d,"selected"),"item",a),m=zn(l)?function(e,t){return Ia(r.Children.toArray(e),{type:t})}(i,"DropdownMenu")&&"dropdown":l,y=rt(t,this.props),g=it(t,this.props),k={role:"option","aria-disabled":u,"aria-checked":n,"aria-selected":d};if(!Ea(i))return r.createElement(g,Ge({},y,k,{className:v,onClick:this.handleClick}),i);var b=rc.create(c,{autoGenerateKey:!1}),w=Do.create(m,{autoGenerateKey:!1}),_=ju.create(f,{autoGenerateKey:!1}),x=Ku.create(h,{autoGenerateKey:!1}),I=qn("span",(function(e){return{children:e}}),s,{defaultProps:{className:"description"},autoGenerateKey:!1}),E=qn("span",(function(e){return{children:e}}),Ea(o)?p:o,{defaultProps:{className:"text"},autoGenerateKey:!1});return r.createElement(g,Ge({},y,k,{className:v,onClick:this.handleClick}),_,w,b,x,I,E)},t}(r.Component);oc.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],oc.propTypes={},oc.create=Kn(oc,(function(e){return e}));var uc=oc;function sc(e){var t=e.children,n=e.className,i=e.content,a=e.icon,o=We("header",n),u=rt(sc,e),s=it(sc,e);return Ea(t)?r.createElement(s,Ge({},u,{className:o}),Do.create(a,{autoGenerateKey:!1}),i):r.createElement(s,Ge({},u,{className:o}),t)}sc.handledProps=["as","children","className","content","icon"],sc.propTypes={},sc.create=Kn(sc,(function(e){return{content:e}}));var cc=sc;function lc(e){var t=e.children,n=e.className,i=e.content,a=e.direction,o=e.open,u=e.scrolling,s=We(a,Ye(o,"visible"),Ye(u,"scrolling"),"menu transition",n),c=rt(lc,e),l=it(lc,e);return r.createElement(l,Ge({},c,{className:s}),Ea(t)?i:t)}lc.handledProps=["as","children","className","content","direction","open","scrolling"],lc.propTypes={};var fc=lc,hc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Wi(e,"target.value");wa(t.props,"onChange",e,Ge({},t.props,{value:n}))},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,i=e.className,a=e.tabIndex,o=e.type,u=e.value,s=We("search",i),c=rt(t,this.props);return r.createElement("input",Ge({},c,{"aria-autocomplete":"list",autoComplete:n,className:s,onChange:this.handleChange,tabIndex:a,type:o,value:u}))},t}(r.Component);hc.handledProps=["as","autoComplete","className","tabIndex","type","value"],hc.propTypes={},hc.defaultProps={autoComplete:"off",type:"text"},hc.create=Kn(hc,(function(e){return{type:e}}));var dc=hc;function pc(e){var t=e.children,n=e.className,i=e.content,a=We("divider",n),o=rt(pc,e),u=it(pc,e);return r.createElement(u,Ge({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:a}),Ea(t)?i:t)}pc.handledProps=["as","children","className","content"],pc.propTypes={},pc.create=Kn(pc,(function(e){return{content:e}}));var vc=pc,mc=/[\\^$.*+?()[\]{}|]/g,yc=RegExp(mc.source);var gc=function(e){return(e=qi(e))&&yc.test(e)?e.replace(mc,"\\$&"):e};var kc=function(e,t){var n=[];return ia(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var bc=function(e,t){return(Nn(e)?gr:kc)(e,na(t,3))};function wc(e){var t=e.additionLabel,n=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,u=e.options,s=e.search,c=e.searchQuery,l=e.value,f=u;if(o&&(f=bc(f,(function(e){return!uu(l,e.value)}))),s&&c)if(kt(s))f=s(f,c);else{var h=a?La(c):c,d=new RegExp(gc(h),"i");f=bc(f,(function(e){return d.test(a?La(e.text):e.text)}))}if(i&&s&&c&&!Ia(f,{text:c})){var p={key:"addition",text:[r.isValidElement(t)?r.cloneElement(t,{key:"addition-label"}):t||"",r.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===n?f.unshift(p):f.push(p)}return f}wc.handledProps=[];var _c=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var xc=function(e,t,n){var r=Nn(e)?Ra:_c,i=arguments.length<3;return r(e,na(t,4),n,i,ia)};function Ic(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,u=e.options,s=e.search,c=e.searchQuery,l=e.selectedIndex,f=e.value,h=wc({value:f,options:u,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:a,multiple:o,search:s}),d=xc(h,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!l||l<0){var p=d[0];t=o?p:xs(h,["value",f])||d[0]}else if(o)t=Is(d,(function(e){return e>=l})),l>=h.length-1&&(t=d[d.length-1]);else{var v=xs(h,["value",f]);t=uu(d,v)?v:void 0}return(!t||t<0)&&(t=d[0]),t}var Ec=function(e,t){return zn(e)?t:e},Tc=function(e){return e?e.map((function(e){return Zs(e,["key","value"])})):e};function Sc(e){var t=e.flag,n=e.image,i=e.text;return kt(i)?i:{content:r.createElement(r.Fragment,null,rc.create(t),ju.create(n),i)}}var Cc=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).searchRef=(0,r.createRef)(),t.sizerRef=(0,r.createRef)(),t.ref=(0,r.createRef)(),t.handleChange=function(e,n){wa(t.props,"onChange",e,Ge({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(Ta(r)?!i:r)&&t.close(e,xn)},t.closeOnEscape=function(e){t.props.closeOnEscape&&wu().getCode(e)===wu().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,a=r.selectOnNavigation;if(t.state.open){var o=((n={})[wu().ArrowDown]=1,n[wu().ArrowUp]=-1,n)[wu().getCode(e)];if(void 0!==o){e.preventDefault();var u=t.getSelectedIndexAfterMove(o);!i&&a&&t.makeSelectedItemActive(e,u),t.setState({selectedIndex:u})}}},t.openOnSpace=function(e){var n,r,i,a=t.state.focus&&!t.state.open&&wu().getCode(e)===wu().Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);a&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var a=wu().getCode(e);a!==wu().ArrowDown&&a!==wu().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,a=r.value,o=t.props.multiple,u=t.getSelectedItem(n),s=Wi(u,"value"),c=Wi(u,"disabled");if(zn(s)||!i||c)return a;var l=o?Qs(a,[s]):s;return(o?!!Ws(l,a).length:l!==a)&&(t.setState({value:l}),t.handleChange(e,l),u["data-additional"]&&wa(t.props,"onAddItem",e,Ge({},t.props,{value:s}))),a},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,a=r.selectedIndex;if(i&&(wu().getCode(e)===wu().Enter||!n&&wu().getCode(e)===wu().Spacebar)){e.preventDefault();var o=zs(wc({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var u=t.makeSelectedItemActive(e,a);t.setState({selectedIndex:Ic({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:a,value:u,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&wa(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,a=t.state,o=a.searchQuery,u=a.value;if(wu().getCode(e)===wu().Backspace&&!o&&i&&r&&!Ss(u)){e.preventDefault();var s=Es(u);t.setState({value:s}),t.handleChange(e,s)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&Su(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,wa(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,a=t.state,o=a.open,u=a.searchQuery;if(wa(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);o?wa(t.searchRef.current,"focus"):u.length>=r||1===r?t.open(e):wa(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();wa(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,a=r.search,o=t.state.value,u=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var s=n["data-additional"],c=i?Qs(t.state.value,[u]):u;(i?!!Ws(c,o).length:c!==o)&&(t.setState({value:c}),t.handleChange(e,c)),t.clearSearchQuery(),wa(a?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),s&&wa(t.props,"onAddItem",e,Ge({},t.props,{value:u}))}},t.handleFocus=function(e){t.state.focus||(wa(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Wi(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,a=r.multiple,o=r.selectOnBlur;t.isMouseDown||(wa(t.props,"onBlur",e,t.props),o&&!a&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,a=t.state.open,o=r;wa(t.props,"onSearchChange",e,Ge({},t.props,{searchQuery:o})),t.setState({searchQuery:o,selectedIndex:0}),!a&&o.length>=i?t.open():a&&1!==i&&o.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),wa(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=wc({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Wi(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return Is(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,a=e.multiple,o={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=a),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),wa(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=bs(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=wc({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!ms(r,"disabled")){var i=r.length-1,a=n+e;return!t.props.wrapSelection&&(a>i||a<0)?a=n:a>i?a=0:a<0&&(a=i),r[a].disabled?t.getSelectedIndexAfterMove(e,a):a}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:We(n&&t.hasValue()&&"clear",e.className),onClick:function(n){wa(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return zn(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:zn(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){wa(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!Ss(n):!zn(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,a=n.top-r,o=i<0&&a>i;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,a=r.search;i||(a&&wa(t.searchRef.current,"focus"),wa(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(wa(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,a=n.search,o=n.text,u=t.state,s=u.searchQuery,c=u.selectedIndex,l=u.value,f=u.open,h=t.hasValue(),d=We(i&&!h&&"default","text",a&&s&&"filtered"),p=i;return o?p=o:f&&!r?e=t.getSelectedItem(c):h&&(e=t.getItemByValue(l)),vc.create(e?Sc(e):p,{defaultProps:{className:d}})},t.renderSearchInput=function(){var e=t.props,n=e.search,i=e.searchInput,a=t.state.searchQuery;return n&&r.createElement(Go,{innerRef:t.searchRef},dc.create(i,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:a},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,i=e.multiple;return n&&i&&r.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,a=i.selectedLabel,o=i.value;if(n&&!Ss(o)){var u=oa(o,t.getItemByValue);return oa(ds(u),(function(e,n){var i={active:e.value===a,as:"a",key:Ec(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return Ku.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,i=e.multiple,a=e.search,o=e.noResultsMessage,u=t.state,s=u.open,c=u.selectedIndex,l=u.value;if(n&&!s)return null;var f=wc({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==o&&a&&Ss(f))return r.createElement("div",{className:"message"},o);var h=i?function(e){return uu(l,e)}:function(e){return e===l};return oa(f,(function(e,n){return uc.create(Ge({active:h(e.value),selected:c===n},e,{key:Ec(e.key,e.value),style:Ge({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,i=e.direction,a=e.header,o=t.state.open,u=t.getDropdownMenuAriaOptions();if(!Ea(n)){var s=r.Children.only(n),c=We(i,Ye(o,"visible"),s.props.className);return(0,r.cloneElement)(s,Ge({className:c},u))}return r.createElement(fc,Ge({},u,{direction:i,open:o}),cc.create(a,{autoGenerateKey:!1}),t.renderOptions())},t}er(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!tc()(n.__value,t.value)||!$s(Tc(e.options),Tc(n.__options)))&&(r.selectedIndex=Ic({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!tc()(e,this.props)||!tc()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,a=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var u=!o||o&&1===i&&!this.state.open;a&&u&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,i=e.button,a=e.className,o=e.compact,u=e.disabled,s=e.error,c=e.fluid,l=e.floating,f=e.icon,h=e.inline,d=e.item,p=e.labeled,v=e.loading,m=e.multiple,y=e.pointing,g=e.search,k=e.selection,b=e.scrolling,w=e.simple,_=e.trigger,x=this.state,I=x.focus,E=x.open,T=x.upward,S=We("ui",Ye(E,"active visible"),Ye(u,"disabled"),Ye(s,"error"),Ye(v,"loading"),Ye(n,"basic"),Ye(i,"button"),Ye(o,"compact"),Ye(c,"fluid"),Ye(l,"floating"),Ye(h,"inline"),Ye(p,"labeled"),Ye(d,"item"),Ye(m,"multiple"),Ye(g,"search"),Ye(k,"selection"),Ye(w,"simple"),Ye(b,"scrolling"),Ye(T,"upward"),Je(y,"pointing"),"dropdown",a),C=rt(t,this.props),N=it(t,this.props),A=this.getDropdownAriaOptions(N,this.props);return r.createElement(Go,{innerRef:this.ref},r.createElement(N,Ge({},C,A,{className:S,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),_||this.renderText(),Do.create(f,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),E&&r.createElement(ku(),{name:"keydown",on:this.closeOnEscape}),E&&r.createElement(ku(),{name:"click",on:this.closeOnDocumentClick}),I&&r.createElement(ku(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(Ca);function Nc(e){var t=e.control,n=rt(Nc,e),i=it(Nc,e);return r.createElement(i,Ge({},n,{control:t}))}Cc.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],Cc.propTypes={},Cc.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:Sc,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},Cc.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],Cc.Divider=ac,Cc.Header=cc,Cc.Item=uc,Cc.Menu=fc,Cc.SearchInput=dc,Cc.Text=vc,Nc.handledProps=["as","control"],Nc.propTypes={},Nc.defaultProps={as:ss,control:Cc};var Ac=Nc;function Rc(e){var t=e.children,n=e.className,i=e.grouped,a=e.inline,o=e.unstackable,u=e.widths,s=We(Ye(i,"grouped"),Ye(a,"inline"),Ye(o,"unstackable"),nt(u,null,!0),"fields",n),c=rt(Rc,e),l=it(Rc,e);return r.createElement(l,Ge({},c,{className:s}),t)}Rc.handledProps=["as","children","className","grouped","inline","unstackable","widths"],Rc.propTypes={};var Pc=Rc,Dc=function(e){function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).inputRef=(0,r.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return zn(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return zn(r)?t?-1:void 0:r},n.focus=function(){return n.inputRef.current.focus()},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Wi(e,"target.value");wa(n.props,"onChange",e,Ge({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return Ge({},t,e.props,{ref:function(t){Bo(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,a=n.computeTabIndex(),o=rt(t,n.props),u=pu(o),s=u[0],c=u[1];return[Ge({},s,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),c]},n}return er(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.action,a=n.actionPosition,o=n.children,u=n.className,s=n.disabled,c=n.error,l=n.fluid,f=n.focus,h=n.icon,d=n.iconPosition,p=n.input,v=n.inverted,m=n.label,y=n.labelPosition,g=n.loading,k=n.size,b=n.transparent,w=n.type,_=We("ui",k,Ye(s,"disabled"),Ye(c,"error"),Ye(l,"fluid"),Ye(f,"focus"),Ye(v,"inverted"),Ye(g,"loading"),Ye(b,"transparent"),Xe(a,"action")||Ye(i,"action"),Xe(d,"icon")||Ye(h||g,"icon"),Xe(y,"labeled")||Ye(m,"labeled"),"input",u),x=it(t,this.props),I=this.partitionProps(),E=I[0],T=I[1];if(!Ea(o)){var S=oa(r.Children.toArray(o),(function(t){return"input"!==t.type?t:(0,r.cloneElement)(t,e.handleChildOverrides(t,E))}));return r.createElement(x,Ge({},T,{className:_}),S)}var C=Ju.create(i,{autoGenerateKey:!1}),N=Ku.create(m,{defaultProps:{className:We("label",uu(y,"corner")&&y)},autoGenerateKey:!1});return r.createElement(x,Ge({},T,{className:_}),"left"===a&&C,"right"!==y&&N,Gn(p||w,{defaultProps:E,autoGenerateKey:!1}),Do.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==a&&C,"right"===y&&N)},t}(r.Component);Dc.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Dc.propTypes={},Dc.defaultProps={type:"text"},Dc.create=Kn(Dc,(function(e){return{type:e}}));var Oc=Dc;function Lc(e){var t=e.control,n=rt(Lc,e),i=it(Lc,e);return r.createElement(i,Ge({},n,{control:t}))}Lc.handledProps=["as","control"],Lc.propTypes={},Lc.defaultProps={as:ss,control:Oc};var Mc=Lc;function Fc(e){var t=e.control,n=rt(Fc,e),i=it(Fc,e);return r.createElement(i,Ge({},n,{control:t}))}Fc.handledProps=["as","control"],Fc.propTypes={},Fc.defaultProps={as:ss,control:os};var Uc=Fc;function jc(e){return r.createElement(Cc,Ge({},e,{selection:!0}))}jc.handledProps=["options"],jc.propTypes={},jc.Divider=Cc.Divider,jc.Header=Cc.Header,jc.Item=Cc.Item,jc.Menu=Cc.Menu;var Vc=jc;function Bc(e){var t=e.control,n=e.options,i=rt(Bc,e),a=it(Bc,e);return r.createElement(a,Ge({},i,{control:t,options:n}))}Bc.handledProps=["as","control","options"],Bc.propTypes={},Bc.defaultProps={as:ss,control:Vc};var zc=Bc,qc=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Wi(e,"target.value");wa(t.props,"onChange",e,Ge({},t.props,{value:n}))},t.handleInput=function(e){var n=Wi(e,"target.value");wa(t.props,"onInput",e,Ge({},t.props,{value:n}))},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,i=e.value,a=rt(t,this.props),o=it(t,this.props);return r.createElement(Go,{innerRef:this.ref},r.createElement(o,Ge({},a,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:i})))},t}(r.Component);qc.handledProps=["as","onChange","onInput","rows","value"],qc.propTypes={},qc.defaultProps={as:"textarea",rows:3};var Kc=qc;function Gc(e){var t=e.control,n=rt(Gc,e),i=it(Gc,e);return r.createElement(i,Ge({},n,{control:t}))}Gc.handledProps=["as","control"],Gc.propTypes={},Gc.defaultProps={as:ss,control:Kc};var Hc=Gc,Wc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){var n=t.props.action;"string"!==typeof n&&wa(e,"preventDefault");for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];wa.apply(void 0,[t.props,"onSubmit",e,t.props].concat(i))},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.action,i=e.children,a=e.className,o=e.error,u=e.inverted,s=e.loading,c=e.reply,l=e.size,f=e.success,h=e.unstackable,d=e.warning,p=e.widths,v=We("ui",l,Ye(o,"error"),Ye(u,"inverted"),Ye(s,"loading"),Ye(c,"reply"),Ye(f,"success"),Ye(h,"unstackable"),Ye(d,"warning"),nt(p,null,!0),"form",a),m=rt(t,this.props),y=it(t,this.props);return r.createElement(y,Ge({},m,{action:n,className:v,onSubmit:this.handleSubmit}),i)},t}(r.Component);Wc.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],Wc.propTypes={},Wc.defaultProps={as:"form"},Wc.Field=ss,Wc.Button=ls,Wc.Checkbox=hs,Wc.Dropdown=Ac,Wc.Group=Pc,Wc.Input=Mc,Wc.Radio=Uc,Wc.Select=zc,Wc.TextArea=Hc;var Qc=Wc;function $c(e){var t=e.children,n=e.className,i=e.content,a=We("content",n),o=rt($c,e),u=it($c,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}$c.handledProps=["as","children","className","content"],$c.propTypes={};var Yc=$c;function Xc(e){var t=e.children,n=e.className,i=e.content,a=We("header",n),o=rt(Xc,e),u=it(Xc,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}Xc.handledProps=["as","children","className","content"],Xc.propTypes={},Xc.create=Kn(Xc,(function(e){return{content:e}}));var Jc=Xc;function Zc(e){var t=e.children,n=e.className,i=e.content,a=We("content",n),o=rt(Zc,e),u=it(Zc,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}Zc.handledProps=["as","children","className","content"],Zc.propTypes={},Zc.defaultProps={as:"li"},Zc.create=Kn(Zc,(function(e){return{content:e}}));var el=Zc;function tl(e){var t=e.children,n=e.className,i=e.items,a=We("list",n),o=rt(tl,e),u=it(tl,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?oa(i,el.create):t)}tl.handledProps=["as","children","className","items"],tl.propTypes={},tl.defaultProps={as:"ul"},tl.create=Kn(tl,(function(e){return{items:e}}));var nl=tl,rl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,i=e.children,a=e.className,o=e.color,u=e.compact,s=e.content,c=e.error,l=e.floating,f=e.header,h=e.hidden,d=e.icon,p=e.info,v=e.list,m=e.negative,y=e.onDismiss,g=e.positive,k=e.size,b=e.success,w=e.visible,_=e.warning,x=We("ui",o,k,Ye(u,"compact"),Ye(c,"error"),Ye(l,"floating"),Ye(h,"hidden"),Ye(d,"icon"),Ye(p,"info"),Ye(m,"negative"),Ye(g,"positive"),Ye(b,"success"),Ye(w,"visible"),Ye(_,"warning"),Je(n,"attached"),"message",a),I=y&&r.createElement(Do,{name:"close",onClick:this.handleDismiss}),E=rt(t,this.props),T=it(t,this.props);return Ea(i)?r.createElement(T,Ge({},E,{className:x}),I,Do.create(d,{autoGenerateKey:!1}),(!zn(f)||!zn(s)||!zn(v))&&r.createElement(Yc,null,Jc.create(f,{autoGenerateKey:!1}),nl.create(v,{autoGenerateKey:!1}),Wn(s,{autoGenerateKey:!1}))):r.createElement(T,Ge({},E,{className:x}),I,i)},t}(r.Component);function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rl.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],rl.propTypes={},rl.Content=Yc,rl.Header=Jc,rl.List=nl,rl.Item=el;var al=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ol={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(al(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ul=function(e){return function(e){var t=al(e);return ol.encodeByteArray(t,!0)}(e).replace(/\./g,"")},sl=function(e){try{return ol.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=cl(e[n],t[n]));return e}var ll=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},fl=function(){try{return ll()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBwe5yU16DdOdTczAhH3fwC2WEqWVPmMaA",REACT_APP_FIREBASE_APP_ID:"1:180884727783:web:b3ed5fe9308fc7efd27f42",REACT_APP_FIREBASE_AUTH_DOMAIN:"bolg-house.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"180884727783",REACT_APP_FIREBASE_PROJECT_ID:"bolg-house",REACT_APP_FIREBASE_STORAGE_BUCKET:"bolg-house.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&sl(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},hl=function(){var e;return null===(e=fl())||void 0===e?void 0:e.config},dl=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pl(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ul(JSON.stringify({alg:"none",type:"JWT"})),ul(JSON.stringify(a)),""].join(".")}function vl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ml(){var e,t=null===(e=fl())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function yl(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function gl(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function kl(){var e=vl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function bl(){try{return"object"===typeof indexedDB}catch(e){return!1}}var wl=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),_l.prototype.create),a}return v(n)}(E(Error)),_l=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?xl(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new wl(n,a,t);return o}}]),e}();function xl(e,t){return e.replace(Il,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Il=/\{\$([^}]+)}/g;function El(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tl(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Sl(u)&&Sl(s)){if(!Tl(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Sl(e){return null!==e&&"object"===typeof e}function Cl(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Nl(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Al(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Rl(e,t){var n=new Pl(e,t);return n.subscribe.bind(n)}var Pl=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Dl),void 0===r.error&&(r.error=Dl),void 0===r.complete&&(r.complete=Dl);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Dl(){}function Ol(e){return e&&e._delegate?e._delegate:e}function Ll(){Ll=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(E([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==b(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ml(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Fl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ml(a,r,i,o,u,"next",e)}function u(e){Ml(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ul=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),jl="[DEFAULT]",Vl=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new dl;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jl})}catch(s){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jl;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jl;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(AT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===jl?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(AT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jl;return this.component?this.component.multipleInstances?e:jl:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Bl,zl,ql=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Vl(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Kl=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zl||(zl={}));var Gl={debug:zl.DEBUG,verbose:zl.VERBOSE,info:zl.INFO,warn:zl.WARN,error:zl.ERROR,silent:zl.SILENT},Hl=zl.INFO,Wl=(il(Bl={},zl.DEBUG,"log"),il(Bl,zl.VERBOSE,"log"),il(Bl,zl.INFO,"info"),il(Bl,zl.WARN,"warn"),il(Bl,zl.ERROR,"error"),Bl),Ql=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Wl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},$l=function(){function e(t){d(this,e),this.name=t,this._logLevel=Hl,this._logHandler=Ql,this._userLogHandler=null,Kl.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Gl[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zl.DEBUG].concat(t)),this._logHandler.apply(this,[this,zl.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zl.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zl.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zl.INFO].concat(t)),this._logHandler.apply(this,[this,zl.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zl.WARN].concat(t)),this._logHandler.apply(this,[this,zl.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zl.ERROR].concat(t)),this._logHandler.apply(this,[this,zl.ERROR].concat(t))}}]),e}();function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jl,Zl;var ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,rf=new WeakMap,af=new WeakMap;var of={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tf.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cf(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function uf(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zl||(Zl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lf(this),n),cf(ef.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cf(e.apply(lf(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[lf(this),t].concat(r));return nf.set(a,t.sort?t.sort():[t]),cf(a)}}function sf(e){return"function"===typeof e?uf(e):(e instanceof IDBTransaction&&function(e){if(!tf.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));tf.set(e,t)}}(e),t=e,(Jl||(Jl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,of):e);var t}function cf(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(cf(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ef.set(t,e)})).catch((function(){})),af.set(t,e),t}(e);if(rf.has(e))return rf.get(e);var t=sf(e);return t!==e&&(rf.set(e,t),af.set(t,e)),t}var lf=function(e){return af.get(e)};var ff,hf,df=["get","getKey","getAll","getAllKeys","count"],pf=["put","add","delete","clear"],vf=new Map;function mf(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(vf.get(t))return vf.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=pf.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||df.includes(n))){var a=function(){var e=Fl(Ll().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return vf.set(t,a),a}}}of=function(e){return Xl(Xl({},e),{},{get:function(t,n,r){return mf(t,n)||e.get(t,n,r)},has:function(t,n){return!!mf(t,n)||e.has(t,n)}})}(of);var yf=function(){function e(t){d(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var gf="@firebase/app",kf="0.9.3",bf=new $l("@firebase/app"),wf="[DEFAULT]",_f=(il(ff={},gf,"fire-core"),il(ff,"@firebase/app-compat","fire-core-compat"),il(ff,"@firebase/analytics","fire-analytics"),il(ff,"@firebase/analytics-compat","fire-analytics-compat"),il(ff,"@firebase/app-check","fire-app-check"),il(ff,"@firebase/app-check-compat","fire-app-check-compat"),il(ff,"@firebase/auth","fire-auth"),il(ff,"@firebase/auth-compat","fire-auth-compat"),il(ff,"@firebase/database","fire-rtdb"),il(ff,"@firebase/database-compat","fire-rtdb-compat"),il(ff,"@firebase/functions","fire-fn"),il(ff,"@firebase/functions-compat","fire-fn-compat"),il(ff,"@firebase/installations","fire-iid"),il(ff,"@firebase/installations-compat","fire-iid-compat"),il(ff,"@firebase/messaging","fire-fcm"),il(ff,"@firebase/messaging-compat","fire-fcm-compat"),il(ff,"@firebase/performance","fire-perf"),il(ff,"@firebase/performance-compat","fire-perf-compat"),il(ff,"@firebase/remote-config","fire-rc"),il(ff,"@firebase/remote-config-compat","fire-rc-compat"),il(ff,"@firebase/storage","fire-gcs"),il(ff,"@firebase/storage-compat","fire-gcs-compat"),il(ff,"@firebase/firestore","fire-fst"),il(ff,"@firebase/firestore-compat","fire-fst-compat"),il(ff,"fire-js","fire-js"),il(ff,"firebase","fire-js-all"),ff),xf=new Map,If=new Map;function Ef(e,t){try{e.container.addComponent(t)}catch(n){bf.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Tf(e,t){e.container.addOrOverwriteComponent(t)}function Sf(e){var t=e.name;if(If.has(t))return bf.debug("There were multiple attempts to register component ".concat(t,".")),!1;If.set(t,e);var n,r=S(xf.values());try{for(r.s();!(n=r.n()).done;){Ef(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Cf(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Nf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wf;Cf(e,t).clearInstance(n)}function Af(){If.clear()}var Rf=(il(hf={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),il(hf,"bad-app-name","Illegal App name: '{$appName}"),il(hf,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),il(hf,"app-deleted","Firebase App named '{$appName}' already deleted"),il(hf,"no-options","Need to provide options, when not being deployed to hosting via source."),il(hf,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),il(hf,"invalid-log-argument","First argument to `onLog` must be null or a function."),il(hf,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),il(hf,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),il(hf,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),il(hf,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),hf),Pf=new _l("app","Firebase",Rf),Df=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ul("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pf.create("app-deleted",{appName:this._name})}}]),e}(),Of="9.17.1";function Lf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:wf,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Pf.create("bad-app-name",{appName:String(a)});if(n||(n=hl()),!n)throw Pf.create("no-options");var o=xf.get(a);if(o){if(Tl(n,o.options)&&Tl(i,o.config))return o;throw Pf.create("duplicate-app",{appName:a})}var u,s=new ql(a),c=S(If.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Df(n,i,s);return xf.set(a,f),f}function Mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wf,t=xf.get(e);if(!t&&e===wf)return Lf();if(!t)throw Pf.create("no-app",{appName:e});return t}function Ff(){return Array.from(xf.values())}function Uf(e){return jf.apply(this,arguments)}function jf(){return(jf=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!xf.has(n)){e.next=6;break}return xf.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e,t,n){var r,i=null!==(r=_f[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void bf.warn(u.join(" "))}Sf(new Ul("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Bf(e,t){if(null!==e&&"function"!==typeof e)throw Pf.create("invalid-log-argument");!function(e,t){var n,r=S(Kl);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Gl[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:zl[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function zf(e){var t;t=e,Kl.forEach((function(e){e.setLogLevel(t)}))}var qf="firebase-heartbeat-store",Kf=null;function Gf(){return Kf||(Kf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=cf(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(cf(u.result),e.oldVersion,e.newVersion,cf(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(qf)}}).catch((function(e){throw Pf.create("idb-open",{originalErrorMessage:e.message})}))),Kf}function Hf(e){return Wf.apply(this,arguments)}function Wf(){return Wf=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gf();case 3:return n=e.sent,e.abrupt("return",n.transaction(qf).objectStore(qf).get(Yf(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof wl?bf.warn(e.t0.message):(r=Pf.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bf.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Wf.apply(this,arguments)}function Qf(e,t){return $f.apply(this,arguments)}function $f(){return $f=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gf();case 3:return r=e.sent,i=r.transaction(qf,"readwrite"),a=i.objectStore(qf),e.next=8,a.put(n,Yf(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof wl?bf.warn(e.t0.message):(o=Pf.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bf.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),$f.apply(this,arguments)}function Yf(e){return"".concat(e.name,"!").concat(e.options.appId)}var Xf=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new nh(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Jf(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Jf(),n=Zf(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ul(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jf(){return(new Date).toISOString().substring(0,10)}function Zf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),rh(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),rh(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var eh,th,nh=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bl()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Hf(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Qf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Qf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function rh(e){return ul(JSON.stringify({version:2,heartbeats:e})).length}eh="",Sf(new Ul("platform-logger",(function(e){return new yf(e)}),"PRIVATE")),Sf(new Ul("heartbeat",(function(e){return new Xf(e)}),"PRIVATE")),Vf(gf,kf,eh),Vf(gf,kf,"esm2017"),Vf("fire-js","");var ih=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Ef(t,new Ul("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Uf(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wf;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wf;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ef(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Tf(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ah=(il(th={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),il(th,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),th),oh=new _l("app-compat","Firebase",ah);var uh=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Lf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(El(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Vf,setLogLevel:zf,onLog:Bf,apps:null,SDK_VERSION:Of,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Sf(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw oh.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&cl(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!El(n,e=e||wf))throw oh.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ih);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){cl(n,e)},createSubscribe:Rl,ErrorFactory:_l,deepExtend:cl}),n}(),sh=new $l("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){sh.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ch=self.firebase.SDK_VERSION;ch&&ch.indexOf("LITE")>=0&&sh.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var lh=uh;!function(e){Vf("@firebase/app-compat","0.2.3",e)}();function fh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function hh(){return hh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=fh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hh.apply(this,arguments)}lh.registerVersion("firebase","9.17.1","app-compat");var dh,ph="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vh={},mh=mh||{},yh=ph||self;function gh(){}function kh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wh="closure_uid_"+(1e9*Math.random()>>>0),_h=0;function xh(e,t,n){return e.call.apply(e.bind,arguments)}function Ih(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Eh(e,t,n){return(Eh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xh:Ih).apply(null,arguments)}function Th(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sh(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ch(){this.s=this.s,this.o=this.o}Ch.prototype.s=!1,Ch.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,wh)&&e[wh]||(e[wh]=++_h))},Ch.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Nh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ah(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(kh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Ph(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ph.prototype.h=function(){this.defaultPrevented=!0};var Dh=function(){if(!yh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{yh.addEventListener("test",gh,t),yh.removeEventListener("test",gh,t)}catch(n){}return e}();function Oh(e){return/^[\s\xa0]*$/.test(e)}var Lh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mh(e,t){return e<t?-1:e>t?1:0}function Fh(){var e=yh.navigator;return e&&(e=e.userAgent)?e:""}function Uh(e){return-1!=Fh().indexOf(e)}function jh(e){return jh[" "](e),e}jh[" "]=gh;var Vh,Bh=Uh("Opera"),zh=Uh("Trident")||Uh("MSIE"),qh=Uh("Edge"),Kh=qh||zh,Gh=Uh("Gecko")&&!(-1!=Fh().toLowerCase().indexOf("webkit")&&!Uh("Edge"))&&!(Uh("Trident")||Uh("MSIE"))&&!Uh("Edge"),Hh=-1!=Fh().toLowerCase().indexOf("webkit")&&!Uh("Edge");function Wh(){var e=yh.document;return e?e.documentMode:void 0}e:{var Qh="",$h=function(){var e=Fh();return Gh?/rv:([^\);]+)(\)|;)/.exec(e):qh?/Edge\/([\d\.]+)/.exec(e):zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hh?/WebKit\/(\S+)/.exec(e):Bh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($h&&(Qh=$h?$h[1]:""),zh){var Yh=Wh();if(null!=Yh&&Yh>parseFloat(Qh)){Vh=String(Yh);break e}}Vh=Qh}var Xh,Jh={};function Zh(){return function(e){var t=Jh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Lh(String(Vh)).split("."),n=Lh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mh(0==a[2].length,0==o[2].length)||Mh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(yh.document&&zh){var ed=Wh();Xh=ed||(parseInt(Vh,10)||void 0)}else Xh=void 0;var td=Xh;function nd(e,t){if(Ph.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gh){e:{try{jh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:rd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&nd.X.h.call(this)}}Sh(nd,Ph);var rd={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),ad=0;function od(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ad,this.ba=this.ea=!1}function ud(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function sd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function cd(e){var t={};for(var n in e)t[n]=e[n];return t}var ld="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ld.length;a++)n=ld[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hd(e){this.src=e,this.g={},this.h=0}function dd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Nh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ud(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}hd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=pd(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new od(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var vd="closure_lm_"+(1e6*Math.random()|0),md={};function yd(e,t,n,r,i){if(r&&r.once)return kd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yd(e,t[a],n,r,i);return null}return n=Td(n),e&&e[id]?e.N(t,n,bh(r)?!!r.capture:!!r,i):gd(e,t,n,!1,r,i)}function gd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bh(i)?!!i.capture:!!i,u=Id(e);if(u||(e[vd]=u=new hd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=xd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Dh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_d(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function kd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)kd(e,t[a],n,r,i);return null}return n=Td(n),e&&e[id]?e.O(t,n,bh(r)?!!r.capture:!!r,i):gd(e,t,n,!0,r,i)}function bd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)bd(e,t[a],n,r,i);else r=bh(r)?!!r.capture:!!r,n=Td(n),e&&e[id]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=pd(a=e.g[t],n,r,i))&&(ud(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Id(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pd(t,n,r,i)),(n=-1<e?t[e]:null)&&wd(n))}function wd(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[id])dd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_d(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Id(t))?(dd(n,e),0==n.h&&(n.src=null,t[vd]=null)):ud(e)}}}function _d(e){return e in md?md[e]:md[e]="on"+e}function xd(e,t){if(e.ba)e=!0;else{t=new nd(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&wd(e),e=n.call(r,t)}return e}function Id(e){return(e=e[vd])instanceof hd?e:null}var Ed="__closure_events_fn_"+(1e9*Math.random()>>>0);function Td(e){return"function"===typeof e?e:(e[Ed]||(e[Ed]=function(t){return e.handleEvent(t)}),e[Ed])}function Sd(){Ch.call(this),this.i=new hd(this),this.P=this,this.I=null}function Cd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ph(t,e);else if(t instanceof Ph)t.target=t.target||e;else{var i=t;fd(t=new Ph(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Nd(o,r,!0,t)&&i}if(i=Nd(o=t.g=e,r,!0,t)&&i,i=Nd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Nd(o=t.g=n[a],r,!1,t)&&i}function Nd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&dd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Sh(Sd,Ch),Sd.prototype[id]=!0,Sd.prototype.removeEventListener=function(e,t,n,r){bd(this,e,t,n,r)},Sd.prototype.M=function(){if(Sd.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ud(n[r]);delete t.g[e],t.h--}}this.I=null},Sd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ad=yh.JSON.stringify;function Rd(){var e=jd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pd,Dd=function(){function e(){d(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=Od.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Od=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ld}),(function(e){return e.reset()})),Ld=function(){function e(){d(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Md(e){yh.setTimeout((function(){throw e}),0)}function Fd(e,t){Pd||function(){var e=yh.Promise.resolve(void 0);Pd=function(){e.then(Vd)}}(),Ud||(Pd(),Ud=!0),jd.add(e,t)}var Ud=!1,jd=new Dd;function Vd(){for(var e;e=Rd();){try{e.h.call(e.g)}catch(n){Md(n)}var t=Od;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ud=!1}function Bd(e,t){Sd.call(this),this.h=e||1,this.g=t||yh,this.j=Eh(this.lb,this),this.l=Date.now()}function zd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function qd(e,t,n){if("function"===typeof e)n&&(e=Eh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Eh(e.handleEvent,e)}return 2147483647<Number(t)?-1:yh.setTimeout(e,t||0)}function Kd(e){e.g=qd((function(){e.g=null,e.i&&(e.i=!1,Kd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Sh(Bd,Sd),(dh=Bd.prototype).ca=!1,dh.R=null,dh.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Cd(this,"tick"),this.ca&&(zd(this),this.start()))}},dh.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dh.M=function(){Bd.X.M.call(this),zd(this),delete this.g};var Gd=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Kd(this)}},{key:"M",value:function(){hh(g(n.prototype),"M",this).call(this),this.g&&(yh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ch);function Hd(e){Ch.call(this),this.h=e,this.g={}}Sh(Hd,Ch);var Wd=[];function Qd(e,t,n,r){Array.isArray(n)||(n&&(Wd[0]=n.toString()),n=Wd);for(var i=0;i<n.length;i++){var a=yd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $d(e){sd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&wd(e)}),e),e.g={}}function Yd(){this.g=!0}function Xd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ad(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Hd.prototype.M=function(){Hd.X.M.call(this),$d(this)},Hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yd.prototype.Aa=function(){this.g=!1},Yd.prototype.info=function(){};var Jd={},Zd=null;function ep(){return Zd=Zd||new Sd}function tp(e){Ph.call(this,Jd.Pa,e)}function np(e){var t=ep();Cd(t,new tp(t))}function rp(e,t){Ph.call(this,Jd.STAT_EVENT,e),this.stat=t}function ip(e){var t=ep();Cd(t,new rp(t,e))}function ap(e,t){Ph.call(this,Jd.Qa,e),this.size=t}function op(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return yh.setTimeout((function(){e()}),t)}Jd.Pa="serverreachability",Sh(tp,Ph),Jd.STAT_EVENT="statevent",Sh(rp,Ph),Jd.Qa="timingevent",Sh(ap,Ph);var up={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sp={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function cp(){}function lp(e){return e.h||(e.h=e.i())}function fp(){}cp.prototype.h=null;var hp,dp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pp(){Ph.call(this,"d")}function vp(){Ph.call(this,"c")}function mp(){}function yp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Hd(this),this.O=kp,e=Kh?125:void 0,this.T=new Bd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gp}function gp(){this.i=null,this.g="",this.h=!1}Sh(pp,Ph),Sh(vp,Ph),Sh(mp,cp),mp.prototype.g=function(){return new XMLHttpRequest},mp.prototype.i=function(){return{}},hp=new mp;var kp=45e3,bp={},wp={};function _p(e,t,n){e.K=1,e.v=Bp(Mp(t)),e.s=n,e.P=!0,xp(e,null)}function xp(e,t){e.F=Date.now(),Sp(e),e.A=Mp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ev(n.i,"t",r),e.C=0,n=e.l.H,e.h=new gp,e.g=tm(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Gd(Eh(e.La,e,e.g),e.N)),Qd(e.S,e.g,"readystatechange",e.ib),t=e.H?cd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),np(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ip(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ep(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Tp(e,n))==wp){4==t&&(e.o=4,ip(14),i=!1),Xd(e.j,e.m,null,"[Incomplete Response]");break}if(r==bp){e.o=4,ip(15),Xd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xd(e.j,e.m,r,null),Pp(e,r)}Ip(e)&&r!=wp&&r!=bp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ip(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wv(t),t.K=!0,ip(11))):(Xd(e.j,e.m,n,"[Invalid Chunked Response]"),Rp(e),Ap(e))}function Tp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wp:(n=Number(t.substring(n,r)),isNaN(n)?bp:(r+=1)+n>t.length?wp:(t=t.substr(r,n),e.C=r+n,t))}function Sp(e){e.V=Date.now()+e.O,Cp(e,e.O)}function Cp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=op(Eh(e.gb,e),t)}function Np(e){e.B&&(yh.clearTimeout(e.B),e.B=null)}function Ap(e){0==e.l.G||e.I||Yv(e.l,e)}function Rp(e){Np(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zd(e.T),$d(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sv(n.h,e)))if(!e.J&&sv(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$v(n),jv(n)}Hv(n),ip(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=op(Eh(n.cb,n),6e3));if(1>=uv(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Jv(n,11)}else if((e.J||n.g==e)&&$v(n),!Oh(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(cv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Vp(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=em(r,r.H?r.ka:null,r.V),d.J){lv(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Np(p),Sp(p)),r.g=d}else Gv(r);0<n.i.length&&Bv(n)}else"stop"!=a[0]&&"close"!=a[0]||Jv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Jv(n,7):Uv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}np()}catch(a){}}function Dp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(kh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(kh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(kh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(dh=yp.prototype).setTimeout=function(e){this.O=e},dh.ib=function(e){e=e.target;var t=this.L;t&&3==Pv(e)?t.l():this.La(e)},dh.La=function(e){try{if(e==this.g)e:{var t=Pv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Kh||this.g&&(this.h.h||this.g.fa()||Dv(this.g)))){this.I||4!=t||7==n||np(),Np(this);var r=this.g.aa();this.Y=r;t:if(Ip(this)){var i=Dv(this.g);e="";var a=i.length,o=4==Pv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rp(this),Ap(this);var u="";break t}this.h.i=new yh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oh(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ip(12),Rp(this),Ap(this);break e}Xd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pp(this,r)}this.P?(Ep(this,t,u),Kh&&this.i&&3==t&&(Qd(this.S,this.T,"tick",this.hb),this.T.start())):(Xd(this.j,this.m,u,null),Pp(this,u)),4==t&&Rp(this),this.i&&!this.I&&(4==t?Yv(this.l,this):(this.i=!1,Sp(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ip(12)):(this.o=0,ip(13)),Rp(this),Ap(this)}}}catch(t){}},dh.hb=function(){if(this.g){var e=Pv(this.g),t=this.g.fa();this.C<t.length&&(Np(this),Ep(this,e,t),this.i&&4!=e&&Sp(this))}},dh.cancel=function(){this.I=!0,Rp(this)},dh.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(np(),ip(17)),Rp(this),this.o=2,Ap(this)):Cp(this,this.V-e)};var Op=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lp(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Lp){this.h=void 0!==t?t:e.h,Fp(this,e.j),this.s=e.s,this.g=e.g,Up(this,e.m),this.l=e.l,t=e.i;var n=new Yp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jp(this,n),this.o=e.o}else e&&(n=String(e).match(Op))?(this.h=!!t,Fp(this,n[1]||"",!0),this.s=zp(n[2]||""),this.g=zp(n[3]||"",!0),Up(this,n[4]),this.l=zp(n[5]||"",!0),jp(this,n[6]||"",!0),this.o=zp(n[7]||"")):(this.h=!!t,this.i=new Yp(null,this.h))}function Mp(e){return new Lp(e)}function Fp(e,t,n){e.j=n?zp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Up(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jp(e,t,n){t instanceof Yp?(e.i=t,function(e,t){t&&!e.j&&(Xp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jp(this,t),ev(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=qp(t,Qp)),e.i=new Yp(t,e.h))}function Vp(e,t,n){e.i.set(t,n)}function Bp(e){return Vp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qp(t,Gp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qp(t,Gp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(qp(n,"/"==n.charAt(0)?Wp:Hp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qp(n,$p)),e.join("")};var Gp=/[#\/\?@]/g,Hp=/[#\?:]/g,Wp=/[#\?]/g,Qp=/[#\?@]/g,$p=/#/g;function Yp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jp(e,t){Xp(e),t=tv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Zp(e,t){return Xp(e),t=tv(e,t),e.g.has(t)}function ev(e,t,n){Jp(e,t),0<n.length&&(e.i=null,e.g.set(tv(e,t),Ah(n)),e.h+=n.length)}function tv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dh=Yp.prototype).add=function(e,t){Xp(this),this.i=null,e=tv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dh.forEach=function(e,t){Xp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},dh.oa=function(){Xp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},dh.W=function(e){Xp(this);var t=[];if("string"===typeof e)Zp(this,e)&&(t=t.concat(this.g.get(tv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},dh.set=function(e,t){return Xp(this),this.i=null,Zp(this,e=tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dh.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},dh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var nv=v((function e(t,n){d(this,e),this.h=t,this.g=n}));function rv(e){this.l=e||av,yh.PerformanceNavigationTiming?e=0<(e=yh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(yh.g&&yh.g.Ga&&yh.g.Ga()&&yh.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iv,av=10;function ov(e){return!!e.h||!!e.g&&e.g.size>=e.j}function uv(e){return e.h?1:e.g?e.g.size:0}function sv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cv(e,t){e.g?e.g.add(t):e.h=t}function lv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ah(e.i)}function hv(){}function dv(){this.g=new hv}function pv(e,t,n){var r=n||"";try{Dp(e,(function(e,n){var i=e;bh(e)&&(i=Ad(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function mv(e){this.l=e.ac||null,this.j=e.jb||!1}function yv(e,t){Sd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rv.prototype.cancel=function(){if(this.i=fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hv.prototype.stringify=function(e){return yh.JSON.stringify(e,void 0)},hv.prototype.parse=function(e){return yh.JSON.parse(e,void 0)},Sh(mv,cp),mv.prototype.g=function(){return new yv(this.l,this.j)},mv.prototype.i=(iv={},function(){return iv}),Sh(yv,Sd);var gv=0;function kv(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function bv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wv(e)}function wv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dh=yv.prototype).open=function(e,t){if(this.readyState!=gv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wv(this)},dh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||yh).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},dh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bv(this)),this.readyState=gv},dh.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wv(this)),this.g&&(this.readyState=3,wv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof yh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kv(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},dh.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bv(this):wv(this),3==this.readyState&&kv(this)}},dh.Va=function(e){this.g&&(this.response=this.responseText=e,bv(this))},dh.Ua=function(e){this.g&&(this.response=e,bv(this))},dh.ga=function(){this.g&&bv(this)},dh.setRequestHeader=function(e,t){this.v.append(e,t)},dh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _v=yh.JSON.parse;function xv(e){Sd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Iv,this.K=this.L=!1}Sh(xv,Sd);var Iv="",Ev=/^https?$/i,Tv=["POST","PUT"];function Sv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cv(e),Av(e)}function Cv(e){e.D||(e.D=!0,Cd(e,"complete"),Cd(e,"error"))}function Nv(e){if(e.h&&"undefined"!=typeof mh&&(!e.C[1]||4!=Pv(e)||2!=e.aa()))if(e.v&&4==Pv(e))qd(e.Ha,0,e);else if(Cd(e,"readystatechange"),4==Pv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Op)[1]||null;if(!a&&yh.self&&yh.self.location){var o=yh.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ev.test(a?a.toLowerCase():"")}t=i}if(t)Cd(e,"complete"),Cd(e,"success");else{e.m=6;try{var u=2<Pv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Cv(e)}}finally{Av(e)}}}function Av(e,t){if(e.g){Rv(e);var n=e.g,r=e.C[0]?gh:null;e.g=null,e.C=null,t||Cd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Rv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(yh.clearTimeout(e.A),e.A=null)}function Pv(e){return e.g?e.g.readyState:0}function Dv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Iv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ym){return null}}function Ov(e){var t="";return sd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ov(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Vp(e,t,n))}function Mv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fv(e){this.Ca=0,this.i=[],this.j=new Yd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Mv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Mv("baseRetryDelayMs",5e3,e),this.bb=Mv("retryDelaySeedMs",1e4,e),this.$a=Mv("forwardChannelMaxRetries",2,e),this.ta=Mv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new rv(e&&e.concurrentRequestLimit),this.Fa=new dv,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Uv(e){if(Vv(e),3==e.G){var t=e.U++,n=Mp(e.F);Vp(n,"SID",e.I),Vp(n,"RID",t),Vp(n,"TYPE","terminate"),qv(e,n),(t=new yp(e,e.j,t,void 0)).K=2,t.v=Bp(Mp(n)),n=!1,yh.navigator&&yh.navigator.sendBeacon&&(n=yh.navigator.sendBeacon(t.v.toString(),"")),!n&&yh.Image&&((new Image).src=t.v,n=!0),n||(t.g=tm(t.l,null),t.g.da(t.v)),t.F=Date.now(),Sp(t)}Zv(e)}function jv(e){e.g&&(Wv(e),e.g.cancel(),e.g=null)}function Vv(e){jv(e),e.u&&(yh.clearTimeout(e.u),e.u=null),$v(e),e.h.cancel(),e.m&&("number"===typeof e.m&&yh.clearTimeout(e.m),e.m=null)}function Bv(e){ov(e.h)||e.m||(e.m=!0,Fd(e.Ja,e),e.C=0)}function zv(e,t){var n;n=t?t.m:e.U++;var r=Mp(e.F);Vp(r,"SID",e.I),Vp(r,"RID",n),Vp(r,"AID",e.T),qv(e,r),e.o&&e.s&&Lv(r,e.o,e.s),n=new yp(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Kv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),cv(e.h,n),_p(n,r,t)}function qv(e,t){e.ia&&sd(e.ia,(function(e,n){Vp(t,n,e)})),e.l&&Dp({},(function(e,n){Vp(t,n,e)}))}function Kv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Eh(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{pv(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Gv(e){e.g||e.u||(e.Z=1,Fd(e.Ia,e),e.A=0)}function Hv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=op(Eh(e.Ia,e),Xv(e,e.A)),e.A++,!0)}function Wv(e){null!=e.B&&(yh.clearTimeout(e.B),e.B=null)}function Qv(e){e.g=new yp(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Mp(e.sa);Vp(t,"RID","rpc"),Vp(t,"SID",e.I),Vp(t,"CI",e.L?"0":"1"),Vp(t,"AID",e.T),Vp(t,"TYPE","xmlhttp"),qv(e,t),e.o&&e.s&&Lv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Bp(Mp(t)),n.s=null,n.P=!0,xp(n,e)}function $v(e){null!=e.v&&(yh.clearTimeout(e.v),e.v=null)}function Yv(e,t){var n=null;if(e.g==t){$v(e),Wv(e),e.g=null;var r=2}else{if(!sv(e.h,t))return;n=t.D,lv(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Cd(r=ep(),new ap(r,n)),Bv(e)}else Gv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(uv(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=op(Eh(e.Ja,e,t),Xv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Jv(e,5);break;case 4:Jv(e,10);break;case 3:Jv(e,6);break;default:Jv(e,2)}}function Xv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Jv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Eh(e.kb,e);n||(n=new Lp("//www.google.com/images/cleardot.gif"),yh.location&&"http"==yh.location.protocol||Fp(n,"https"),Bp(n)),function(e,t){var n=new Yd;if(yh.Image){var r=new Image;r.onload=Th(vv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Th(vv,n,r,"TestLoadImage: error",!1,t),r.onabort=Th(vv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Th(vv,n,r,"TestLoadImage: timeout",!1,t),yh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ip(2);e.G=0,e.l&&e.l.va(t),Zv(e),Vv(e)}function Zv(e){if(e.G=0,e.la=[],e.l){var t=fv(e.h);0==t.length&&0==e.i.length||(Rh(e.la,t),Rh(e.la,e.i),e.h.i.length=0,Ah(e.i),e.i.length=0),e.l.ua()}}function em(e,t,n){var r=n instanceof Lp?Mp(n):new Lp(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Up(r,r.m);else{var i=yh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Lp(null,void 0);r&&Fp(a,r),t&&(a.g=t),i&&Up(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Vp(r,n,t),Vp(r,"VER",e.ma),qv(e,r),r}function tm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new xv(new mv({jb:!0})):new xv(e.ra)).Ka(e.H),t}function nm(){}function rm(){if(zh&&!(10<=Number(td)))throw Error("Environmental error: no available transport.")}function im(e,t){Sd.call(this),this.g=new Fv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Oh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new um(this)}function am(e){pp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function om(){vp.call(this),this.status=1}function um(e){this.g=e}(dh=xv.prototype).Ka=function(e){this.L=e},dh.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hp.g(),this.C=this.u?lp(this.u):lp(hp),this.g.onreadystatechange=Eh(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Sv(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=yh.FormData&&e instanceof yh.FormData,!(0<=Nh(Tv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=S(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rv(this),0<this.B&&((this.K=function(e){return zh&&Zh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Eh(this.qa,this)):this.A=qd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Sv(this,u)}},dh.qa=function(){"undefined"!=typeof mh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cd(this,"timeout"),this.abort(8))},dh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Cd(this,"complete"),Cd(this,"abort"),Av(this))},dh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Av(this,!0)),xv.X.M.call(this)},dh.Ha=function(){this.s||(this.F||this.v||this.l?Nv(this):this.fb())},dh.fb=function(){Nv(this)},dh.aa=function(){try{return 2<Pv(this)?this.g.status:-1}catch(iv){return-1}},dh.fa=function(){try{return this.g?this.g.responseText:""}catch(iv){return""}},dh.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_v(t)}},dh.Ea=function(){return this.m},dh.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(dh=Fv.prototype).ma=8,dh.G=1,dh.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new yp(this,this.j,e,void 0),n=this.s;if(this.S&&(n?fd(n=cd(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Kv(this,t,r),Vp(i=Mp(this.F),"RID",e),Vp(i,"CVER",22),this.D&&Vp(i,"X-HTTP-Session-Id",this.D),qv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ov(n)))+"&"+r:this.o&&Lv(i,this.o,n)),cv(this.h,t),this.Ya&&Vp(i,"TYPE","init"),this.O?(Vp(i,"$req",r),Vp(i,"SID","null"),t.Z=!0,_p(t,i,null)):_p(t,i,r),this.G=2}}else 3==this.G&&(e?zv(this,e):0==this.i.length||ov(this.h)||zv(this))},dh.Ia=function(){if(this.u=null,Qv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=op(Eh(this.eb,this),e)}},dh.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ip(10),jv(this),Qv(this))},dh.cb=function(){null!=this.v&&(this.v=null,jv(this),Hv(this),ip(19))},dh.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ip(2)):(this.j.info("Failed to ping google.com"),ip(1))},(dh=nm.prototype).xa=function(){},dh.wa=function(){},dh.va=function(){},dh.ua=function(){},dh.Ra=function(){},rm.prototype.g=function(e,t){return new im(e,t)},Sh(im,Sd),im.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ip(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=em(e,null,e.V),Bv(e)},im.prototype.close=function(){Uv(this.g)},im.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ad(e),e=n);t.i.push(new nv(t.ab++,e)),3==t.G&&Bv(t)},im.prototype.M=function(){this.g.l=null,delete this.j,Uv(this.g),delete this.g,im.X.M.call(this)},Sh(am,pp),Sh(om,vp),Sh(um,nm),um.prototype.xa=function(){Cd(this.g,"a")},um.prototype.wa=function(e){Cd(this.g,new am(e))},um.prototype.va=function(e){Cd(this.g,new om)},um.prototype.ua=function(){Cd(this.g,"b")},rm.prototype.createWebChannel=rm.prototype.g,im.prototype.send=im.prototype.u,im.prototype.open=im.prototype.m,im.prototype.close=im.prototype.close,up.NO_ERROR=0,up.TIMEOUT=8,up.HTTP_ERROR=6,sp.COMPLETE="complete",fp.EventType=dp,dp.OPEN="a",dp.CLOSE="b",dp.ERROR="c",dp.MESSAGE="d",Sd.prototype.listen=Sd.prototype.N,xv.prototype.listenOnce=xv.prototype.O,xv.prototype.getLastError=xv.prototype.Oa,xv.prototype.getLastErrorCode=xv.prototype.Ea,xv.prototype.getStatus=xv.prototype.aa,xv.prototype.getResponseJson=xv.prototype.Sa,xv.prototype.getResponseText=xv.prototype.fa,xv.prototype.send=xv.prototype.da,xv.prototype.setWithCredentials=xv.prototype.Ka;var sm=vh.createWebChannelTransport=function(){return new rm},cm=vh.getStatEventTarget=function(){return ep()},lm=vh.ErrorCode=up,fm=vh.EventType=sp,hm=vh.Event=Jd,dm=vh.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pm=vh.FetchXmlHttpFactory=mv,vm=vh.WebChannel=fp,mm=vh.XhrIo=xv,ym="@firebase/firestore",gm=function(){function e(t){d(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gm.UNAUTHENTICATED=new gm(null),gm.GOOGLE_CREDENTIALS=new gm("google-credentials-uid"),gm.FIRST_PARTY=new gm("first-party-uid"),gm.MOCK_USER=new gm("mock-user");var km="9.17.1",bm=new $l("@firebase/firestore");function wm(){return bm.logLevel}function _m(e){if(bm.logLevel<=zl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Em);bm.debug.apply(bm,["Firestore (".concat(km,"): ").concat(e)].concat(h(i)))}}function xm(e){if(bm.logLevel<=zl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Em);bm.error.apply(bm,["Firestore (".concat(km,"): ").concat(e)].concat(h(i)))}}function Im(e){if(bm.logLevel<=zl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Em);bm.warn.apply(bm,["Firestore (".concat(km,"): ").concat(e)].concat(h(i)))}}function Em(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Tm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(km,") INTERNAL ASSERTION FAILED: ")+e;throw xm(t),new Error(t)}function Sm(e,t){e||Tm()}function Cm(e,t){return e}var Nm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Am=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(wl),Rm=v((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Pm=v((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Dm=function(){function e(){d(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Om=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Lm=function(){function e(t){d(this,e),this.t=t,this.currentUser=gm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Rm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Rm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){_m("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(_m("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(_m("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Sm("string"==typeof n.accessToken),new Pm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Sm(null===e||"string"==typeof e),new gm(e)}}]),e}(),Mm=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=gm.FIRST_PARTY,this.p=new Map}return v(e,[{key:"I",value:function(){return this.g?this.g():(Sm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Fm=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new Mm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Um=v((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),jm=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&_m("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,_m("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){_m("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):_m("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Sm("string"==typeof t.token),e.A=t.token,new Um(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Vm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bm=function(){function e(){d(this,e)}return v(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function zm(e,t){return e<t?-1:e>t?1:0}function qm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Km(e){return e+"\0"}var Gm=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Am(Nm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Am(Nm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Am(Nm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Am(Nm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zm(this.nanoseconds,e.nanoseconds):zm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Hm=function(){function e(t){d(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Gm(0,0))}},{key:"max",value:function(){return new e(new Gm(253402300799,999999999))}}]),e}(),Wm=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Tm(),void 0===r?r=t.length-n:r>t.length-n&&Tm(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Qm=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Am(Nm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wm),$m=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ym=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $m.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Am(Nm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Am(Nm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Am(Nm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Am(Nm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wm),Xm=function(){function e(t){d(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Qm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Qm.fromString(t))}},{key:"fromName",value:function(t){return new e(Qm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Qm.emptyPath())}},{key:"comparator",value:function(e,t){return Qm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Qm(t.slice()))}}]),e}(),Jm=v((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Zm(e){return e.fields.find((function(e){return 2===e.kind}))}function ey(e){return e.fields.filter((function(e){return 2!==e.kind}))}Jm.UNKNOWN_ID=-1;var ty=v((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var ny=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return v(e,null,[{key:"empty",value:function(){return new e(0,ay.min())}}]),e}();function ry(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hm.fromTimestamp(1e9===r?new Gm(n+1,0):new Gm(n,r));return new ay(i,Xm.empty(),t)}function iy(e){return new ay(e.readTime,e.key,-1)}var ay=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Hm.min(),Xm.empty(),-1)}},{key:"max",value:function(){return new e(Hm.max(),Xm.empty(),-1)}}]),e}();function oy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Xm.comparator(e.documentKey,t.documentKey))?n:zm(e.largestBatchId,t.largestBatchId)}var uy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sy=function(){function e(){d(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cy(e){return ly.apply(this,arguments)}function ly(){return ly=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Nm.FAILED_PRECONDITION&&t.message===uy){e.next=2;break}throw t;case 2:_m("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}var fy=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Tm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),hy=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Rm,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new vy(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=by(e.target.error);r.P.reject(new vy(t,n))}}return v(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(_m("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new yy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new vy(n,t)}}}]),e}(),dy=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(vl())&&xm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return v(e,[{key:"F",value:function(){var e=Fl(Ll().mark((function e(t){var n=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return _m("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new vy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Am(Nm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Am(Nm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new vy(t,n))},i.onupgradeneeded=function(e){_m("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){_m("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Fl(Ll().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ll().mark((function e(){var n,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=hy.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),fy.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,_m("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return _m("SimpleDb","Removing database:",e),gy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!bl())return!1;if(e.N())return!0;var t=vl(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBwe5yU16DdOdTczAhH3fwC2WEqWVPmMaA",REACT_APP_FIREBASE_APP_ID:"1:180884727783:web:b3ed5fe9308fc7efd27f42",REACT_APP_FIREBASE_AUTH_DOMAIN:"bolg-house.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"180884727783",REACT_APP_FIREBASE_PROJECT_ID:"bolg-house",REACT_APP_FIREBASE_STORAGE_BUCKET:"bolg-house.appspot.com"})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),py=function(){function e(t){d(this,e),this.q=t,this.U=!1,this.K=null}return v(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return gy(this.q.delete())}}]),e}(),vy=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,Nm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return v(n)}(Am);function my(e){return"IndexedDbTransactionError"===e.name}var yy=function(){function e(t){d(this,e),this.store=t}return v(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(_m("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_m("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gy(n)}},{key:"add",value:function(e){return _m("SimpleDb","ADD",this.store.name,e,e),gy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return gy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_m("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return _m("SimpleDb","DELETE",this.store.name,e),gy(this.store.delete(e))}},{key:"count",value:function(){return _m("SimpleDb","COUNT",this.store.name),gy(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new fy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new fy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){_m("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new fy((function(n,r){t.onerror=function(e){var t=by(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new fy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new py(i),o=t(i.primaryKey,i.value,a);if(o instanceof fy){var u=o.catch((function(e){return a.done(),fy.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return fy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function gy(e){return new fy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=by(e.target.error);n(t)}}))}var ky=!1;function by(e){var t=dy.D(vl());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Am("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ky||(ky=!0,setTimeout((function(){throw r}),0)),r}}return e}var wy=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.et=n,this.task=null}return v(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;_m("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=_m,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!my(e.t4)){e.next=17;break}_m("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,cy(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),_y=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return v(e,[{key:"st",value:function(){var e=Fl(Ll().mark((function e(){var t,n=this,r=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return fy.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return _m("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return _m("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=iy(t);oy(r,n)>0&&(n=r)})),new ay(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),xy=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();xy.at=-1;var Iy=v((function e(t,n,r,i,a,o,u,s){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ey=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ty(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ny(e){return null==e}function Ay(e){return 0===e&&1/e==-1/0}function Ry(e){return"number"==typeof e&&Number.isInteger(e)&&!Ay(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Py=function(e){function t(e){d(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Py.EMPTY_BYTE_STRING=new Py("");var Dy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oy(e){if(Sm(!!e),"string"==typeof e){var t=0,n=Dy.exec(e);if(Sm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ly(e.seconds),nanos:Ly(e.nanos)}}function Ly(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function My(e){return"string"==typeof e?Py.fromBase64String(e):Py.fromUint8Array(e)}function Fy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Uy(e){var t=e.mapValue.fields.__previous_value__;return Fy(t)?Uy(t):t}function jy(e){var t=Oy(e.mapValue.fields.__local_write_time__.timestampValue);return new Gm(t.seconds,t.nanos)}var Vy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},By={nullValue:"NULL_VALUE"};function zy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fy(e)?4:ng(e)?9007199254740991:10:Tm()}function qy(e,t){if(e===t)return!0;var n=zy(e);if(n!==zy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jy(e).isEqual(jy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Oy(e.timestampValue),r=Oy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return My(e.bytesValue).isEqual(My(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ly(e.geoPointValue.latitude)===Ly(t.geoPointValue.latitude)&&Ly(e.geoPointValue.longitude)===Ly(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ly(e.integerValue)===Ly(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ly(e.doubleValue),r=Ly(t.doubleValue);return n===r?Ay(n)===Ay(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qm(e.arrayValue.values||[],t.arrayValue.values||[],qy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ty(n)!==Ty(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qy(n[i],r[i])))return!1;return!0}(e,t);default:return Tm()}}function Ky(e,t){return void 0!==(e.values||[]).find((function(e){return qy(e,t)}))}function Gy(e,t){if(e===t)return 0;var n=zy(e),r=zy(t);if(n!==r)return zm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ly(e.integerValue||e.doubleValue),r=Ly(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hy(e.timestampValue,t.timestampValue);case 4:return Hy(jy(e),jy(t));case 5:return zm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=My(e),r=My(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=zm(n[i],r[i]);if(0!==a)return a}return zm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zm(Ly(e.latitude),Ly(t.latitude));return 0!==n?n:zm(Ly(e.longitude),Ly(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Gy(n[i],r[i]);if(a)return a}return zm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Vy.mapValue&&t===Vy.mapValue)return 0;if(e===Vy.mapValue)return 1;if(t===Vy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=zm(r[o],a[o]);if(0!==u)return u;var s=Gy(n[r[o]],i[a[o]]);if(0!==s)return s}return zm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Tm()}}function Hy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zm(e,t);var n=Oy(e),r=Oy(t),i=zm(n.seconds,r.seconds);return 0!==i?i:zm(n.nanos,r.nanos)}function Wy(e){return Qy(e)}function Qy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Oy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?My(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Qy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Qy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Tm();var t,n}function $y(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Yy(e){return!!e&&"integerValue"in e}function Xy(e){return!!e&&"arrayValue"in e}function Jy(e){return!!e&&"nullValue"in e}function Zy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eg(e){return!!e&&"mapValue"in e}function tg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Sy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=tg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=tg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ng(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rg(e){return"nullValue"in e?By:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?$y(Ey.empty(),Xm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Tm()}function ig(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?$y(Ey.empty(),Xm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Vy:Tm()}function ag(e,t){var n=Gy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function og(e,t){var n=Gy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ug=v((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function sg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Xm.comparator(Xm.fromName(o.referenceValue),n.key):Gy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qy(e.position[n],t.position[n]))return!1;return!0}var lg=v((function e(){d(this,e)})),fg=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gy(t,this.value)):null!==t&&zy(this.value)===zy(t)&&this.matchesComparison(Gy(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wg(e,t,r):"array-contains"===t?new Eg(e,r):"in"===t?new Tg(e,r):"not-in"===t?new Sg(e,r):"array-contains-any"===t?new Cg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new _g(e,n):new xg(e,n)}}]),n}(lg),hg=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return v(n,[{key:"matches",value:function(e){return dg(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(lg);function dg(e){return"and"===e.op}function pg(e){return"or"===e.op}function vg(e){return mg(e)&&dg(e)}function mg(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof hg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function yg(e){if(e instanceof fg)return e.field.canonicalString()+e.op.toString()+Wy(e.value);if(vg(e))return e.filters.map((function(e){return yg(e)})).join(",");var t=e.filters.map((function(e){return yg(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function gg(e,t){return e instanceof fg?function(e,t){return t instanceof fg&&e.op===t.op&&e.field.isEqual(t.field)&&qy(e.value,t.value)}(e,t):e instanceof hg?function(e,t){return t instanceof hg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&gg(n,t.filters[r])}),!0)}(e,t):void Tm()}function kg(e,t){var n=e.filters.concat(t);return hg.create(n,e.op)}function bg(e){return e instanceof fg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wy(e.value))}(e):e instanceof hg?function(e){return e.op.toString()+" {"+e.getFilters().map(bg).join(" ,")+"}"}(e):"Filter"}var wg=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Xm.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=Xm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(fg),_g=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Ig("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fg),xg=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Ig("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fg);function Ig(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xm.fromName(e.referenceValue)}))}var Eg=function(e){y(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xy(t)&&Ky(t.arrayValue,this.value)}}]),n}(fg),Tg=function(e){y(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ky(this.value.arrayValue,t)}}]),n}(fg),Sg=function(e){y(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(Ky(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ky(this.value.arrayValue,t)}}]),n}(fg),Cg=function(e){y(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ky(t.value.arrayValue,e)}))}}]),n}(fg),Ng=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function Ag(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Rg=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Dg.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Dg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Pg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Pg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Pg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Pg(this.root,e,this.comparator,!0)}}]),e}(),Pg=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Dg=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Tm();if(this.right.isRed())throw Tm();var e=this.left.check();if(e!==this.right.check())throw Tm();return e+(this.isRed()?0:1)}}]),e}();Dg.EMPTY=null,Dg.RED=!0,Dg.BLACK=!1,Dg.EMPTY=new(function(){function e(){d(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw Tm()}},{key:"value",get:function(){throw Tm()}},{key:"color",get:function(){throw Tm()}},{key:"left",get:function(){throw Tm()}},{key:"right",get:function(){throw Tm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Dg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Og=function(){function e(t){d(this,e),this.comparator=t,this.data=new Rg(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Lg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Lg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Lg=function(){function e(t){d(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Mg(e){return e.hasNext()?e.getNext():void 0}var Fg=function(){function e(t){d(this,e),this.fields=t,t.sort(Ym.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new Og(Ym.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=S(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ug=function(){function e(t){d(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!eg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tg(t)}},{key:"setAll",value:function(e){var t=this,n=Ym.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=tg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return qy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];eg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Sy(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(tg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function jg(e){var t=[];return Sy(e.fields,(function(e,n){var r=new Ym([e]);if(eg(n)){var i=jg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Fg(t)}var Vg=function(){function e(t,n,r,i,a,o,u){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Hm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ug.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ug.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Hm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Hm.min(),Hm.min(),Hm.min(),Ug.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Hm.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Hm.min(),Hm.min(),Ug.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Hm.min(),Hm.min(),Ug.empty(),2)}}]),e}(),Bg=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function zg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bg(e,t,n,r,i,a,o)}function qg(e){var t=Cm(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return yg(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ny(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Wy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Wy(e)})).join(",")),t.ft=n}return t.ft}function Kg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ag(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!gg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cg(e.startAt,t.startAt)&&cg(e.endAt,t.endAt)}function Gg(e){return Xm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Hg(e,t){return e.filters.filter((function(e){return e instanceof fg&&e.field.isEqual(t)}))}function Wg(e,t,n){var r,i=By,a=!0,o=S(Hg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=By,c=!0;switch(u.op){case"<":case"<=":s=rg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=By}ag({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ag({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Qg(e,t,n){var r,i=Vy,a=!0,o=S(Hg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Vy,c=!0;switch(u.op){case">=":case">":s=ig(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Vy}og({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];og({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var $g=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Yg(e,t,n,r,i,a,o,u){return new $g(e,t,n,r,i,a,o,u)}function Xg(e){return new $g(e)}function Jg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ek(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function tk(e){return null!==e.collectionGroup}function nk(e){var t=Cm(e);if(null===t.dt){t.dt=[];var n=ek(t),r=Zg(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Ng(n)),t.dt.push(new Ng(Ym.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ng(Ym.keyField(),s))}}}return t.dt}function rk(e){var t=Cm(e);if(!t._t)if("F"===t.limitType)t._t=zg(t.path,t.collectionGroup,nk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(nk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ng(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ug(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ug(t.startAt.position,t.startAt.inclusive):null;t._t=zg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function ik(e,t){t.getFirstInequalityField(),ek(e);var n=e.filters.concat([t]);return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ak(e,t,n){return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ok(e,t){return Kg(rk(e),rk(t))&&e.limitType===t.limitType}function uk(e){return"".concat(qg(rk(e)),"|lt:").concat(e.limitType)}function sk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return bg(e)})).join(", "),"]")),Ny(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Wy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Wy(e)})).join(",")),"Target(".concat(t,")")}(rk(e)),"; limitType=").concat(e.limitType,")")}function ck(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(nk(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=sg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nk(e),t))&&!(e.endAt&&!function(e,t,n){var r=sg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nk(e),t))}(e,t)}function lk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fk(e){return function(t,n){var r,i=!1,a=S(nk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=hk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function hk(e,t,n){var r=e.field.isKeyField()?Xm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gy(r,i):Tm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tm()}}function dk(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ay(t)?"-0":t}}function pk(e){return{integerValue:""+e}}function vk(e,t){return Ry(t)?pk(t):dk(e,t)}var mk=v((function e(){d(this,e),this._=void 0}));function yk(e,t,n){return e instanceof bk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wk?_k(e,t):e instanceof xk?Ik(e,t):function(e,t){var n=kk(e,t),r=Tk(n)+Tk(e.gt);return Yy(n)&&Yy(e.gt)?pk(r):dk(e.yt,r)}(e,t)}function gk(e,t,n){return e instanceof wk?_k(e,t):e instanceof xk?Ik(e,t):n}function kk(e,t){return e instanceof Ek?Yy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var bk=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(mk),wk=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return v(n)}(mk);function _k(e,t){var n,r=Sk(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return qy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var xk=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return v(n)}(mk);function Ik(e,t){var n,r=Sk(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!qy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ek=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return v(n)}(mk);function Tk(e){return Ly(e.integerValue||e.doubleValue)}function Sk(e){return Xy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ck=v((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Nk=v((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),Ak=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Rk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pk=v((function e(){d(this,e)}));function Dk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gk(e.key,Ak.none()):new Uk(e.key,e.data,Ak.none());var n,r=e.data,i=Ug.empty(),a=new Og(Ym.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new jk(e.key,i,new Fg(a.toArray()),Ak.none())}function Ok(e,t,n){e instanceof Uk?function(e,t,n){var r=e.value.clone(),i=Bk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jk?function(e,t,n){if(Rk(e.precondition,t)){var r=Bk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lk(e,t,n,r){return e instanceof Uk?function(e,t,n,r){if(!Rk(e.precondition,t))return n;var i=e.value.clone(),a=zk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jk?function(e,t,n,r){if(!Rk(e.precondition,t))return n;var i=zk(e.fieldTransforms,r,t),a=t.data;return a.setAll(Vk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Rk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Mk(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=kk(a.transform,o||null);null!=u&&(null===r&&(r=Ug.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Fk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wk&&t instanceof wk||e instanceof xk&&t instanceof xk?qm(e.elements,t.elements,qy):e instanceof Ek&&t instanceof Ek?qy(e.gt,t.gt):e instanceof bk&&t instanceof bk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Uk=function(e){y(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Pk),jk=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Pk);function Vk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bk(e,t,n){var r=new Map;Sm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,gk(o,u,n[i]))}return r}function zk(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,yk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var qk,Kk,Gk=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Pk),Hk=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Pk),Wk=v((function e(t){d(this,e),this.count=t}));function Qk(e){switch(e){default:return Tm();case Nm.CANCELLED:case Nm.UNKNOWN:case Nm.DEADLINE_EXCEEDED:case Nm.RESOURCE_EXHAUSTED:case Nm.INTERNAL:case Nm.UNAVAILABLE:case Nm.UNAUTHENTICATED:return!1;case Nm.INVALID_ARGUMENT:case Nm.NOT_FOUND:case Nm.ALREADY_EXISTS:case Nm.PERMISSION_DENIED:case Nm.FAILED_PRECONDITION:case Nm.ABORTED:case Nm.OUT_OF_RANGE:case Nm.UNIMPLEMENTED:case Nm.DATA_LOSS:return!0}}function $k(e){if(void 0===e)return xm("GRPC error has no .code"),Nm.UNKNOWN;switch(e){case qk.OK:return Nm.OK;case qk.CANCELLED:return Nm.CANCELLED;case qk.UNKNOWN:return Nm.UNKNOWN;case qk.DEADLINE_EXCEEDED:return Nm.DEADLINE_EXCEEDED;case qk.RESOURCE_EXHAUSTED:return Nm.RESOURCE_EXHAUSTED;case qk.INTERNAL:return Nm.INTERNAL;case qk.UNAVAILABLE:return Nm.UNAVAILABLE;case qk.UNAUTHENTICATED:return Nm.UNAUTHENTICATED;case qk.INVALID_ARGUMENT:return Nm.INVALID_ARGUMENT;case qk.NOT_FOUND:return Nm.NOT_FOUND;case qk.ALREADY_EXISTS:return Nm.ALREADY_EXISTS;case qk.PERMISSION_DENIED:return Nm.PERMISSION_DENIED;case qk.FAILED_PRECONDITION:return Nm.FAILED_PRECONDITION;case qk.ABORTED:return Nm.ABORTED;case qk.OUT_OF_RANGE:return Nm.OUT_OF_RANGE;case qk.UNIMPLEMENTED:return Nm.UNIMPLEMENTED;case qk.DATA_LOSS:return Nm.DATA_LOSS;default:return Tm()}}(Kk=qk||(qk={}))[Kk.OK=0]="OK",Kk[Kk.CANCELLED=1]="CANCELLED",Kk[Kk.UNKNOWN=2]="UNKNOWN",Kk[Kk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kk[Kk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kk[Kk.NOT_FOUND=5]="NOT_FOUND",Kk[Kk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kk[Kk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kk[Kk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kk[Kk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kk[Kk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kk[Kk.ABORTED=10]="ABORTED",Kk[Kk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kk[Kk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kk[Kk.INTERNAL=13]="INTERNAL",Kk[Kk.UNAVAILABLE=14]="UNAVAILABLE",Kk[Kk.DATA_LOSS=15]="DATA_LOSS";var Yk=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Sy(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Cy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Xk=new Rg(Xm.comparator);function Jk(){return Xk}var Zk=new Rg(Xm.comparator);function eb(){for(var e=Zk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function tb(e){var t=Zk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function nb(){return ib()}function rb(){return ib()}function ib(){return new Yk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ab=new Rg(Xm.comparator),ob=new Og(Xm.comparator);function ub(){for(var e=ob,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var sb=new Og(zm);function cb(){return sb}var lb=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,fb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Hm.min(),i,cb(),Jk(),ub())}}]),e}(),fb=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ub(),ub(),ub())}}]),e}(),hb=v((function e(t,n,r,i){d(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),db=v((function e(t,n){d(this,e),this.targetId=t,this.Et=n})),pb=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Py.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),vb=function(){function e(){d(this,e),this.At=0,this.Rt=gb(),this.bt=Py.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return v(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=ub(),t=ub(),n=ub();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tm()}})),new fb(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=gb()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),mb=function(){function e(t){d(this,e),this.$t=t,this.Bt=new Map,this.Lt=Jk(),this.qt=yb(),this.Ut=new Og(zm)}return v(e,[{key:"Kt",value:function(e){var t,n=S(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Tm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Gg(i))if(0===n){var a=new Xm(i.path);this.Qt(t,a,Vg.newNoDocument(a,Hm.min()))}else Sm(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Gg(a.target)){var o=new Xm(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Vg.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=ub();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new lb(e,n,this.Ut,this.Lt,r);return this.Lt=Jk(),this.qt=yb(),this.Ut=new Og(zm),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new vb,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Og(zm),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||_m("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new vb),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function yb(){return new Rg(Xm.comparator)}function gb(){return new Rg(Xm.comparator)}var kb={asc:"ASCENDING",desc:"DESCENDING"},bb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wb={and:"AND",or:"OR"},_b=v((function e(t,n){d(this,e),this.databaseId=t,this.wt=n}));function xb(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ib(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Eb(e,t){return xb(e,t.toTimestamp())}function Tb(e){return Sm(!!e),Hm.fromTimestamp(function(e){var t=Oy(e);return new Gm(t.seconds,t.nanos)}(e))}function Sb(e,t){return function(e){return new Qm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Cb(e){var t=Qm.fromString(e);return Sm(Xb(t)),t}function Nb(e,t){return Sb(e.databaseId,t.path)}function Ab(e,t){var n=Cb(t);if(n.get(1)!==e.databaseId.projectId)throw new Am(Nm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Am(Nm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xm(Ob(n))}function Rb(e,t){return Sb(e.databaseId,t)}function Pb(e){var t=Cb(e);return 4===t.length?Qm.emptyPath():Ob(t)}function Db(e){return new Qm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ob(e){return Sm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lb(e,t,n){return{name:Nb(e,t),fields:n.value.mapValue.fields}}function Mb(e,t,n){var r=Ab(e,t.name),i=Tb(t.updateTime),a=t.createTime?Tb(t.createTime):Hm.min(),o=new Ug({mapValue:{fields:t.fields}}),u=Vg.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Fb(e,t){return"found"in t?function(e,t){Sm(!!t.found),t.found.name,t.found.updateTime;var n=Ab(e,t.found.name),r=Tb(t.found.updateTime),i=t.found.createTime?Tb(t.found.createTime):Hm.min(),a=new Ug({mapValue:{fields:t.found.fields}});return Vg.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Sm(!!t.missing),Sm(!!t.readTime);var n=Ab(e,t.missing),r=Tb(t.readTime);return Vg.newNoDocument(n,r)}(e,t):Tm()}function Ub(e,t){var n;if(t instanceof Uk)n={update:Lb(e,t.key,t.value)};else if(t instanceof Gk)n={delete:Nb(e,t.key)};else if(t instanceof jk)n={update:Lb(e,t.key,t.data),updateMask:Yb(t.fieldMask)};else{if(!(t instanceof Hk))return Tm();n={verify:Nb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof bk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ek)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Tm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Eb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tm()}(e,t.precondition)),n}function jb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ak.updateTime(Tb(e.updateTime)):void 0!==e.exists?Ak.exists(e.exists):Ak.none()}(t.currentDocument):Ak.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Sm("REQUEST_TIME"===t.setToServerValue),n=new bk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new xk(i)}else"increment"in t?n=new Ek(e,t.increment):Tm();var a=Ym.fromServerFormat(t.fieldPath);return new Ck(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ab(e,t.update.name),a=new Ug({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Fg(t.map((function(e){return Ym.fromServerFormat(e)})))}(t.updateMask);return new jk(i,a,o,n,r)}return new Uk(i,a,n,r)}if(t.delete){var u=Ab(e,t.delete);return new Gk(u,n)}if(t.verify){var s=Ab(e,t.verify);return new Hk(s,n)}return Tm()}function Vb(e,t){return{documents:[Rb(e,t.path)]}}function Bb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Rb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Rb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return $b(hg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Wb(e.field),direction:Kb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Ny(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function zb(e){var t=Pb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=qb(e);return t instanceof hg&&vg(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ng(Qb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ny(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ug(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ug(n,t)}(n.endAt)),Yg(t,i,u,o,s,"F",c,l)}function qb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qb(e.unaryFilter.field);return fg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qb(e.unaryFilter.field);return fg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qb(e.unaryFilter.field);return fg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qb(e.unaryFilter.field);return fg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Tm()}}(e):void 0!==e.fieldFilter?function(e){return fg.create(Qb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hg.create(e.compositeFilter.filters.map((function(e){return qb(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Tm()}}(e.compositeFilter.op))}(e):Tm()}function Kb(e){return kb[e]}function Gb(e){return bb[e]}function Hb(e){return wb[e]}function Wb(e){return{fieldPath:e.canonicalString()}}function Qb(e){return Ym.fromServerFormat(e.fieldPath)}function $b(e){return e instanceof fg?function(e){if("=="===e.op){if(Zy(e.value))return{unaryFilter:{field:Wb(e.field),op:"IS_NAN"}};if(Jy(e.value))return{unaryFilter:{field:Wb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zy(e.value))return{unaryFilter:{field:Wb(e.field),op:"IS_NOT_NAN"}};if(Jy(e.value))return{unaryFilter:{field:Wb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wb(e.field),op:Gb(e.op),value:e.value}}}(e):e instanceof hg?function(e){var t=e.getFilters().map((function(e){return $b(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Hb(e.op),filters:t}}}(e):Tm()}function Yb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Jb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ew(t)),t=Zb(e.get(n),t);return ew(t)}function Zb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ew(e){return e+"\x01\x01"}function tw(e){var t=e.length;if(Sm(t>=2),2===t)return Sm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Tm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Tm()}a=o+2}return new Qm(r)}var nw=["userId","batchId"];function rw(e,t){return[e,Jb(t)]}function iw(e,t,n){return[e,Jb(t),n]}var aw={},ow=["prefixPath","collectionGroup","readTime","documentId"],uw=["prefixPath","collectionGroup","documentId"],sw=["collectionGroup","readTime","prefixPath","documentId"],cw=["canonicalId","targetId"],lw=["targetId","path"],fw=["path","targetId"],hw=["collectionId","parent"],dw=["indexId","uid"],pw=["uid","sequenceNumber"],vw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mw=["indexId","uid","orderedDocumentKey"],yw=["userId","collectionPath","documentId"],gw=["userId","collectionPath","largestBatchId"],kw=["userId","collectionGroup","largestBatchId"],bw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ww=[].concat(h(bw),["documentOverlays"]),_w=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xw=_w,Iw=[].concat(xw,["indexConfiguration","indexState","indexEntries"]),Ew=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return v(n)}(sy);function Tw(e,t){var n=Cm(e);return dy.M(n.se,t)}var Sw=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ok(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Lk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Lk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=rb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Dk(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Hm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ub())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qm(this.mutations,e.mutations,(function(e,t){return Fk(e,t)}))&&qm(this.baseMutations,e.baseMutations,(function(e,t){return Fk(e,t)}))}}]),e}(),Cw=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){Sm(t.mutations.length===r.length);for(var i=ab,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Nw=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Aw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Py.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Rw=v((function e(t){d(this,e),this.ie=t}));function Pw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Nb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xb(e,t.version.toTimestamp()),createTime:xb(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ow(t.version)};else{if(!t.isUnknownDocument())return Tm();r.unknownDocument={path:n.path.toArray(),version:Ow(t.version)}}return r}function Dw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ow(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lw(e){var t=new Gm(e.seconds,e.nanoseconds);return Hm.fromTimestamp(t)}function Mw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return jb(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return jb(e.ie,t)})),u=Gm.fromMillis(t.localWriteTimeMs);return new Sw(t.batchId,u,n,o)}function Fw(e){var t,n,r=Lw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lw(e.lastLimboFreeSnapshotVersion):Hm.min();return void 0!==e.query.documents?(Sm(1===(n=e.query).documents.length),t=rk(Xg(Pb(n.documents[0])))):t=function(e){return rk(zb(e))}(e.query),new Aw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Py.fromBase64String(e.resumeToken))}function Uw(e,t){var n,r=Ow(t.snapshotVersion),i=Ow(t.lastLimboFreeSnapshotVersion);n=Gg(t.target)?Vb(e.ie,t.target):Bb(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function jw(e){var t=zb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ak(t,t.limit,"L"):t}function Vw(e,t){return new Nw(t.largestBatchId,jb(e.ie,t.overlayMutation))}function Bw(e,t){var n=t.path.lastSegment();return[e,Jb(t.path.popLast()),n]}function zw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ow(r.readTime),documentKey:Jb(r.documentKey.path),largestBatchId:r.largestBatchId}}var qw=function(){function e(){d(this,e)}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Kw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Kw(e).put({bundleId:(n=t).id,createTime:Ow(Tb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Gw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:jw(t.bundledQuery),readTime:Lw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Gw(e).put(function(e){return{name:e.name,readTime:Ow(Tb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Kw(e){return Tw(e,"bundles")}function Gw(e){return Tw(e,"namedQueries")}var Hw=function(){function e(t,n){d(this,e),this.yt=t,this.userId=n}return v(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ww(e).get(Bw(this.userId,t)).next((function(e){return e?Vw(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=nb();return fy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Nw(t,a);i.push(r.oe(e,o))})),fy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Jb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ww(e).Y("collectionPathOverlayIndex",i))})),fy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=nb(),a=Jb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ww(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Vw(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=nb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ww(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Vw(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Ww(e).put(function(e,t,n){var r=l(Bw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ub(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ww(e){return Tw(e,"documentOverlays")}var Qw=function(){function e(){d(this,e)}return v(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ly(e.integerValue));else if("doubleValue"in e){var n=Ly(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Ay(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(My(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?ng(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Tm()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Xm.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function $w(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=$w(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Qw.Ie=new Qw;var Xw=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return v(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Yw(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Yw(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Jw=function(){function e(t){d(this,e),this.$e=t}return v(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),Zw=function(){function e(t){d(this,e),this.$e=t}return v(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),e_=function(){function e(){d(this,e),this.$e=new Xw,this.Be=new Jw(this.$e),this.Le=new Zw(this.$e)}return v(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),t_=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return v(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function n_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=r_(e.arrayValue,t.arrayValue))?n:0!==(n=r_(e.directionalValue,t.directionalValue))?n:Xm.comparator(e.documentKey,t.documentKey)}function r_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var i_=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=S(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return v(e,[{key:"je",value:function(e){Sm(e.collectionGroup===this.collectionId);var t=Zm(e);if(void 0!==t&&!this.We(t))return!1;for(var n=ey(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=S(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function a_(e){var t,n;if(Sm(e instanceof fg||e instanceof hg),e instanceof fg){if(e instanceof Tg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return fg.create(e.field,"==",t)})))||[];return hg.create(r,"or")}return e}var i=e.filters.map((function(e){return a_(e)}));return hg.create(i,e.op)}function o_(e){if(0===e.getFilters().length)return[];var t=l_(a_(e));return Sm(c_(t)),u_(t)||s_(t)?[t]:t.getFilters()}function u_(e){return e instanceof fg}function s_(e){return e instanceof hg&&vg(e)}function c_(e){return u_(e)||s_(e)||function(e){if(e instanceof hg&&pg(e)){var t,n=S(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!u_(r)&&!s_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function l_(e){if(Sm(e instanceof fg||e instanceof hg),e instanceof fg)return e;if(1===e.filters.length)return l_(e.filters[0]);var t=e.filters.map((function(e){return l_(e)})),n=hg.create(t,e.op);return c_(n=d_(n))?n:(Sm(n instanceof hg),Sm(dg(n)),Sm(n.filters.length>1),n.filters.reduce((function(e,t){return f_(e,t)})))}function f_(e,t){var n;return Sm(e instanceof fg||e instanceof hg),Sm(t instanceof fg||t instanceof hg),n=e instanceof fg?t instanceof fg?function(e,t){return hg.create([e,t],"and")}(e,t):h_(e,t):t instanceof fg?h_(t,e):function(e,t){if(Sm(e.filters.length>0&&t.filters.length>0),dg(e)&&dg(t))return kg(e,t.getFilters());var n=pg(e)?e:t,r=pg(e)?t:e,i=n.filters.map((function(e){return f_(e,r)}));return hg.create(i,"or")}(e,t),d_(n)}function h_(e,t){if(dg(t))return kg(t,e.getFilters());var n=t.filters.map((function(t){return f_(e,t)}));return hg.create(n,"or")}function d_(e){if(Sm(e instanceof fg||e instanceof hg),e instanceof fg)return e;var t=e.getFilters();if(1===t.length)return d_(t[0]);if(mg(e))return e;var n=t.map((function(e){return d_(e)})),r=[];return n.forEach((function(t){t instanceof fg?r.push(t):t instanceof hg&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:hg.create(r,e.op)}var p_=function(){function e(){d(this,e),this.Je=new v_}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),fy.resolve()}},{key:"getCollectionParents",value:function(e,t){return fy.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fy.resolve(null)}},{key:"getIndexType",value:function(e,t){return fy.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fy.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fy.resolve(ay.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fy.resolve(ay.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fy.resolve()}}]),e}(),v_=function(){function e(){d(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Og(Qm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Og(Qm.comparator)).toArray()}}]),e}(),m_=new Uint8Array(0),y_=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.Ye=new v_,this.Xe=new Yk((function(e){return qg(e)}),(function(e,t){return Kg(e,t)})),this.uid=t.uid||""}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Jb(i)};return g_(e).put(a)}return fy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Km(t),""],!1,!0);return g_(e).W(r).next((function(e){var r,i=S(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(tw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=b_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=w_(e);return a.next((function(e){o.put(zw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=b_(e),r=w_(e),i=k_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=k_(e),i=!0,a=new Map;return fy.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ub(),o=[];return fy.forEach(a,(function(i,a){var u;_m("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(qg(t)));var s=function(e,t){var n=Zm(t);if(void 0===n)return null;var r,i=S(Hg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=S(ey(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=S(Hg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=S(ey(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Wg(e,o.fieldPath,e.startAt):Qg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ug(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=S(ey(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Qg(e,o.fieldPath,e.endAt):Wg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ug(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return fy.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Xm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return fy.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:o_(hg.create(e.filters,"and")).map((function(t){return zg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.rn(t[s/c]):m_,d=u.on(e,f,n[s%c],r),p=u.un(e,f,i[s%c],a),v=o.map((function(t){return u.on(e,f,t,!0)}));l.push.apply(l,h(u.createRange(d,p,v)))},d=0;d<s;++d)f(d);return l}},{key:"on",value:function(e,t,n,r){var i=new t_(e,Xm.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new t_(e,Xm.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new i_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=S(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return fy.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Og(Ym.comparator),r=!1,i=S(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=S(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=S(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new e_,i=S(ey(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Qw.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new e_;return Qw.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new e_;return Qw.Ie.ue($y(this.databaseId,t),n.qe(function(e){var t=ey(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new e_);var i,a=0,o=S(ey(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=S(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Xy(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);Qw.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=h(e),a=[],o=S(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=S(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new e_;f.seed(l.Fe()),Qw.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof fg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=b_(e),i=w_(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return fy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ny(t.sequenceNumber,new ay(Lw(t.readTime),new Xm(tw(t.documentKey)),t.largestBatchId)):ny.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new ty(Ym.fromServerFormat(n),r)}));return new Jm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:zm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=b_(e),a=w_(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return fy.forEach(t,(function(t){return a.put(zw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return fy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?fy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),fy.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?fy.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return k_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return k_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=k_(e),i=new Og(n_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new t_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Og(n_),r=this.cn(t,e);if(null==r)return n;var i=Zm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Xy(a)){var o,u=S(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new t_(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new t_(t.indexId,e.key,m_,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;_m("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Mg(a),s=Mg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Mg(o)):l?(i(u),u=Mg(a)):(u=Mg(a),s=Mg(o))}}(r,i,n_,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),fy.waitFor(o)}},{key:"dn",value:function(e){var t=1;return w_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return n_(e,t)})).filter((function(e,t,n){return!t||0!==n_(e,n[t-1])}));var r=[];r.push(e);var i,a=S(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=n_(o,e),s=n_(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,m_,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,m_,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return n_(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(__)}},{key:"getMinOffset",value:function(e,t){var n=this;return fy.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Tm()}))})).next(__)}}]),e}();function g_(e){return Tw(e,"collectionParents")}function k_(e){return Tw(e,"indexEntries")}function b_(e){return Tw(e,"indexConfiguration")}function w_(e){return Tw(e,"indexState")}function __(e){Sm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;oy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ay(t.readTime,t.documentKey,n)}var x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I_=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function E_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Sm(1===u)})));var c,l=[],f=S(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=iw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return fy.waitFor(a).next((function(){return l}))}function T_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Tm();t=e.noDocument}return JSON.stringify(t).length}I_.DEFAULT_COLLECTION_PERCENTILE=10,I_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,I_.DEFAULT=new I_(41943040,I_.DEFAULT_COLLECTION_PERCENTILE,I_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),I_.DISABLED=new I_(-1,0,0);var S_=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return v(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return N_(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=A_(e),o=N_(e);return o.add({}).next((function(u){Sm("number"==typeof u);var s,c=new Sw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ub(e.ie,t)})),i=n.mutations.map((function(t){return Ub(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Og((function(e,t){return zm(e.canonicalString(),t.canonicalString())})),d=S(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=iw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,aw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),fy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return N_(e).get(t).next((function(e){return e?(Sm(e.userId===n.userId),Mw(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?fy.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return N_(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Sm(t.batchId>=r),a=Mw(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return N_(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return N_(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Mw(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=rw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return A_(e).Z({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=tw(c);if(s===n.userId&&t.path.isEqual(h))return N_(e).get(f).next((function(e){if(!e)throw Tm();Sm(e.userId===n.userId),a.push(Mw(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Og(zm),i=[];return t.forEach((function(t){var a=rw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=A_(e).Z({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=tw(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),fy.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=rw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Og(zm);return A_(e).Z({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=tw(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(N_(e).get(t).next((function(e){if(null===e)throw Tm();Sm(e.userId===n.userId),r.push(Mw(n.yt,e))})))})),fy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return E_(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),fy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return fy.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return A_(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=tw(e[1]);i.push(a)}else r.done()})).next((function(){Sm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return C_(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return R_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Sm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function C_(e,t,n){var r=rw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return A_(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function N_(e){return Tw(e,"mutations")}function A_(e){return Tw(e,"documentMutations")}function R_(e){return Tw(e,"mutationQueues")}var P_=function(){function e(t){d(this,e),this.bn=t}return v(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),D_=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.yt=n}return v(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new P_(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Hm.fromTimestamp(new Gm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return O_(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Sm(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return O_(e).Z((function(o,u){var s=Fw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return fy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return O_(e).Z((function(e,n){var r=Fw(n);t(r)}))}},{key:"Vn",value:function(e){return L_(e).get("targetGlobalKey").next((function(e){return Sm(null!==e),e}))}},{key:"Sn",value:function(e,t){return L_(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return O_(e).put(Uw(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return O_(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Fw(n);Kg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=M_(e);return t.forEach((function(t){var o=Jb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),fy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=M_(e);return fy.forEach(t,(function(t){var a=Jb(t.path);return fy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=M_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=M_(e),i=ub();return r.Z({range:n,X:!0},(function(e,t,n){var r=tw(e[1]),a=new Xm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Jb(t.path),r=IDBKeyRange.bound([n],[Km(n)],!1,!0),i=0;return M_(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return O_(e).get(t).next((function(e){return e?Fw(e):null}))}}]),e}();function O_(e){return Tw(e,"targets")}function L_(e){return Tw(e,"targetGlobal")}function M_(e){return Tw(e,"targetDocuments")}function F_(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=zm(r,o);return 0===s?zm(i,u):s}var U_=function(){function e(t){d(this,e),this.xn=t,this.buffer=new Og(F_),this.Nn=0}return v(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();F_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),j_=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return v(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;_m("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!my(e.t0)){e.next=12;break}_m("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,cy(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),V_=function(){function e(t,n){d(this,e),this.$n=t,this.params=n}return v(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return fy.resolve(xy.at);var r=new U_(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_m("LruGarbageCollector","Garbage collection skipped; disabled"),fy.resolve(x_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_m("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),x_):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),wm()<=zl.DEBUG&&_m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),fy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),B_=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=function(e,t){return new V_(e,t)}(this,n)}return v(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return z_(e,n)}},{key:"removeReference",value:function(e,t,n){return z_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return z_(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return R_(e).tt((function(r){return C_(e,r,t).next((function(e){return e&&(n=!0),fy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Hm.min()),M_(e).delete([0,Jb(o.path)])}))}));i.push(s)}})).next((function(){return fy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return z_(e,t)}},{key:"Kn",value:function(e,t){var n,r=M_(e),i=xy.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==xy.at&&t(new Xm(tw(n)),i),i=s,n=u):i=xy.at})).next((function(){i!==xy.at&&t(new Xm(tw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function z_(e,t){return M_(e).put(function(e,t){return{targetId:0,path:Jb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var q_=function(){function e(){d(this,e),this.changes=new Yk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),K_=function(){function e(t){d(this,e),this.yt=t}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Q_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Q_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Dw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Vg.newInvalidDocument(t);return Q_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($_(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Vg.newInvalidDocument(t)};return Q_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($_(t))},(function(e,i){r={document:n.jn(t,i),size:T_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Jk();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Jk(),i=new Rg(Xm.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,T_(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return fy.resolve();var r=new Og(X_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound($_(r.first()),$_(r.last())),a=r.getIterator(),o=a.getNext();return Q_(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Xm.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&X_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j($_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Dw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Q_(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Jk(),o=S(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.jn(Xm.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(ck(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Jk(),o=Y_(t,n),u=Y_(t,ay.max());return Q_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Xm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new H_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return W_(e).get("remoteDocumentGlobalKey").next((function(e){return Sm(!!e),e}))}},{key:"Qn",value:function(e,t){return W_(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Mb(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Xm.fromSegments(t.noDocument.path),i=Lw(t.noDocument.readTime);n=Vg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Tm();var a=Xm.fromSegments(t.unknownDocument.path),o=Lw(t.unknownDocument.version);n=Vg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Gm(e[0],e[1]);return Hm.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Hm.min()))return n}return Vg.newInvalidDocument(e)}}]),e}();function G_(e){return new K_(e)}var H_=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Yk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Og((function(e,t){return zm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Pw(t.Yn.yt,o);i=i.add(a.path.popLast());var c=T_(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Pw(t.Yn.yt,o.convertToNoDocument(Hm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),fy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(q_);function W_(e){return Tw(e,"remoteDocumentGlobal")}function Q_(e){return Tw(e,"remoteDocumentsV14")}function $_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Y_(e,t){var n=t.documentKey.path.toArray();return[e,Dw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function X_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=zm(n[a],r[a]))return i;return(i=zm(n.length,r.length))||((i=zm(n[n.length-2],r[r.length-2]))||zm(n[n.length-1],r[r.length-1]))}var J_=v((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Z_=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Lk(r.mutation,e,Fg.empty(),Gm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ub()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ub(),i=nb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=eb();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=nb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ub())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Jk(),a=ib(),o=ib();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof jk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Lk(o.mutation,t,o.mutation.getFieldMask(),Gm.now())):a.set(t.key,Fg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new J_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ib(),i=new Rg((function(e,t){return e-t})),a=ub();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Fg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ub()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=rb();c.forEach((function(e){if(!a.has(e)){var n=Dk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return fy.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Xm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fy.resolve(nb()),u=-1,s=a;return o.next((function(t){return fy.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?fy.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ub())})).next((function(e){return{batchId:u,changes:tb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Xm(t)).next((function(e){var t=eb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=eb();return this.indexManager.getCollectionParents(e,i).next((function(o){return fy.forEach(o,(function(o){var u=function(e,t){return new $g(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vg.newInvalidDocument(r)))}));var n=eb();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Lk(a.mutation,i,Fg.empty(),Gm.now()),ck(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ex=function(){function e(t){d(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return fy.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Tb(n.createTime)}),fy.resolve()}},{key:"getNamedQuery",value:function(e,t){return fy.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:jw(e.bundledQuery),readTime:Tb(e.readTime)}}(t)),fy.resolve()}}]),e}(),tx=function(){function e(){d(this,e),this.overlays=new Rg(Xm.comparator),this.es=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return fy.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=nb();return fy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),fy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),fy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nb(),i=t.length+1,a=new Xm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return fy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Rg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=nb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=nb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return fy.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Nw(t,n));var a=this.es.get(t);void 0===a&&(a=ub(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),nx=function(){function e(){d(this,e),this.ns=new Og(rx.ss),this.rs=new Og(rx.os)}return v(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new rx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new rx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Xm(new Qm([])),r=new rx(n,e),i=new rx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Xm(new Qm([])),n=new rx(t,e),r=new rx(t,e+1),i=ub();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new rx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),rx=function(){function e(t,n){d(this,e),this.key=t,this._s=n}return v(e,null,[{key:"ss",value:function(e,t){return Xm.comparator(e.key,t.key)||zm(e._s,t._s)}},{key:"os",value:function(e,t){return zm(e._s,t._s)||Xm.comparator(e.key,t.key)}}]),e}(),ix=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Og(rx.ss)}return v(e,[{key:"checkEmpty",value:function(e){return fy.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Sw(i,t,n,r);this.mutationQueue.push(a);var o,u=S(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new rx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return fy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fy.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return fy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fy.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return fy.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new rx(t,0),i=new rx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),fy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Og(zm);return t.forEach((function(e){var t=new rx(e,0),i=new rx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),fy.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Xm.isDocumentKey(i)||(i=i.child(""));var a=new rx(new Xm(i),0),o=new Og(zm);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),fy.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Sm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return fy.forEach(t.mutations,(function(i){var a=new rx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new rx(t,0),r=this.gs.firstAfterOrEqual(n);return fy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fy.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ax=function(){function e(t){d(this,e),this.Es=t,this.docs=new Rg(Xm.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fy.resolve(n?n.document.mutableCopy():Vg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Jk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vg.newInvalidDocument(e))})),fy.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Jk(),a=t.path,o=new Xm(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||oy(iy(l),n)<=0||(r.has(l.key)||ck(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return fy.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Tm()}},{key:"As",value:function(e,t){return fy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ox(this)}},{key:"getSize",value:function(e){return fy.resolve(this.size)}}]),e}(),ox=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).Yn=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),fy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(q_),ux=function(){function e(t){d(this,e),this.persistence=t,this.Rs=new Yk((function(e){return qg(e)}),Kg),this.lastRemoteSnapshotVersion=Hm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nx,this.targetCount=0,this.vs=P_.Pn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),fy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fy.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),fy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),fy.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new P_(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,fy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),fy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,fy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return fy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),fy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),fy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return fy.resolve(n)}},{key:"containsKey",value:function(e,t){return fy.resolve(this.Ps.containsKey(t))}}]),e}(),sx=function(){function e(t,n){var r=this;d(this,e),this.Vs={},this.overlays={},this.Ss=new xy(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new ux(this),this.indexManager=new p_,this.remoteDocumentCache=new ax((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Rw(n),this.Ns=new ex(this.yt)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new tx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new ix(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;_m("MemoryPersistence","Starting transaction:",e);var i=new cx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return fy.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),cx=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(sy),lx=function(){function e(t){d(this,e),this.persistence=t,this.Fs=new nx,this.$s=null}return v(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Tm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),fy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),fy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),fy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fy.forEach(this.Ls,(function(r){var i=Xm.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Hm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return fy.or([function(){return fy.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),fx=function(){function e(t){d(this,e),this.yt=t}return v(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new hy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nw,{unique:!0}),e.createObjectStore("documentMutations")}(e),hx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=fy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return fy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:yw});t.createIndex("collectionPathOverlayIndex",gw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",kw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ow});t.createIndex("documentKeyIndex",uw),t.createIndex("collectionGroupIndex",sw)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:dw}).createIndex("sequenceNumberIndex",pw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vw}).createIndex("documentKeyIndex",mw,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=T_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return fy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return fy.forEach(r,(function(r){Sm(r.userId===n.userId);var i=Mw(t.yt,r);return E_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Qm(n),o=function(e){return[0,Jb(e)]}(a);r.push(t.get(o).next((function(n){return n?fy.resolve():function(n){return t.put({targetId:0,path:Jb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return fy.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:hw});var n=t.store("collectionParents"),r=new v_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jb(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Qm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],tw(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Fw(r),a=Uw(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Xm(Qm.fromString(i.document.name).popFirst(5)):i.noDocument?Xm.fromSegments(i.noDocument.path):i.unknownDocument?Xm.fromSegments(i.unknownDocument.path):Tm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return fy.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=G_(this.yt),a=new sx(lx.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ub();Mw(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),fy.forEach(r,(function(e,r){var o=new gm(r),u=Hw.re(n.yt,o),s=a.getIndexManager(o),c=S_.re(o,n.yt,s,a.referenceDelegate);return new Z_(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Ew(t,xy.at),e).next()}))}))}}]),e}();function hx(e){e.createObjectStore("targetDocuments",{keyPath:lw}).createIndex("documentTargetsIndex",fw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cw,{unique:!0}),e.createObjectStore("targetGlobal")}var dx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",px=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Am(Nm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new B_(this,i),this.ii=n+"main",this.yt=new Rw(s),this.ri=new dy(this.ii,this.Xs,new fx(this.yt)),this.Cs=new D_(this.referenceDelegate,this.yt),this.remoteDocumentCache=G_(this.yt),this.Ns=new qw,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&xm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return v(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Am(Nm.FAILED_PRECONDITION,dx);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new xy(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Fl(Ll().mark((function n(r){return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Fl(Ll().mark((function t(n){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return mx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(my(t))return _m("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _m("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return vx(e).get("owner").next((function(e){return fy.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return mx(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r,i,a=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Tw(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return fy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=S(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?fy.resolve(!0):vx(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Am(Nm.FAILED_PRECONDITION,dx);return!1}}return!(!t.networkEnabled||!t.inForeground)||mx(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_m("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Fl(Ll().mark((function e(){var t=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ew(e,xy.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return mx(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return S_.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new y_(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Hw.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;_m("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Iw:14===i?xw:13===i?_w:12===i?ww:11===i?bw:void Tm();return this.ri.runTransaction(e,o,u,(function(i){return a=new Ew(i,r.Ss?r.Ss.next():xy.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw xm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Am(Nm.FAILED_PRECONDITION,uy);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return vx(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Am(Nm.FAILED_PRECONDITION,dx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vx(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=vx(e);return n.get("owner").next((function(e){return t.mi(e)?(_m("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):fy.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(xm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ml()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return _m("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return xm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Sh){xm("Failed to set zombie client id.",Sh)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Sh){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return dy.C()}}]),e}();function vx(e){return Tw(e,"owner")}function mx(e){return Tw(e,"clientMetadata")}function yx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gx=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return v(e,null,[{key:"Ci",value:function(t,n){var r,i=ub(),a=ub(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),kx=function(){function e(){d(this,e),this.xi=!1}return v(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Jg(t))return fy.resolve(null);var r=rk(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ak(t,null,"F"),r=rk(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ub.apply(void 0,h(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,ak(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Jg(t)||r.isEqual(Hm.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(wm()<=zl.DEBUG&&_m("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sk(t)),i.Bi(e,o,t,ry(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Og(fk(e));return t.forEach((function(t,r){ck(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return wm()<=zl.DEBUG&&_m("QueryEngine","Using full collection scan to execute query:",sk(t)),this.Ni.getDocumentsMatchingQuery(e,t,ay.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),bx=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Rg(zm),this.Ui=new Yk((function(e){return qg(e)}),Kg),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return v(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function wx(e,t,n,r){return new bx(e,t,n,r)}function _x(e,t){return xx.apply(this,arguments)}function xx(){return xx=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ub(),s=S(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=S(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=S(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),xx.apply(this,arguments)}function Ix(e,t){var n=Cm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Sm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ub(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ex(e){var t=Cm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Tx(e,t){var n=Cm(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Py.EMPTY_BYTE_STRING,Hm.min()).withLastLimboFreeSnapshotVersion(Hm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Jk(),s=ub();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Sx(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Hm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function Sx(e,t,n){var r=ub(),i=ub();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Jk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Hm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):_m("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Cx(e,t){var n=Cm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Nx(e,t){var n=Cm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,fy.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Aw(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Ax(e,t,n){return Rx.apply(this,arguments)}function Rx(){return Rx=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cm(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),my(e.t1)){e.next=12;break}throw e.t1;case 12:_m("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Rx.apply(this,arguments)}function Px(e,t,n){var r=Cm(e),i=Hm.min(),a=ub();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Cm(e),i=r.Ui.get(n);return void 0!==i?fy.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,rk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Hm.min(),n?a:ub())})).next((function(e){return Lx(r,lk(t),e),{documents:e,Hi:a}}))}))}function Dx(e,t){var n=Cm(e),r=Cm(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Ox(e,t){var n=Cm(e),r=n.Ki.get(t)||Hm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,ry(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Lx(n,t,e),e}))}function Lx(e,t,n){var r=e.Ki.get(t)||Hm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Mx(e,t,n,r){return Fx.apply(this,arguments)}function Fx(){return Fx=Fl(Ll().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Cm(t),o=ub(),u=Jk(),s=S(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Nx(a,function(e){return rk(Xg(Qm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Sx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function Ux(e,t){return jx.apply(this,arguments)}function jx(){return jx=Fl(Ll().mark((function e(t,n){var r,i,a,o=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ub(),e.next=3,Nx(t,rk(jw(n.bundledQuery)));case 3:return i=e.sent,a=Cm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Tb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Py.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Vx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Bx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function zx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var qx=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Am(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(xm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Kx=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Am(i.error.code,i.error.message))),a?new e(t,i.state,r):(xm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Gx=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return v(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=cb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ry(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(xm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Hx=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return v(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(xm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Wx=function(){function e(){d(this,e),this.activeTargetIds=cb()}return v(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Qx=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Rg(zm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Vx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Wx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return v(e,[{key:"start",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=S(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Vx(this.persistenceKey,i)))&&(o=Gx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=S(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(zx(this.persistenceKey,e));if(n){var r=Kx.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(zx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return _m("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){_m("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){_m("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_m("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void xm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Fl(Ll().mark((function e(){var r,i,a,o,u,s,c;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=xy.at;if(null!=e)try{var n=JSON.parse(e);Sm("number"==typeof n),t=n}catch(e){xm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==xy.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new qx(this.currentUser,e,t,n),i=Bx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Bx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=zx(this.persistenceKey,e),i=new Kx(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Gx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return qx.Zi(new gm(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Kx.Zi(r,t)}},{key:"yr",value:function(e){return Hx.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:_m("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=cb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),$x=function(){function e(){d(this,e),this.Lr=new Wx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Wx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Yx=function(){function e(){d(this,e)}return v(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Xx=function(){function e(){var t=this;d(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return v(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){_m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){_m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Zx=function(){function e(t){d(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return v(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),eI=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return v(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new mm;o.setWithCredentials(!0),o.listenOnce(fm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case lm.NO_ERROR:var t=o.getResponseJson();_m("Connection","XHR received:",JSON.stringify(t)),i(t);break;case lm.TIMEOUT:_m("Connection",'RPC "'+e+'" timed out'),a(new Am(Nm.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:var n=o.getStatus();if(_m("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nm).indexOf(t)>=0?t:Nm.UNKNOWN}(u.status);a(new Am(s,u.message))}else a(new Am(Nm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Am(Nm.UNAVAILABLE,"Connection failed."));break;default:Tm()}}finally{_m("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=sm(),a=cm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new pm({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");_m("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Zx({Hr:function(e){l?_m("Connection","Not sending because WebChannel is closed:",e):(c||(_m("Connection","Opening WebChannel transport."),s.open(),c=!0),_m("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,vm.EventType.OPEN,(function(){l||_m("Connection","WebChannel transport opened.")})),h(s,vm.EventType.CLOSE,(function(){l||(l=!0,_m("Connection","WebChannel transport closed"),f.io())})),h(s,vm.EventType.ERROR,(function(e){l||(l=!0,Im("Connection","WebChannel transport errored:",e),f.io(new Am(Nm.UNAVAILABLE,"The operation could not be completed")))})),h(s,vm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Sm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_m("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=qk[e];if(void 0!==t)return $k(t)}(a),u=i.message;void 0===o&&(o=Nm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Am(o,u)),s.close()}else _m("Connection","WebChannel received:",n),f.ro(n)}})),h(a,hm.STAT_EVENT,(function(e){e.stat===dm.PROXY?_m("Connection","Detected buffering proxy"):e.stat===dm.NOPROXY&&_m("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);_m("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return _m("RestConnection","Received: ",e),e}),(function(t){throw Im("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+km,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Jx[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function tI(){return"undefined"!=typeof window?window:null}function nI(){return"undefined"!=typeof document?document:null}function rI(e){return new _b(e,!0)}var iI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&_m("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),aI=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new iI(t,n)}return v(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Nm.RESOURCE_EXHAUSTED?(xm(n.toString()),xm("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Nm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Am(Nm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return _m("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(_m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),oI=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return v(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Sm(void 0===t||"string"==typeof t),Py.fromBase64String(t||"")):(Sm(void 0===t||t instanceof Uint8Array),Py.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Nm.UNKNOWN:$k(e.code);return new Am(t,e.message||"")}(o);n=new pb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ab(e,s.document.name),l=Tb(s.document.updateTime),f=s.document.createTime?Tb(s.document.createTime):Hm.min(),h=new Ug({mapValue:{fields:s.document.fields}}),d=Vg.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new hb(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Ab(e,m.document),g=m.readTime?Tb(m.readTime):Hm.min(),k=Vg.newNoDocument(y,g),b=m.removedTargetIds||[];n=new hb([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Ab(e,w.document),x=w.removedTargetIds||[];n=new hb([],x,_,null)}else{if(!("filter"in t))return Tm();t.filter;var I=t.filter;I.targetId;var E=I.count||0,T=new Wk(E),S=I.targetId;n=new db(S,T)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Hm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Hm.min():t.readTime?Tb(t.readTime):Hm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Db(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Gg(r)?{documents:Vb(e,r)}:{query:Bb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ib(e,t.resumeToken):t.snapshotVersion.compareTo(Hm.min())>0&&(n.readTime=xb(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Db(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(aI),uI=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return v(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,hh(g(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Sm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Sm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Tb(e.updateTime):Tb(t);return n.isEqual(Hm.min())&&(n=Tb(t)),new Nk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Tb(e.commitTime);return this.listener.Zo(n,t)}return Sm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Db(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ub(t.yt,e)}))};this.Bo(n)}}]),n}(aI),sI=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return v(n,[{key:"su",value:function(){if(this.nu)throw new Am(Nm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Am(Nm.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Am(Nm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return v((function e(){d(this,e)}))}());var cI=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return v(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(xm(t),this.ou=!1):_m("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),lI=v((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=wI(o),!e.t0){e.next=5;break}return _m("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cm(t))._u.add(4),e.next=4,dI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,fI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new cI(r,i)}));function fI(e){return hI.apply(this,arguments)}function hI(){return hI=Fl(Ll().mark((function e(t){var n,r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wI(t)){e.next=18;break}n=S(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),hI.apply(this,arguments)}function dI(e){return pI.apply(this,arguments)}function pI(){return pI=Fl(Ll().mark((function e(t){var n,r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),pI.apply(this,arguments)}function vI(e,t){var n=Cm(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),bI(n)?kI(n):YI(n).ko()&&yI(n,t))}function mI(e,t){var n=Cm(e),r=YI(n);n.du.delete(t),r.ko()&&gI(n,t),0===n.du.size&&(r.ko()?r.Fo():wI(n)&&n.gu.set("Unknown"))}function yI(e,t){e.yu.Ot(t.targetId),YI(e).zo(t)}function gI(e,t){e.yu.Ot(t),YI(e).Ho(t)}function kI(e){e.yu=new mb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),YI(e).start(),e.gu.uu()}function bI(e){return wI(e)&&!YI(e).No()&&e.du.size>0}function wI(e){return 0===Cm(e)._u.size}function _I(e){e.yu=void 0}function xI(e){return II.apply(this,arguments)}function II(){return II=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){yI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function EI(e,t){return TI.apply(this,arguments)}function TI(){return TI=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_I(t),bI(t)?(t.gu.hu(n),kI(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function SI(e,t,n){return CI.apply(this,arguments)}function CI(){return CI=Fl(Ll().mark((function e(t,n,r){var i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof pb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),_m("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,NI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof hb?t.yu.Kt(n):n instanceof db?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Hm.min())){e.next=29;break}return e.prev=14,e.next=17,Ex(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Py.EMPTY_BYTE_STRING,n.snapshotVersion)),gI(e,t);var r=new Aw(n.target,t,1,n.sequenceNumber);yI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),_m("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,NI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),CI.apply(this,arguments)}function NI(e,t,n){return AI.apply(this,arguments)}function AI(){return AI=Fl(Ll().mark((function e(t,n,r){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(my(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,dI(t);case 5:t.gu.set("Offline"),r||(r=function(){return Ex(t.localStore)}),t.asyncQueue.enqueueRetryable(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _m("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,fI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function RI(e,t){return t().catch((function(n){return NI(e,n,t)}))}function PI(e){return DI.apply(this,arguments)}function DI(){return DI=Fl(Ll().mark((function e(t){var n,r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cm(t),r=XI(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!OI(n)){e.next=19;break}return e.prev=3,e.next=6,Cx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,LI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,NI(n,e.t0);case 17:e.next=2;break;case 19:MI(n)&&FI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),DI.apply(this,arguments)}function OI(e){return wI(e)&&e.fu.length<10}function LI(e,t){e.fu.push(t);var n=XI(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function MI(e){return wI(e)&&!XI(e).No()&&e.fu.length>0}function FI(e){XI(e).start()}function UI(e){return jI.apply(this,arguments)}function jI(){return jI=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:XI(t).eu();case 1:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function VI(e){return BI.apply(this,arguments)}function BI(){return BI=Fl(Ll().mark((function e(t){var n,r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=XI(t),r=S(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function zI(e,t,n){return qI.apply(this,arguments)}function qI(){return qI=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Cw.from(i,n,r),e.next=3,RI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,PI(t);case 5:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function KI(e,t){return GI.apply(this,arguments)}function GI(){return GI=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&XI(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qk(i=n.code)||i===Nm.ABORTED){e.next=7;break}return r=t.fu.shift(),XI(t).Mo(),e.next=5,RI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,PI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:MI(t)&&FI(t);case 5:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function HI(e,t){return WI.apply(this,arguments)}function WI(){return WI=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Cm(t)).asyncQueue.verifyOperationInProgress(),_m("RemoteStore","RemoteStore received new credentials"),i=wI(r),r._u.add(3),e.next=6,dI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,fI(r);case 12:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function QI(e,t){return $I.apply(this,arguments)}function $I(){return $I=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cm(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,fI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,dI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function YI(e){return e.pu||(e.pu=function(e,t,n){var r=Cm(e);return r.su(),new oI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:xI.bind(null,e),Zr:EI.bind(null,e),Wo:SI.bind(null,e)}),e.wu.push(function(){var t=Fl(Ll().mark((function t(n){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),bI(e)?kI(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:_I(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function XI(e){return e.Iu||(e.Iu=function(e,t,n){var r=Cm(e);return r.su(),new uI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:UI.bind(null,e),Zr:KI.bind(null,e),tu:VI.bind(null,e),Zo:zI.bind(null,e)}),e.wu.push(function(){var t=Fl(Ll().mark((function t(n){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,PI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(_m("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var JI=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Am(Nm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ZI(e,t){if(xm("AsyncQueue","".concat(t,": ").concat(e)),my(e))return new Am(Nm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var eE=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Xm.comparator(e.key,n.key)}:function(e,t){return Xm.comparator(e.key,t.key)},this.keyedMap=eb(),this.sortedSet=new Rg(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),tE=function(){function e(){d(this,e),this.Tu=new Rg(Xm.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Tm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),nE=function(){function e(t,n,r,i,a,o,u,s,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ok(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,eE.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),rE=v((function e(){d(this,e),this.Au=void 0,this.listeners=[]})),iE=v((function e(){d(this,e),this.queries=new Yk((function(e){return uk(e)}),ok),this.onlineState="Unknown",this.Ru=new Set}));function aE(e,t){return oE.apply(this,arguments)}function oE(){return oE=Fl(Ll().mark((function e(t,n){var r,i,a,o,u;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new rE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ZI(e.t0,"Initialization of query '".concat(sk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&fE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),oE.apply(this,arguments)}function uE(e,t){return sE.apply(this,arguments)}function sE(){return sE=Fl(Ll().mark((function e(t,n){var r,i,a,o,u;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t){var n,r=Cm(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=S(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&fE(r)}function lE(e,t,n){var r=Cm(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function fE(e){e.Ru.forEach((function(e){e.next()}))}var hE=function(){function e(t,n,r){d(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new nE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=nE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),dE=function(){function e(t,n){d(this,e),this.ku=t,this.byteLength=n}return v(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),pE=function(){function e(t){d(this,e),this.yt=t}return v(e,[{key:"Ji",value:function(e){return Ab(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Mb(this.yt,e.document,!1):Vg.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Tb(e)}}]),e}(),vE=function(){function e(t,n,r){d(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mE(t)}return v(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Qm.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new pE(this.yt),i=S(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=S(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ub()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mx(this.localStore,new pE(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=S(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Ux(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function mE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var yE=v((function e(t){d(this,e),this.key=t})),gE=v((function e(t){d(this,e),this.key=t})),kE=function(){function e(t,n){d(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ub(),this.mutatedKeys=ub(),this.Gu=fk(t),this.Qu=new eE(this.Gu)}return v(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new tE,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ck(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new nE(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new tE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=ub(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new gE(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new yE(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=ub();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return nE.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),bE=v((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),wE=v((function e(t){d(this,e),this.key=t,this.nc=!1})),_E=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Yk((function(e){return uk(e)}),ok),this.rc=new Map,this.oc=new Set,this.uc=new Rg(Xm.comparator),this.cc=new Map,this.ac=new nx,this.hc={},this.lc=new Map,this.fc=P_.vn(),this.onlineState="Unknown",this.dc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function xE(e,t){return IE.apply(this,arguments)}function IE(){return IE=Fl(Ll().mark((function e(t,n){var r,i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mT(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Nx(r.localStore,rk(n));case 8:return u=e.sent,r.isPrimaryClient&&vI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,EE(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function EE(e,t,n,r,i){return TE.apply(this,arguments)}function TE(){return TE=Fl(Ll().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Fl(Ll().mark((function e(t,n,r,i){var a,o,u;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Px(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(HE(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Px(t.localStore,n,!0);case 3:return o=e.sent,u=new kE(n,o.Hi),s=u.Wu(o.documents),c=fb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),HE(t,r,l.Xu),f=new bE(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function SE(e,t){return CE.apply(this,arguments)}function CE(){return CE=Fl(Ll().mark((function e(t,n){var r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cm(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!ok(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ax(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mI(r.remoteStore,i.targetId),KE(r,i.targetId)})).catch(cy);case 9:e.next=14;break;case 11:return KE(r,i.targetId),e.next=14,Ax(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function NE(e,t,n){return AE.apply(this,arguments)}function AE(){return AE=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yT(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Cm(e),a=Gm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ub());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Jk(),s=ub();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=S(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Mk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new jk(c.key,l,jg(l.value.mapValue),Ak.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:tb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Rg(zm)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,$E(i,a.changes);case 9:return e.next=11,PI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ZI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),AE.apply(this,arguments)}function RE(e,t){return PE.apply(this,arguments)}function PE(){return PE=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),e.prev=1,e.next=4,Tx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Sm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Sm(n.nc):e.removedDocuments.size>0&&(Sm(n.nc),n.nc=!1))})),e.next=8,$E(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),PE.apply(this,arguments)}function DE(e,t,n){var r=Cm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Cm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&fE(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function OE(e,t,n){return LE.apply(this,arguments)}function LE(){return LE=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s,c;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Cm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Rg(Xm.comparator)).insert(o,Vg.newNoDocument(o,Hm.min())),s=ub().add(o),c=new lb(Hm.min(),new Map,new Og(zm),u,s),e.next=9,RE(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),QE(i),e.next=16;break;case 14:return e.next=16,Ax(i.localStore,n,!1).then((function(){return KE(i,n,r)})).catch(cy);case 16:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){return FE.apply(this,arguments)}function FE(){return FE=Fl(Ll().mark((function e(t,n){var r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),i=n.batch.batchId,e.prev=1,e.next=4,Ix(r.localStore,n);case 4:return a=e.sent,qE(r,i,null),zE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,$E(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),FE.apply(this,arguments)}function UE(e,t,n){return jE.apply(this,arguments)}function jE(){return jE=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cm(t),e.prev=1,e.next=4,function(e,t){var n=Cm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Sm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,qE(i,n,r),zE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,$E(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jE.apply(this,arguments)}function VE(e,t){return BE.apply(this,arguments)}function BE(){return BE=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wI((r=Cm(t)).remoteStore)||_m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Cm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ZI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),BE.apply(this,arguments)}function zE(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function qE(e,t,n){var r=Cm(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function KE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||GE(e,t)}))}function GE(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(mI(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),QE(e))}function HE(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof yE?(e.ac.addReference(a.key,t),WE(e,a)):a instanceof gE?(_m("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||GE(e,a.key)):Tm()}}catch(o){i.e(o)}finally{i.f()}}function WE(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(_m("SyncEngine","New document in limbo: "+n),e.oc.add(r),QE(e))}function QE(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Xm(Qm.fromString(t)),r=e.fc.next();e.cc.set(r,new wE(n)),e.uc=e.uc.insert(n,r),vI(e.remoteStore,new Aw(rk(Xg(n.path)),r,2,xy.at))}}function $E(e,t,n){return YE.apply(this,arguments)}function YE(){return YE=Fl(Ll().mark((function e(t,n,r){var i,a,o,u;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cm(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=gx.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fy.forEach(n,(function(t){return fy.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fy.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),my(e.t0)){e.next=10;break}throw e.t0;case 10:_m("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function XE(e,t){return JE.apply(this,arguments)}function JE(){return JE=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Cm(t)).currentUser.isEqual(n)){e.next=11;break}return _m("SyncEngine","User change. New user:",n.toKey()),e.next=5,_x(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Am(Nm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,$E(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function ZE(e,t){var n=Cm(e),r=n.cc.get(t);if(r&&r.nc)return ub().add(r.key);var i=ub(),a=n.rc.get(t);if(!a)return i;var o,u=S(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=Fl(Ll().mark((function e(t,n){var r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),e.next=3,Px(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&HE(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),e.abrupt("return",Ox(r.localStore,n).then((function(e){return $E(r,e)})));case 2:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t,n,r){return aT.apply(this,arguments)}function aT(){return aT=Fl(Ll().mark((function e(t,n,r,i){var a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cm(t),e.next=3,function(e,t){var n=Cm(e),r=Cm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):fy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,PI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(qE(a,n,i||null),zE(a,n),function(e,t){Cm(Cm(e).mutationQueue).An(t)}(a.localStore,n)):Tm();case 11:return e.next=13,$E(a,o);case 13:e.next=16;break;case 15:_m("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t){return uT.apply(this,arguments)}function uT(){return uT=Fl(Ll().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mT(r=Cm(t)),yT(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,sT(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,QI(r.remoteStore,!0);case 9:o=S(a);try{for(o.s();!(u=o.n()).done;)s=u.value,vI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return KE(r,t),Ax(r.localStore,t,!0)})),mI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,sT(r,c);case 21:return function(e){var t=Cm(e);t.cc.forEach((function(e,n){mI(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Rg(Xm.comparator)}(r),r.dc=!1,e.next=25,QI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t,n){return cT.apply(this,arguments)}function cT(){return cT=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Cm(t),a=[],o=[],u=S(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Nx(i.localStore,rk(f[0]));case 11:l=e.sent,h=S(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,eT(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Dx(i.localStore,c);case 36:return y=e.sent,e.next=39,Nx(i.localStore,y);case 39:return l=e.sent,e.next=42,EE(i,lT(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),cT.apply(this,arguments)}function lT(e){return Yg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fT(e){var t=Cm(e);return Cm(Cm(t.localStore).persistence).vi()}function hT(e,t,n,r){return dT.apply(this,arguments)}function dT(){return dT=Fl(Ll().mark((function e(t,n,r,i){var a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Cm(t)).dc){e.next=3;break}return e.abrupt("return",void _m("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ox(a.localStore,lk(o[0]));case 10:return u=e.sent,s=lb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Py.EMPTY_BYTE_STRING),e.next=14,$E(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ax(a.localStore,n,!0);case 17:return KE(a,n,i),e.abrupt("break",20);case 19:Tm();case 20:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}function pT(e,t,n){return vT.apply(this,arguments)}function vT(){return vT=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=mT(t)).dc){e.next=45;break}a=S(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return _m("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Dx(i.localStore,u);case 12:return s=e.sent,e.next=15,Nx(i.localStore,s);case 15:return c=e.sent,e.next=18,EE(i,lT(s),c.targetId,!1,c.resumeToken);case 18:vI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=S(r),e.prev=30,h=Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Ax(i.localStore,t,!1).then((function(){mI(i.remoteStore,t),KE(i,t)})).catch(cy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),vT.apply(this,arguments)}function mT(e){var t=Cm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=RE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OE.bind(null,t),t.sc.Wo=cE.bind(null,t.eventManager),t.sc.wc=lE.bind(null,t.eventManager),t}function yT(e){var t=Cm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ME.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UE.bind(null,t),t}function gT(e,t,n){var r=Cm(e);(function(){var e=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Cm(e),r=Tb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(mE(i)),a=new vE(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,$E(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Cm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Im("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var kT=function(){function e(){d(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=rI(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return wx(this.persistence,new kx,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new sx(lx.Bs,this.yt)}},{key:"gc",value:function(e){return new $x}},{key:"terminate",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bT=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return v(n,[{key:"initialize",value:function(){var e=Fl(Ll().mark((function e(t){var r=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(g(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,yT(this.Ac.syncEngine);case 6:return e.next=8,PI(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return wx(this.persistence,new kx,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new j_(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new _y(t,this.persistence);return new wy(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?I_.withCacheSize(this.cacheSizeBytes):I_.DEFAULT;return new px(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,tI(),nI(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new $x}}]),n}(kT),wT=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return v(n,[{key:"initialize",value:function(){var e=Fl(Ll().mark((function e(t){var r,i=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(g(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Qx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:iT.bind(null,r),$r:hT.bind(null,r),Br:pT.bind(null,r),vi:fT.bind(null,r),Mr:nT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oT(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=tI();if(!Qx.C(t))throw new Am(Nm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(bT),_T=function(){function e(){d(this,e)}return v(e,[{key:"initialize",value:function(){var e=Fl(Ll().mark((function e(t,n){var r=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return DE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=XE.bind(null,this.syncEngine),e.next=12,QI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new iE}},{key:"createDatastore",value:function(e){var t,n=rI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new eI(t));return function(e,t,n,r){return new sI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return DE(o.syncEngine,e,0)},a=Xx.C()?new Xx:new Yx,new lI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new _E(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cm(t),_m("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,dI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function xT(e,t,n){if(!n)throw new Am(Nm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function IT(e,t,n,r){if(!0===t&&!0===r)throw new Am(Nm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ET(e){if(!Xm.isDocumentKey(e))throw new Am(Nm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function TT(e){if(Xm.isDocumentKey(e))throw new Am(Nm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ST(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Tm()}function CT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Am(Nm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ST(e);throw new Am(Nm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function NT(e,t){if(t<=0)throw new Am(Nm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var AT=new Map,RT=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Am(Nm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Am(Nm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,IT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),PT=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RT({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new Am(Nm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Am(Nm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Dm;switch(e.type){case"gapi":var t=e.client;return new Fm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Am(Nm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=AT.get(e);t&&(_m("ComponentProvider","Removing Datastore"),AT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function DT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=CT(e,PT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Im("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=gm.MOCK_USER;else{o=pl(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Am(Nm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gm(s)}e._authCredentials=new Om(new Pm(o,u))}}var OT=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),LT=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),MT=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,Xg(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new OT(this.firestore,null,new Xm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(LT);function FT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ol(e),xT("collection","path",t),e instanceof PT){var a=Qm.fromString.apply(Qm,[t].concat(r));return TT(a),new MT(e,null,a)}if(!(e instanceof OT||e instanceof MT))throw new Am(Nm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qm.fromString.apply(Qm,[t].concat(r)));return TT(o),new MT(e.firestore,null,o)}function UT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ol(e),1===arguments.length&&(t=Bm.R()),xT("doc","path",t),e instanceof PT){var a=Qm.fromString.apply(Qm,[t].concat(r));return ET(a),new OT(e,null,new Xm(a))}if(!(e instanceof OT||e instanceof MT))throw new Am(Nm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qm.fromString.apply(Qm,[t].concat(r)));return ET(o),new OT(e.firestore,e instanceof MT?e.converter:null,new Xm(o))}function jT(e,t){return e=Ol(e),t=Ol(t),(e instanceof OT||e instanceof MT)&&(t instanceof OT||t instanceof MT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VT(e,t){return e=Ol(e),t=Ol(t),e instanceof LT&&t instanceof LT&&e.firestore===t.firestore&&ok(e._query,t._query)&&e.converter===t.converter}function BT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Fl(Ll().mark((function r(){var i;return Ll().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var zT=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):xm("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),qT=function(){function e(t,n){var r=this;d(this,e),this.Pc=t,this.yt=n,this.metadata=new Rm,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return v(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new dE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Fl(Ll().mark((function e(){var t,n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Fl(Ll().mark((function e(){var t,n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),KT=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return v(e,[{key:"lookup",value:function(){var e=Fl(Ll().mark((function e(t){var n,r=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Am(Nm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),i=Db(r.yt)+"/documents",a={documents:n.map((function(e){return Nb(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Fb(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Sm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Gk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Fl(Ll().mark((function e(){var t,n=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Xm.fromPath(t);n.mutations.push(new Hk(r,n.precondition(r)))})),e.next=7,function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cm(t),i=Db(r.yt)+"/documents",a={writes:n.map((function(e){return Ub(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tm();t=Hm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Am(Nm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hm.min())?Ak.exists(!1):Ak.updateTime(t):Ak.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hm.min()))throw new Am(Nm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ak.updateTime(t)}return Ak.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),GT=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new iI(this.asyncQueue,"transaction_retry")}return v(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Fl(Ll().mark((function t(){var n,r;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new KT(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ny(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Qk(t)}return!1}}]),e}(),HT=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gm.UNAUTHENTICATED,this.clientId=Bm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _m("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return _m("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Am(Nm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Rm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Fl(Ll().mark((function n(){var r;return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ZI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function WT(e,t){return QT.apply(this,arguments)}function QT(){return QT=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),_m("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,_x(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function $T(e,t){return YT.apply(this,arguments)}function YT(){return YT=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,XT(t);case 3:return r=e.sent,_m("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return HI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return HI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function XT(e){return JT.apply(this,arguments)}function JT(){return JT=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return _m("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,WT(t,new kT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function ZT(e){return eS.apply(this,arguments)}function eS(){return eS=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return _m("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,$T(t,new _T);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e){return XT(e).then((function(e){return e.persistence}))}function nS(e){return XT(e).then((function(e){return e.localStore}))}function rS(e){return ZT(e).then((function(e){return e.remoteStore}))}function iS(e){return ZT(e).then((function(e){return e.syncEngine}))}function aS(e){return ZT(e).then((function(e){return e.datastore}))}function oS(e){return uS.apply(this,arguments)}function uS(){return uS=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=xE.bind(null,n.syncEngine),r.onUnlisten=SE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function sS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rm;return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function i(){return Ll().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new zT({next:function(a){t.enqueueAndForget((function(){return uE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Am(Nm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Am(Nm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new hE(Xg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return aE(e,o)},i.next=3,oS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function cS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rm;return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function i(){return Ll().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new zT({next:function(n){t.enqueueAndForget((function(){return uE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Am(Nm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new hE(n,a,{includeMetadataChanges:!0,Nu:!0});return aE(e,o)},i.next=3,oS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var lS=function(){function e(){var t=this;d(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new iI(this,"async_queue_retry"),this.Wc=function(){var e=nI();e&&_m("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=nI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return v(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=nI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Rm;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Fl(Ll().mark((function e(){var t=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),my(e.t0)){e.next=12;break}throw e.t0;case 12:_m("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=JI.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Tm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=S(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function fS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=S(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var hS=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new Rm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return v(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),dS=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new lS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||vS(this),this._firestoreClient.terminate()}}]),n}(PT);function pS(e){return e._firestoreClient||vS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Iy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new HT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function mS(e,t,n){var r=new Rm;return e.asyncQueue.enqueue(Fl(Ll().mark((function i(){var a;return Ll().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,WT(e,n);case 3:return i.next=5,$T(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Nm.FAILED_PRECONDITION||e.code===Nm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Im("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function yS(e){return function(e){return e.asyncQueue.enqueue(Fl(Ll().mark((function t(){var n,r;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tS(e);case 2:return n=t.sent,t.next=5,rS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Cm(e);return t._u.delete(0),fI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(pS(e=CT(e,dS)))}function gS(e){return function(e){return e.asyncQueue.enqueue(Fl(Ll().mark((function t(){var n,r;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tS(e);case 2:return n=t.sent,t.next=5,rS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cm(t))._u.add(0),e.next=4,dI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(pS(e=CT(e,dS)))}function kS(e,t){var n=pS(e=CT(e,dS)),r=new hS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new qT(e,t)}(function(e,t){if(e instanceof Uint8Array)return BT(e,t);if(e instanceof ArrayBuffer)return BT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,rI(t));e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gT,t.next=3,iS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function bS(e,t){return function(e,t){return e.asyncQueue.enqueue(Fl(Ll().mark((function n(){return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Cm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,nS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(pS(e=CT(e,dS)),t).then((function(t){return t?new LT(e,null,t.query):null}))}function wS(e){if(e._initialized||e._terminated)throw new Am(Nm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var _S=function(){function e(t){d(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Py.fromBase64String(t))}catch(t){throw new Am(Nm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Py.fromUint8Array(t))}}]),e}(),xS=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Am(Nm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ym(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var IS=v((function e(t){d(this,e),this._methodName=t})),ES=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Am(Nm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Am(Nm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zm(this._lat,e._lat)||zm(this._long,e._long)}}]),e}(),TS=/^__.*__$/,SS=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new jk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uk(e,this.data,t,this.fieldTransforms)}}]),e}(),CS=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new jk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function NS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tm()}}var AS=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return YS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(NS(this.sa)&&TS.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),RS=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||rI(t)}return v(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new AS({sa:e,methodName:t,fa:n,path:Ym.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function PS(e){var t=e._freezeSettings(),n=rI(e._databaseId);return new RS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);HS("Data must be an object, but it was:",o,r);var u,s,c=KS(r,o);if(a.merge)u=new Fg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=S(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=WS(t,d,n);if(!o.contains(p))throw new Am(Nm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));XS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Fg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new SS(new Ug(c),u,s)}var OS=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(IS);function LS(e,t,n){return new AS({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var MS=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){return new Ck(e.path,new bk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(IS),FS=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=LS(this,e,!0),n=this._a.map((function(e){return qS(e,t)})),r=new wk(n);return new Ck(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IS),US=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._a=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=LS(this,e,!0),n=this._a.map((function(e){return qS(e,t)})),r=new xk(n);return new Ck(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IS),jS=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wa=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=new Ek(e.yt,vk(e.yt,this.wa));return new Ck(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(IS);function VS(e,t,n,r){var i=e.da(1,t,n);HS("Data must be an object, but it was:",i,r);var a=[],o=Ug.empty();Sy(r,(function(e,r){var u=$S(t,e,n);r=Ol(r);var s=i.ca(u);if(r instanceof OS)a.push(u);else{var c=qS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Fg(a);return new CS(o,u,i.fieldTransforms)}function BS(e,t,n,r,i,a){var o=e.da(1,t,n),u=[WS(t,r,n)],s=[i];if(a.length%2!=0)throw new Am(Nm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(WS(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ug.empty(),h=u.length-1;h>=0;--h)if(!XS(l,u[h])){var d=u[h],p=s[h];p=Ol(p);var v=o.ca(d);if(p instanceof OS)l.push(d);else{var m=qS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Fg(l);return new CS(f,y,o.fieldTransforms)}function zS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qS(n,e.da(r?4:3,t))}function qS(e,t){if(GS(e=Ol(e)))return HS("Unsupported field value:",t,e),KS(e,t);if(e instanceof IS)return function(e,t){if(!NS(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=qS(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ol(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vk(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gm.fromDate(e);return{timestampValue:xb(t.yt,n)}}if(e instanceof Gm){var r=new Gm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xb(t.yt,r)}}if(e instanceof ES)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _S)return{bytesValue:Ib(t.yt,e._byteString)};if(e instanceof OT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Sb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(ST(e)))}(e,t)}function KS(e,t){var n={};return Cy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sy(e,(function(e,r){var i=qS(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function GS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gm||e instanceof ES||e instanceof _S||e instanceof OT||e instanceof IS)}function HS(e,t,n){if(!GS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ST(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function WS(e,t,n){if((t=Ol(t))instanceof xS)return t._internalPath;if("string"==typeof t)return $S(e,t);throw YS("Field path arguments must be of type string or ",e,!1,void 0,n)}var QS=new RegExp("[~\\*/\\[\\]]");function $S(e,t,n){if(t.search(QS)>=0)throw YS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(xS,h(t.split(".")))._internalPath}catch(r){throw YS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function YS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Am(Nm.INVALID_ARGUMENT,u+e+s)}function XS(e,t){return e.some((function(e){return e.isEqual(t)}))}var JS=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new OT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ZS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ZS=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return hh(g(n.prototype),"data",this).call(this)}}]),n}(JS);function eC(e,t){return"string"==typeof t?$S(e,t):t instanceof xS?t._internalPath:t._delegate._internalPath}function tC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Am(Nm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nC=v((function e(){d(this,e)})),rC=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(nC);function iC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof nC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof oC})).length,n=e.filter((function(e){return e instanceof aC})).length;if(t>1||t>0&&n>0)throw new Am(Nm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=S(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var aC=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=this._parse(e);return gC(e._query,t),new LT(e.firestore,e.converter,ik(e._query,t))}},{key:"_parse",value:function(e){var t=PS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Am(Nm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){yC(o,a);var s,c=[],l=S(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(mC(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=mC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||yC(o,a),u=zS(n,"where",o,"in"===a||"not-in"===a);return fg.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rC);var oC=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return v(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:hg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;gC(r,a),r=ik(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new LT(e.firestore,e.converter,ik(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nC);var uC=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return v(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ng(t,n);return function(e,t){if(null===Zg(e)){var n=ek(e);null!==n&&kC(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new LT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new $g(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rC);var sC=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return v(n,[{key:"_apply",value:function(e){return new LT(e.firestore,e.converter,ak(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rC);var cC=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return v(n,[{key:"_apply",value:function(e){var t=vC(e,this.type,this._docOrFields,this._inclusive);return new LT(e.firestore,e.converter,function(e,t){return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rC);function lC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cC._create("startAt",t,!0)}function fC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cC._create("startAfter",t,!1)}var hC=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return v(n,[{key:"_apply",value:function(e){var t=vC(e,this.type,this._docOrFields,this._inclusive);return new LT(e.firestore,e.converter,function(e,t){return new $g(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rC);function dC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hC._create("endBefore",t,!1)}function pC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hC._create("endAt",t,!0)}function vC(e,t,n,r){if(n[0]=Ol(n[0]),n[0]instanceof JS)return function(e,t,n,r,i){if(!r)throw new Am(Nm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=S(nk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push($y(t,r.key));else{var c=r.data.field(s.field);if(Fy(c))throw new Am(Nm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ug(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=PS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Am(Nm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!tk(e)&&-1!==c.indexOf("/"))throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Qm.fromString(c));if(!Xm.isDocumentKey(l))throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Xm(l);u.push($y(t,f))}else{var h=zS(n,r,c);u.push(h)}}return new ug(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function mC(e,t,n){if("string"==typeof(n=Ol(n))){if(""===n)throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tk(t)&&-1!==n.indexOf("/"))throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Qm.fromString(n));if(!Xm.isDocumentKey(r))throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $y(e,new Xm(r))}if(n instanceof OT)return $y(e,n._key);throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ST(n),"."))}function yC(e,t){if(!Array.isArray(e)||0===e.length)throw new Am(Nm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Am(Nm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function gC(e,t){if(t.isInequality()){var n=ek(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Zg(e);null!==i&&kC(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Am(Nm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Am(Nm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function kC(e,t,n){if(!n.isEqual(t))throw new Am(Nm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bC=function(){function e(){d(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ly(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(My(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Sy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ES(Ly(e.latitude),Ly(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Uy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Oy(e);return new Gm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Qm.fromString(e);Sm(Xb(n));var r=new Ey(n.get(1),n.get(3)),i=new Xm(n.popFirst(5));return r.isEqual(t)||xm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _C=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new _S(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OT(this.firestore,null,t)}}]),n}(bC),xC=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),IC=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return v(n,[{key:"exists",value:function(){return hh(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new EC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(JS),EC=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hh(g(n.prototype),"data",this).call(this,e)}}]),n}(IC),TC=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xC(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new EC(n._firestore,n._userDataWriter,r.key,r,new xC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Am(Nm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new EC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new EC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:SC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function SC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tm()}}function CC(e,t){return e instanceof IC&&t instanceof IC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof TC&&t instanceof TC&&e._firestore===t._firestore&&VT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var NC=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new _S(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OT(this.firestore,null,t)}}]),n}(bC);function AC(e){e=CT(e,OT);var t=CT(e.firestore,dS),n=pS(t),r=new NC(t);return function(e,t){var n=new Rm;return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function r(){return Ll().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Cm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Am(Nm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ZI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,nS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new IC(t,r,e._key,n,new xC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function RC(e){e=CT(e,LT);var t=CT(e.firestore,dS),n=pS(t),r=new NC(t);return function(e,t){var n=new Rm;return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function r(){return Ll().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Px(t,n,!0);case 3:i=e.sent,a=new kE(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ZI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,nS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new TC(t,r,e,n)}))}function PC(e,t,n){e=CT(e,OT);var r=CT(e.firestore,dS),i=wC(e.converter,t,n);return MC(r,[DS(PS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ak.none())])}function DC(e,t,n){e=CT(e,OT);for(var r=CT(e.firestore,dS),i=PS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return MC(r,[("string"==typeof(t=Ol(t))||t instanceof xS?BS(i,"updateDoc",e._key,t,n,o):VS(i,"updateDoc",e._key,t)).toMutation(e._key,Ak.exists(!0))])}function OC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ol(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||fS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(fS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof OT)l=CT(e.firestore,dS),f=Xg(e._key.path),c={next:function(t){n[s]&&n[s](FC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=CT(e,LT);l=CT(p.firestore,dS),f=p._query;var v=new NC(l);c={next:function(e){n[s]&&n[s](new TC(l,v,p,e))},error:n[s+1],complete:n[s+2]},tC(e._query)}return function(e,t,n,r){var i=new zT(r),a=new hE(t,i,n);return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aE,t.next=3,oS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=uE,t.next=3,oS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pS(l),f,h,c)}function LC(e,t){return function(e,t){var n=new zT(t);return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cm(e).Ru.add(t),t.next()},t.next=3,oS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cm(e).Ru.delete(t)},t.next=3,oS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(pS(e=CT(e,dS)),fS(t)?t:{next:t})}function MC(e,t){return function(e,t){var n=new Rm;return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function r(){return Ll().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=NE,r.next=3,iS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(pS(e),t)}function FC(e,t,n){var r=n.docs.get(t._key),i=new NC(e);return new IC(e,i,t._key,r,new xC(n.hasPendingWrites,n.fromCache),t.converter)}var UC={maxAttempts:5},jC=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=PS(t)}return v(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=VC(e,this._firestore),i=wC(r.converter,t,n),a=DS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ak.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=VC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ol(t))||t instanceof xS?BS(this._dataReader,"WriteBatch.update",i._key,t,n,o):VS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ak.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=VC(e,this._firestore);return this._mutations=this._mutations.concat(new Gk(t._key,Ak.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Am(Nm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function VC(e,t){if((e=Ol(e)).firestore!==t)throw new Am(Nm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var BC=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return v(n,[{key:"get",value:function(e){var t=this,r=VC(e,this._firestore),i=new NC(this._firestore);return hh(g(n.prototype),"get",this).call(this,e).then((function(e){return new IC(t._firestore,i,r._key,e._document,new xC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=PS(t)}return v(e,[{key:"get",value:function(e){var t=this,n=VC(e,this._firestore),r=new _C(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Tm();var i=e[0];if(i.isFoundDocument())return new JS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new JS(t._firestore,r,n._key,null,n.converter);throw Tm()}))}},{key:"set",value:function(e,t,n){var r=VC(e,this._firestore),i=wC(r.converter,t,n),a=DS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=VC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ol(t))||t instanceof xS?BS(this._dataReader,"Transaction.update",i._key,t,n,o):VS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=VC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function zC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FS("arrayUnion",t)}function qC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new US("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){km=e}(Of),Sf(new Ul("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new dS(new Lm(e.getProvider("auth-internal")),new jm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Am(Nm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ey(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Vf(ym,"3.8.3",e),Vf(ym,"3.8.3","esm2017")}();function KC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Am("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GC(){if("undefined"===typeof Uint8Array)throw new Am("unimplemented","Uint8Arrays are not available in this environment.")}function HC(){if("undefined"==typeof atob)throw new Am("unimplemented","Blobs are unavailable in Firestore in this environment.")}var WC=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"toBase64",value:function(){return HC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return GC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return HC(),new e(_S.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return GC(),new e(_S.fromUint8Array(t))}}]),e}();function QC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var $C=function(){function e(){d(this,e)}return v(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){wS(e=CT(e,dS));var n=pS(e),r=e._freezeSettings(),i=new _T;return mS(n,i,new bT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){wS(e=CT(e,dS));var t=pS(e),n=e._freezeSettings(),r=new _T;return mS(t,r,new wT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Am(Nm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Rm;return e._queue.enqueueAndForgetEvenWhileRestricted(Fl(Ll().mark((function n(){return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dy.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,dy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(yx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),YC=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ey||(this._appCompat=t)}return v(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Im("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return yS(this._delegate)}},{key:"disableNetwork",value:function(){return gS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&IT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Rm;return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function n(){return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=VE,n.next=3,iS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(pS(e=CT(e,dS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return LC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Am("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new lN(this,FT(this._delegate,e))}catch(t){throw nN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new tN(this,UT(this._delegate,e))}catch(t){throw nN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new uN(this,function(e,t){if(e=CT(e,PT),xT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Am(Nm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new LT(e,null,function(e){return new $g(Qm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw nN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=CT(e,dS);var r=Object.assign(Object.assign({},UC),n);return function(e){if(e.maxAttempts<1)throw new Am(Nm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Rm;return e.asyncQueue.enqueueAndForget(Fl(Ll().mark((function i(){var a;return Ll().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,aS(e);case 2:a=i.sent,new GT(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(pS(e),(function(n){return t(new BC(e,n))}),r)}(this._delegate,(function(n){return e(new JC(t,n))}))}},{key:"batch",value:function(){var e=this;return pS(this._delegate),new ZC(new jC(this._delegate,(function(t){return MC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return kS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return bS(this._delegate,e).then((function(e){return e?new uN(t,e):null}))}}]),e}(),XC=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new WC(new _S(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return tN.forKey(t,this.firestore,null)}}]),n}(bC);var JC=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new XC(t)}return v(e,[{key:"get",value:function(e){var t=this,n=fN(e);return this._delegate.get(n).then((function(e){return new aN(t._firestore,new IC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=fN(e);return n?(KC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=fN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fN(e);return this._delegate.delete(t),this}}]),e}(),ZC=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"set",value:function(e,t,n){var r=fN(e);return n?(KC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=fN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),eN=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return v(e,[{key:"fromFirestore",value:function(e,t){var n=new EC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new XC(t),n),i.set(n,a)),a}}]),e}();eN.INSTANCES=new WeakMap;var tN=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new XC(t)}return v(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new lN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new lN(this.firestore,FT(this._delegate,e))}catch(t){throw nN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ol(e))instanceof OT&&jT(this._delegate,e)}},{key:"set",value:function(e,t){t=KC("DocumentReference.set",t);try{return t?PC(this._delegate,e,t):PC(this._delegate,e)}catch(n){throw nN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?DC(this._delegate,e):DC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw nN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return MC(CT(e.firestore,dS),[new Gk(e._key,Ak.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rN(n),a=iN(n,(function(t){return new aN(e.firestore,new IC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return OC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?AC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CT(e,OT);var t=CT(e.firestore,dS);return sS(pS(t),e._key,{source:"server"}).then((function(n){return FC(t,e,n)}))}(this._delegate):function(e){e=CT(e,OT);var t=CT(e.firestore,dS);return sS(pS(t),e._key).then((function(n){return FC(t,e,n)}))}(this._delegate),t.then((function(e){return new aN(n.firestore,new IC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(eN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Am("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new OT(n._delegate,r,new Xm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new OT(n._delegate,r,t))}}]),e}();function nN(e,t,n){return e.message=e.message.replace(t,n),e}function rN(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!QC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function iN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=QC(e[0])?e[0]:QC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var aN=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"ref",get:function(){return new tN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return CC(this._delegate,e._delegate)}}]),e}(),oN=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Tm()}(void 0!==t),t}}]),n}(aN),uN=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new XC(t)}return v(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,iC(this._delegate,function(e,t,n){var r=t,i=eC("where",e);return aC._create(i,r,n)}(t,n,r)))}catch(i){throw nN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,iC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=eC("orderBy",e);return uC._create(n,t)}(t,n)))}catch(r){throw nN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,iC(this._delegate,function(e){return NT("limit",e),sC._create("limit",e,"F")}(t)))}catch(n){throw nN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,iC(this._delegate,function(e){return NT("limitToLast",e),sC._create("limitToLast",e,"L")}(t)))}catch(n){throw nN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,iC(this._delegate,lC.apply(void 0,arguments)))}catch(t){throw nN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,iC(this._delegate,fC.apply(void 0,arguments)))}catch(t){throw nN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,iC(this._delegate,dC.apply(void 0,arguments)))}catch(t){throw nN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,iC(this._delegate,pC.apply(void 0,arguments)))}catch(t){throw nN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?RC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CT(e,LT);var t=CT(e.firestore,dS),n=pS(t),r=new NC(t);return cS(n,e._query,{source:"server"}).then((function(n){return new TC(t,r,e,n)}))}(this._delegate):function(e){e=CT(e,LT);var t=CT(e.firestore,dS),n=pS(t),r=new NC(t);return tC(e._query),cS(n,e._query).then((function(n){return new TC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new cN(n.firestore,new TC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rN(n),a=iN(n,(function(t){return new cN(e.firestore,new TC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return OC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(eN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),sN=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new oN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),cN=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"query",get:function(){return new uN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new oN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new sN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new oN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return CC(this._delegate,e._delegate)}}]),e}(),lN=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return v(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new tN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new tN(this.firestore,void 0===e?UT(this._delegate):UT(this._delegate,e))}catch(t){throw nN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=CT(e.firestore,dS),r=UT(e),i=wC(e.converter,t);return MC(n,[DS(PS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ak.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new tN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return jT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(eN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(uN);function fN(e){return CT(e,OT)}var hN,dN=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(xS,n)}return v(e,[{key:"isEqual",value:function(e){return(e=Ol(e))instanceof xS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ym.keyField().canonicalString())}}]),e}(),pN=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new MS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new OS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=zC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=qC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new jS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),vN={Firestore:YC,GeoPoint:ES,Timestamp:Gm,Blob:WC,Transaction:JC,WriteBatch:ZC,DocumentReference:tN,DocumentSnapshot:aN,Query:uN,QueryDocumentSnapshot:oN,QuerySnapshot:cN,CollectionReference:lN,FieldPath:dN,FieldValue:pN,setLogLevel:function(e){!function(e){bm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ul("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},vN)))})(hN=lh,(function(e,t){return new YC(e,t,new $C)})),hN.registerVersion("@firebase/firestore-compat","0.3.3");var mN,yN="firebasestorage.googleapis.com",gN=function(e){y(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,kN(e),"Firebase Storage: ".concat(r," (").concat(kN(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(w(i),n.prototype),i}return v(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return kN(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(wl);function kN(e){return"storage/"+e}function bN(){return new gN(mN.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wN(){return new gN(mN.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _N(){return new gN(mN.CANCELED,"User canceled the upload/download.")}function xN(){return new gN(mN.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IN(e){return new gN(mN.INVALID_ARGUMENT,e)}function EN(){return new gN(mN.APP_DELETED,"The Firebase app was deleted.")}function TN(e){return new gN(mN.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function SN(e,t){return new gN(mN.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function CN(e){throw new gN(mN.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(mN||(mN={}));var NN,AN=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return v(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new gN(mN.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===yN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new gN(mN.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),RN=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return v(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function PN(e){return"string"===typeof e||e instanceof String}function DN(e){return ON()&&e instanceof Blob}function ON(){return"undefined"!==typeof Blob&&!ml()}function LN(e,t,n,r){if(r<t)throw IN("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw IN("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function MN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function FN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function UN(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(NN||(NN={}));var jN=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return v(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=bN();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?EN():_N());else i(wN())}};this.canceled_?t(0,new VN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new VN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===NN.NO_ERROR,a=r.getStatus();if(!n||UN(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===NN.ABORT;t(!1,new VN(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new VN(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),VN=v((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function BN(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function zN(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function qN(e,t){t&&(e["X-Firebase-GMPID"]=t)}function KN(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function GN(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=FN(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return qN(c,t),BN(c,n),zN(c,a),KN(c,r),new jN(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function HN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function WN(){for(var e=HN(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ON())return new Blob(n);throw new gN(mN.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function QN(e){if("undefined"===typeof atob)throw t="base-64",new gN(mN.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var $N={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},YN=v((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function XN(e,t){switch(e){case $N.RAW:return new YN(JN(t));case $N.BASE64:case $N.BASE64URL:return new YN(ZN(e,t));case $N.DATA_URL:return new YN(function(e){var t=new eA(e);return t.base64?ZN($N.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw SN($N.DATA_URL,"Malformed data URL.")}return JN(t)}(t.rest)}(t),new eA(t).contentType)}throw bN()}function JN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ZN(e,t){switch(e){case $N.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw SN(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case $N.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw SN(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=QN(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw SN(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var eA=v((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw SN($N.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var tA=function(){function e(t,n){d(this,e);var r=0,i="";DN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return v(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(DN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ON()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(WN.apply(null,i))}var a=n.map((function(e){return PN(e)?XN($N.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function nA(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function rA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function iA(e,t){return t}var aA=v((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||iA})),oA=null;function uA(){if(oA)return oA;var e=[];e.push(new aA("bucket")),e.push(new aA("generation")),e.push(new aA("metageneration")),e.push(new aA("name","fullPath",!0));var t=new aA("name");t.xform=function(e,t){return function(e){return!PN(e)||e.length<2?e:rA(e)}(t)},e.push(t);var n=new aA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new aA("timeCreated")),e.push(new aA("updated")),e.push(new aA("md5Hash",null,!0)),e.push(new aA("cacheControl",null,!0)),e.push(new aA("contentDisposition",null,!0)),e.push(new aA("contentEncoding",null,!0)),e.push(new aA("contentLanguage",null,!0)),e.push(new aA("contentType",null,!0)),e.push(new aA("metadata","customMetadata",!0)),oA=e}function sA(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new AN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function cA(e,t,n){var r=nA(t);return null===r?null:sA(e,r,n)}function lA(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function fA(e,t,n){var r=nA(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=S(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new AN(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=S(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new AN(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var hA=v((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function dA(e){if(!e)throw bN()}function pA(e,t){return function(n,r){var i=cA(e,r,t);return dA(null!==i),i}}function vA(e,t){return function(n,r){var i=cA(e,r,t);return dA(null!==i),function(e,t,n,r){var i=nA(t);if(null===i)return null;if(!PN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return MN("/b/"+o(i)+"/o/"+o(a),n,r)+FN({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function mA(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new gN(mN.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new gN(mN.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new gN(mN.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new gN(mN.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function yA(e){var t=mA(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new gN(mN.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function gA(e,t,n){var r=MN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new hA(r,"GET",pA(e,n),i);return a.errorHandler=yA(t),a}function kA(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=MN(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new hA(o,"GET",function(e,t){return function(n,r){var i=fA(e,t,r);return dA(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=mA(t),s}function bA(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function wA(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=bA(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lA(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=tA.getBlob(c,r,l);if(null===f)throw xN();var h={name:s.fullPath},d=MN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new hA(d,"POST",pA(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=mA(t),v}var _A=v((function e(t,n,r,i){d(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function xA(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){dA(!1)}return dA(!!n&&-1!==(t||["active"]).indexOf(n)),n}var IA=262144;function EA(e,t,n,r,i,a,o,u){var s=new _A(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new gN(mN.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw xN();var v=t.maxUploadRetryTime,m=new hA(n,"POST",(function(e,n){var i,o=xA(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?pA(t,a)(e,n):null,new _A(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=mA(e),m}var TA={STATE_CHANGED:"state_changed"},SA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function CA(e){switch(e){case"running":case"pausing":case"canceling":return SA.RUNNING;case"paused":return SA.PAUSED;case"success":return SA.SUCCESS;case"canceled":return SA.CANCELED;default:return SA.ERROR}}var NA=v((function e(t,n,r){d(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function AA(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var RA=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=NN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=NN.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=NN.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return v(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw CN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw CN("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw CN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw CN("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw CN("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),PA=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(RA);function DA(){return new PA}var OA=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=uA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(mN.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(UN(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=wN()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(mN.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return v(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=bA(t,r,i),u={name:o.fullPath},s=MN(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=lA(o,n),f=e.maxUploadRetryTime,h=new hA(s,"POST",(function(e){var t;xA(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){dA(!1)}return dA(PN(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=mA(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,DA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new hA(n,"POST",(function(e){var t=xA(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){dA(!1)}n||dA(!1);var i=Number(n);return dA(!isNaN(i)),new _A(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=mA(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,DA,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=IA*this._chunkMultiplier,n=new _A(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=EA(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,DA,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(IA*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=gA(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,DA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=wA(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,DA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=_N(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=CA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new NA(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(CA(this._state)){case SA.SUCCESS:AA(this._resolve.bind(null,this.snapshot))();break;case SA.CANCELED:case SA.ERROR:AA(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(CA(this._state)){case SA.RUNNING:case SA.PAUSED:e.next&&AA(e.next.bind(e,this.snapshot))();break;case SA.SUCCESS:e.complete&&AA(e.complete.bind(e))();break;default:e.error&&AA(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),LA=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof AN?n:AN.makeFromUrl(n,t.host)}return v(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new AN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return rA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new AN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw TN(e)}}]),e}();function MA(e,t,n){return FA.apply(this,arguments)}function FA(){return(FA=Fl(Ll().mark((function e(t,n,r){var i,a,o,u;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,UA(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,h(u.prefixes)),(a=n.items).push.apply(a,h(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,MA(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UA(e,t){null!=t&&"number"===typeof t.maxResults&&LN("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=kA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,DA)}function jA(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=MN(t.fullServerUrl(),e.host,e._protocol),a=lA(n,r),o=e.maxOperationRetryTime,u=new hA(i,"PATCH",pA(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=yA(t),u}(e.storage,e._location,t,uA());return e.storage.makeRequestWithTokens(n,DA)}function VA(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=MN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new hA(r,"GET",vA(e,n),i);return a.errorHandler=yA(t),a}(e.storage,e._location,uA());return e.storage.makeRequestWithTokens(t,DA).then((function(e){if(null===e)throw new gN(mN.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function BA(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=MN(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new hA(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=yA(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,DA)}function zA(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new AN(e._location.bucket,n);return new LA(e.storage,r)}function qA(e,t){if(e instanceof WA){var n=e;if(null==n._bucket)throw new gN(mN.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new LA(n,n._bucket);return null!=t?qA(r,t):r}return void 0!==t?zA(e,t):e}function KA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof WA)return new LA(e,t);throw IN("To use ref(service, url), the first argument must be a Storage instance.")}return qA(e,t)}function GA(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:AN.makeFromBucketSpec(n,e)}function HA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:pl(i,e.app.options.projectId))}var WA=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=yN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?AN.makeFromBucketSpec(i,this._host):GA(this._host,this.app.options)}return v(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=AN.makeFromBucketSpec(this._url,e):this._bucket=GA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){LN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){LN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Fl(Ll().mark((function e(){var t,n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Fl(Ll().mark((function e(){var t,n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new LA(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new RN(EN());var o=GN(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),QA="@firebase/storage",$A="0.11.1",YA="storage";function XA(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new OA(e,new tA(t),n)}(e=Ol(e),t,n)}function JA(e){return function(e){e._throwIfRoot("getMetadata");var t=gA(e.storage,e._location,uA());return e.storage.makeRequestWithTokens(t,DA)}(e=Ol(e))}function ZA(e){return function(e){var t={prefixes:[],items:[]};return MA(e,t).then((function(){return t}))}(e=Ol(e))}function eR(e,t){return KA(e=Ol(e),t)}function tR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};HA(e,t,n,r)}function nR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new WA(r,i,a,n,Of)}Sf(new Ul(YA,nR,"PUBLIC").setMultipleInstances(!0)),Vf(QA,$A,""),Vf(QA,$A,"esm2017");var rR=function(){function e(t,n,r){d(this,e),this._delegate=t,this.task=n,this.ref=r}return v(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),iR=function(){function e(t,n){d(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return v(e,[{key:"snapshot",get:function(){return new rR(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new rR(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new rR(e,i,i._ref))}:{next:t.next?function(e){return t.next(new rR(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),aR=function(){function e(t,n){d(this,e),this._delegate=t,this._service=n}return v(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new oR(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new oR(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),oR=function(){function e(t,n){d(this,e),this._delegate=t,this.storage=n}return v(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return zA(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new iR(XA(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$N.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=XN(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new iR(new OA(this._delegate,new tA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return ZA(this._delegate).then((function(t){return new aR(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return UA(e=Ol(e),t)}(this._delegate,e||void 0).then((function(e){return new aR(e,t.storage)}))}},{key:"getMetadata",value:function(){return JA(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return jA(e=Ol(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return VA(Ol(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),BA(Ol(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw TN(e)}}]),e}(),uR=function(){function e(t,n){d(this,e),this.app=t,this._delegate=n}return v(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(sR(e))throw IN("ref() expected a child path but got a URL, use refFromURL instead.");return new oR(eR(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!sR(e))throw IN("refFromURL() expected a full URL but got a child path, use ref() instead.");try{AN.makeFromUrl(e,this._delegate.host)}catch(t){throw IN("refFromUrl() expected a valid full URL but got an invalid one.")}return new oR(eR(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tR(this._delegate,e,t,n)}}]),e}();function sR(e){return/^[A-Za-z]+:\/\//.test(e)}function cR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new uR(r,i)}!function(e){var t={TaskState:SA,TaskEvent:TA,StringFormat:$N,Storage:uR,Reference:oR};e.INTERNAL.registerComponent(new Ul("storage-compat",cR,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.1")}(lh);lh.initializeApp({apiKey:"AIzaSyBwe5yU16DdOdTczAhH3fwC2WEqWVPmMaA",authDomain:"bolg-house.firebaseapp.com",projectId:"bolg-house",storageBucket:"bolg-house.appspot.com",messagingSenderId:"180884727783",appId:"1:180884727783:web:b3ed5fe9308fc7efd27f42"});var lR=lh;function fR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var hR;Object.create;var dR="facebook.com",pR="github.com",vR="google.com",mR="password",yR="twitter.com",gR="EMAIL_SIGNIN",kR="PASSWORD_RESET",bR="RECOVER_EMAIL",wR="REVERT_SECOND_FACTOR_ADDITION",_R="VERIFY_AND_CHANGE_EMAIL",xR="VERIFY_EMAIL";function IR(){return il({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ER=function(){var e;return il(e={},"admin-restricted-operation","This operation is restricted to administrators only."),il(e,"argument-error",""),il(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),il(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),il(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),il(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),il(e,"cordova-not-ready","Cordova framework is not ready."),il(e,"cors-unsupported","This browser is not supported."),il(e,"credential-already-in-use","This credential is already associated with a different user account."),il(e,"custom-token-mismatch","The custom token corresponds to a different audience."),il(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),il(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),il(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),il(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),il(e,"email-already-in-use","The email address is already in use by another account."),il(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),il(e,"expired-action-code","The action code has expired."),il(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),il(e,"internal-error","An internal AuthError has occurred."),il(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),il(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),il(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),il(e,"invalid-auth-event","An internal AuthError has occurred."),il(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),il(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),il(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),il(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),il(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),il(e,"invalid-email","The email address is badly formatted."),il(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),il(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),il(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),il(e,"invalid-credential","The supplied auth credential is malformed or has expired."),il(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),il(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),il(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),il(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),il(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),il(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),il(e,"wrong-password","The password is invalid or the user does not have a password."),il(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),il(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),il(e,"invalid-provider-id","The specified provider ID is invalid."),il(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),il(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),il(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),il(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),il(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),il(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),il(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),il(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),il(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),il(e,"missing-continue-uri","A continue URL must be provided in the request."),il(e,"missing-iframe-start","An internal AuthError has occurred."),il(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),il(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),il(e,"missing-multi-factor-info","No second factor identifier is provided."),il(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),il(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),il(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),il(e,"app-deleted","This instance of FirebaseApp has been deleted."),il(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),il(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),il(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),il(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),il(e,"no-auth-event","An internal AuthError has occurred."),il(e,"no-such-provider","User was not linked to an account with the given provider."),il(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),il(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),il(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),il(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),il(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),il(e,"provider-already-linked","User can only be linked to one identity for the given provider."),il(e,"quota-exceeded","The project's quota for this operation has been exceeded."),il(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),il(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),il(e,"rejected-credential","The request contains malformed or mismatching credentials."),il(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),il(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),il(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),il(e,"timeout","The operation has timed out."),il(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),il(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),il(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),il(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),il(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),il(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),il(e,"unverified-email","The operation requires a verified email."),il(e,"user-cancelled","The user did not grant your application the permissions it requested."),il(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),il(e,"user-disabled","The user account has been disabled by an administrator."),il(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),il(e,"user-signed-out",""),il(e,"weak-password","The password must be 6 characters long or more."),il(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),il(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},TR=IR,SR=new _l("auth","Firebase",IR()),CR=new $l("@firebase/auth");function NR(e){if(CR.logLevel<=zl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];CR.error.apply(CR,["Auth (".concat(Of,"): ").concat(e)].concat(n))}}function AR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw OR.apply(void 0,[e].concat(n))}function RR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return OR.apply(void 0,[e].concat(n))}function PR(e,t,n){var r=Object.assign(Object.assign({},TR()),il({},t,n));return new _l("auth","Firebase",r).create(t,{appName:e.name})}function DR(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&AR(e,"argument-error"),PR(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function OR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return SR.create.apply(SR,[e].concat(n))}function LR(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw OR.apply(void 0,[t].concat(r))}}function MR(e){var t="INTERNAL ASSERTION FAILED: "+e;throw NR(t),new Error(t)}function FR(e,t){e||MR(t)}var UR=new Map;function jR(e){FR(e instanceof Function,"Expected a class definition");var t=UR.get(e);return t?(FR(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,UR.set(e,t),t)}function VR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function BR(){return"http:"===zR()||"https:"===zR()}function zR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var qR=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,FR(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vl())||gl()}return v(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(BR()||yl()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function KR(e,t){FR(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var GR=function(){function e(){d(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void MR("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void MR("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void MR("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),HR=(il(hR={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),il(hR,"MISSING_CUSTOM_TOKEN","internal-error"),il(hR,"INVALID_IDENTIFIER","invalid-email"),il(hR,"MISSING_CONTINUE_URI","internal-error"),il(hR,"INVALID_PASSWORD","wrong-password"),il(hR,"MISSING_PASSWORD","internal-error"),il(hR,"EMAIL_EXISTS","email-already-in-use"),il(hR,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),il(hR,"INVALID_IDP_RESPONSE","invalid-credential"),il(hR,"INVALID_PENDING_TOKEN","invalid-credential"),il(hR,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),il(hR,"MISSING_REQ_TYPE","internal-error"),il(hR,"EMAIL_NOT_FOUND","user-not-found"),il(hR,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),il(hR,"EXPIRED_OOB_CODE","expired-action-code"),il(hR,"INVALID_OOB_CODE","invalid-action-code"),il(hR,"MISSING_OOB_CODE","internal-error"),il(hR,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),il(hR,"INVALID_ID_TOKEN","invalid-user-token"),il(hR,"TOKEN_EXPIRED","user-token-expired"),il(hR,"USER_NOT_FOUND","user-token-expired"),il(hR,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),il(hR,"INVALID_CODE","invalid-verification-code"),il(hR,"INVALID_SESSION_INFO","invalid-verification-id"),il(hR,"INVALID_TEMPORARY_PROOF","invalid-credential"),il(hR,"MISSING_SESSION_INFO","missing-verification-id"),il(hR,"SESSION_EXPIRED","code-expired"),il(hR,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),il(hR,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),il(hR,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),il(hR,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),il(hR,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),il(hR,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),il(hR,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),il(hR,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),il(hR,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),il(hR,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),il(hR,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),hR),WR=new qR(3e4,6e4);function QR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function $R(e,t,n,r){return YR.apply(this,arguments)}function YR(){return YR=Fl(Ll().mark((function e(t,n,r,i){var a,o=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",XR(t,a,Fl(Ll().mark((function e(){var a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Cl(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",GR.fetch()(tP(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),YR.apply(this,arguments)}function XR(e,t,n){return JR.apply(this,arguments)}function JR(){return JR=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},HR),n),e.prev=2,a=new nP(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw rP(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw rP(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw rP(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw rP(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw PR(t,p,d);case 34:AR(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof wl)){e.next=41;break}throw e.t0;case 41:AR(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),JR.apply(this,arguments)}function ZR(e,t,n,r){return eP.apply(this,arguments)}function eP(){return eP=Fl(Ll().mark((function e(t,n,r,i){var a,o,u=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,$R(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&AR(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),eP.apply(this,arguments)}function tP(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?KR(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var nP=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(RR(n.auth,"network-request-failed"))}),WR.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function rP(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=RR(e,t,r);return i.customData._tokenResponse=n,i}function iP(e,t){return aP.apply(this,arguments)}function aP(){return(aP=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oP(e,t){return uP.apply(this,arguments)}function uP(){return(uP=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sP(e,t){return cP.apply(this,arguments)}function cP(){return(cP=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lP(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function fP(){return fP=Fl(Ll().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ol(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,LR((a=dP(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:lP(hP(a.auth_time)),issuedAtTime:lP(hP(a.iat)),expirationTime:lP(hP(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),fP.apply(this,arguments)}function hP(e){return 1e3*Number(e)}function dP(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return NR("JWT malformed, contained fewer than 3 sections"),null;try{var a=sl(r);return a?JSON.parse(a):(NR("Failed to decode base64 JWT payload"),null)}catch(o){return NR("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function pP(e,t){return vP.apply(this,arguments)}function vP(){return vP=Fl(Ll().mark((function e(t,n){var r=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof wl&&mP(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),vP.apply(this,arguments)}function mP(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var yP=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),gP=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=lP(this.lastLoginAt),this.creationTime=lP(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function kP(e){return bP.apply(this,arguments)}function bP(){return bP=Fl(Ll().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,pP(t,sP(r,{idToken:i}));case 6:LR(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?xP(o.providerUserInfo):[],s=_P(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new gP(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),bP.apply(this,arguments)}function wP(){return(wP=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ol(t),e.next=3,kP(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _P(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function xP(e){return e.map((function(e){var t=e.providerId,n=fR(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function IP(e,t){return EP.apply(this,arguments)}function EP(){return(EP=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XR(t,{},Fl(Ll().mark((function e(){var r,i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cl({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=tP(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",GR.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TP=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){LR(e.idToken,"internal-error"),LR("undefined"!==typeof e.idToken,"internal-error"),LR("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=dP(e);return LR(t,"internal-error"),LR("undefined"!==typeof t.exp,"internal-error"),LR("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Fl(Ll().mark((function e(t){var n,r=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],LR(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IP(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return MR("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(LR("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(LR("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(LR("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function SP(e,t){LR("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var CP=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=fR(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new gP(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pP(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(LR(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return fP.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return wP.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(LR(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){LR(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Fl(Ll().mark((function e(t){var n,r,i=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,kP(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,pP(this,iP(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;LR(k&&x,t,"internal-error");var I=TP.fromJSON(this.name,x);LR("string"===typeof k,t,"internal-error"),SP(f,t.name),SP(h,t.name),LR("boolean"===typeof b,t,"internal-error"),LR("boolean"===typeof w,t,"internal-error"),SP(d,t.name),SP(p,t.name),SP(v,t.name),SP(m,t.name),SP(y,t.name),SP(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Fl(Ll().mark((function t(n,r){var i,a,o,u=arguments;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new TP).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,kP(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),NP=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();NP.type="NONE";var AP=NP;function RP(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var PP=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=RP(this.userKey,a.apiKey,o),this.fullPersistenceKey=RP("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?CP._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Fl(Ll().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(jR(AP),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||jR(AP),u=RP(i,n.config.apiKey,n.name),s=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=CP._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function DP(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(FP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jP(t))return"Blackberry";if(VP(t))return"Webos";if(LP(t))return"Safari";if((t.includes("chrome/")||MP(t))&&!t.includes("edge/"))return"Chrome";if(UP(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function OP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/firefox\//i.test(e)}function LP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function MP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/crios\//i.test(e)}function FP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/iemobile/i.test(e)}function UP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/android/i.test(e)}function jP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/blackberry/i.test(e)}function VP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/webos/i.test(e)}function BP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zP(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return BP(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function qP(){return kl()&&10===document.documentMode}function KP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return BP(e)||UP(e)||VP(e)||jP(e)||/windows phone/i.test(e)||FP(e)}function GP(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=DP(vl());break;case"Worker":t="".concat(DP(vl()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Of,"/").concat(r)}var HP=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Fl(Ll().mark((function e(t){var n,r,i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),WP=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $P(this),this.idTokenSubscription=new $P(this),this.beforeStateQueue=new HP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=jR(t)),this._initializationPromise=this.queue(Fl(Ll().mark((function r(){var i,a;return Ll().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,PP.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Fl(Ll().mark((function e(t){var n,r,i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return LR(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kP(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ol(t):null)&&LR(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Fl(Ll().mark((function e(t){var n,r=this,i=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&LR(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Fl(Ll().mark((function n(){return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(jR(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _l("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return LR(n=t&&jR(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,PP.create(this,[jR(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Fl(Ll().mark((function e(t){var n=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return LR(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return LR(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GP(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=il({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function QP(e){return Ol(e)}var $P=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Rl((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return LR(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function YP(e,t,n){var r=QP(e);LR(r._canInitEmulator,r,"emulator-config-failed"),LR(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=XP(t),o=function(e){var t=XP(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:JP(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:JP(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function XP(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function JP(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ZP=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return MR("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return MR("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return MR("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return MR("not implemented")}}]),e}();function eD(e,t){return tD.apply(this,arguments)}function tD(){return(tD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:resetPassword",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nD(e,t){return rD.apply(this,arguments)}function rD(){return(rD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iD(e,t){return aD.apply(this,arguments)}function aD(){return(aD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:update",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oD(e,t){return uD.apply(this,arguments)}function uD(){return(uD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZR(t,"POST","/v1/accounts:signInWithPassword",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sD(e,t){return cD.apply(this,arguments)}function cD(){return(cD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:sendOobCode",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lD(e,t){return fD.apply(this,arguments)}function fD(){return(fD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sD(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hD(e,t){return dD.apply(this,arguments)}function dD(){return(dD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sD(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pD(e,t){return vD.apply(this,arguments)}function vD(){return(vD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sD(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mD(e,t){return yD.apply(this,arguments)}function yD(){return(yD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sD(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gD(e,t){return kD.apply(this,arguments)}function kD(){return(kD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZR(t,"POST","/v1/accounts:signInWithEmailLink",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bD(e,t){return wD.apply(this,arguments)}function wD(){return(wD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZR(t,"POST","/v1/accounts:signInWithEmailLink",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _D=function(e){y(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return v(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",oD(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",gD(t,{email:this._email,oobCode:this._password}));case 5:AR(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",nD(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bD(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:AR(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ZP);function xD(e,t){return ID.apply(this,arguments)}function ID(){return(ID=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZR(t,"POST","/v1/accounts:signInWithIdp",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ED=function(e){y(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return xD(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xD(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xD(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cl(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):AR("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=fR(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ZP);function TD(e,t){return SD.apply(this,arguments)}function SD(){return(SD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:sendVerificationCode",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CD(){return(CD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZR(t,"POST","/v1/accounts:signInWithPhoneNumber",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ND(){return(ND=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZR(t,"POST","/v1/accounts:signInWithPhoneNumber",QR(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw rP(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AD=il({},"USER_NOT_FOUND","user-not-found");function RD(){return(RD=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ZR(t,"POST","/v1/accounts:signInWithPhoneNumber",QR(t,r),AD));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PD=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return CD.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ND.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return RD.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ZP);var DD=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=Nl(Al(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);LR(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Nl(Al(e)).link,n=t?Nl(Al(t)).deep_link_id:null,r=Nl(Al(e)).deep_link_id;return(r?Nl(Al(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(AT){return null}}}]),e}();var OD=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return _D._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=DD.parseLink(t);return LR(n,"argument-error"),_D._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();OD.PROVIDER_ID="password",OD.EMAIL_PASSWORD_SIGN_IN_METHOD="password",OD.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var LD=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),MD=function(e){y(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(LD),FD=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return LR(e.idToken||e.accessToken,"argument-error"),ED._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return LR("providerId"in t&&"signInMethod"in t,"argument-error"),ED._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(MD),UD=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return ED._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AT){return null}}}]),n}(MD);UD.FACEBOOK_SIGN_IN_METHOD="facebook.com",UD.PROVIDER_ID="facebook.com";var jD=function(e){y(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return ED._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(AT){return null}}}]),n}(MD);jD.GOOGLE_SIGN_IN_METHOD="google.com",jD.PROVIDER_ID="google.com";var VD=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return ED._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AT){return null}}}]),n}(MD);VD.GITHUB_SIGN_IN_METHOD="github.com",VD.PROVIDER_ID="github.com";var BD=function(e){y(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return v(n,[{key:"_getIdTokenResponse",value:function(e){return xD(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xD(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xD(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ZP),zD=function(e){y(n,e);var t=x(n);function n(e){return d(this,n),LR(e.startsWith("saml."),"argument-error"),t.call(this,e)}return v(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=BD.fromJSON(e);return LR(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return BD._create(r,n)}catch(i){return null}}}]),n}(LD),qD=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return ED._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(AT){return null}}}]),n}(MD);function KD(e,t){return GD.apply(this,arguments)}function GD(){return(GD=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZR(t,"POST","/v1/accounts:signUp",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}qD.TWITTER_SIGN_IN_METHOD="twitter.com",qD.PROVIDER_ID="twitter.com";var HD=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Fl(Ll().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,CP._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=WD(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Fl(Ll().mark((function t(n,r,i){var a;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=WD(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function WD(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function QD(){return QD=Fl(Ll().mark((function e(t){var n,r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QP(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new HD({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,KD(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,HD._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}var $D=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(wl);function YD(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw $D._fromErrorAndOperation(e,n,t,r);throw n}))}function XD(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function JD(e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),e.next=3,nO(!0,r,n);case 3:return e.t0=oP,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=XD(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ZD.apply(this,arguments)}function eO(e,t){return tO.apply(this,arguments)}function tO(){return tO=Fl(Ll().mark((function e(t,n){var r,i,a=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=pP,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",HD._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),tO.apply(this,arguments)}function nO(e,t,n){return rO.apply(this,arguments)}function rO(){return(rO=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kP(n);case 2:i=XD(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",LR(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iO(e,t){return aO.apply(this,arguments)}function aO(){return aO=Fl(Ll().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,pP(t,YD(i,a,n,t),r);case 6:return LR((o=e.sent).idToken,i,"internal-error"),LR(u=dP(o.idToken),i,"internal-error"),s=u.sub,LR(t.uid===s,i,"user-mismatch"),e.abrupt("return",HD._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&AR(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),aO.apply(this,arguments)}function oO(e,t){return uO.apply(this,arguments)}function uO(){return uO=Fl(Ll().mark((function e(t,n){var r,i,a,o,u=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,YD(t,i,n);case 4:return a=e.sent,e.next=7,HD._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),uO.apply(this,arguments)}function sO(e,t){return cO.apply(this,arguments)}function cO(){return(cO=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oO(QP(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lO(e,t){return fO.apply(this,arguments)}function fO(){return(fO=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),e.next=3,nO(!1,r,n.providerId);case 3:return e.abrupt("return",eO(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hO(e,t){return dO.apply(this,arguments)}function dO(){return(dO=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iO(Ol(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pO(e,t){return vO.apply(this,arguments)}function vO(){return(vO=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZR(t,"POST","/v1/accounts:signInWithCustomToken",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mO(){return(mO=Fl(Ll().mark((function e(t,n){var r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QP(t),e.next=3,pO(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,HD._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yO=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return v(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?gO._fromServerResponse(e,t):AR(e,"internal-error")}}]),e}(),gO=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(yO);function kO(e,t,n){var r;LR((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),LR("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(LR(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(LR(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function bO(){return(bO=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(t),a={requestType:"PASSWORD_RESET",email:n},r&&kO(i,a,r),e.next=5,hD(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wO(){return(wO=Fl(Ll().mark((function e(t,n,r){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eD(Ol(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _O(){return(_O=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iD(Ol(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xO(e,t){return IO.apply(this,arguments)}function IO(){return(IO=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),e.next=3,eD(r,{oobCode:n});case 3:i=e.sent,LR(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return LR(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:LR(i.mfaInfo,r,"internal-error");case 13:LR(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=yO._fromServerResponse(QP(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EO(){return(EO=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xO(Ol(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TO(e,t,n){return SO.apply(this,arguments)}function SO(){return(SO=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QP(t),e.next=3,KD(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,HD._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CO(){return(CO=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(t),a={requestType:"EMAIL_SIGNIN",email:n},LR(r.handleCodeInApp,i,"argument-error"),r&&kO(i,a,r),e.next=6,pD(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NO(){return(NO=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(t),LR((a=OD.credentialWithLink(n,r||VR()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",sO(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AO(e,t){return RO.apply(this,arguments)}function RO(){return(RO=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:createAuthUri",QR(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PO(){return(PO=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=BR()?VR():"http://localhost",i={identifier:n,continueUri:r},e.next=4,AO(Ol(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DO(){return(DO=Fl(Ll().mark((function e(t,n){var r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ol(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&kO(r.auth,a,n),e.next=8,lD(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OO(){return(OO=Fl(Ll().mark((function e(t,n,r){var i,a,o,u;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&kO(i.auth,o,r),e.next=8,mD(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LO(e,t){return MO.apply(this,arguments)}function MO(){return(MO=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FO(){return(FO=Fl(Ll().mark((function e(t,n){var r,i,a,o,u,s,c;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ol(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,pP(a,LO(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UO(e,t,n){return jO.apply(this,arguments)}function jO(){return(jO=Fl(Ll().mark((function e(t,n,r){var i,a,o,u;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,pP(t,nD(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VO=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),BO=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return v(n)}(VO),zO=function(e){y(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return v(n)}(VO),qO=function(e){y(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return v(n)}(BO),KO=function(e){y(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return v(n)}(VO),GO=function(e){y(n,e);var t=x(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return v(n)}(BO);function HO(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=dP(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new VO(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new zO(a,i);case"github.com":return new qO(a,i);case"google.com":return new KO(a,i);case"twitter.com":return new GO(a,i,e.screenName||null);case"custom":case"anonymous":return new VO(a,null);default:return new VO(a,r,i)}}(n)}var WO=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return v(e,[{key:"toJSON",value:function(){return{multiFactorSession:il({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),QO=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return v(e,[{key:"resolveSignIn",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=QP(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return yO._fromServerResponse(r,e)}));LR(i.mfaPendingCredential,r,"internal-error");var o=WO._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Fl(Ll().mark((function e(t){var a,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,HD._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return LR(n.user,r,"internal-error"),e.abrupt("return",HD._forOperation(n.user,n.operationType,u));case 17:AR(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function $O(e,t){return $R(e,"POST","/v2/accounts/mfaEnrollment:start",QR(e,t))}var YO=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return yO._fromServerResponse(t.auth,e)})))}))}return v(e,[{key:"getSession",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=WO,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,pP(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Fl(Ll().mark((function e(t){var n,r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,pP(this.user,$R(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",QR(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),XO=new WeakMap;var JO="__sak",ZO=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(JO,"1"),this.storage.removeItem(JO),Promise.resolve(!0)):Promise.resolve(!1)}catch(AT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var eL=function(e){y(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=vl();return LP(e)||BP(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=KP(),e._shouldAllowMigration=!0,e}return v(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);qP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Fl(Ll().mark((function e(t,r){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fl(Ll().mark((function e(t){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ZO);eL.type="LOCAL";var tL=eL,nL=function(e){y(n,e);var t=x(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ZO);nL.type="SESSION";var rL=nL;function iL(e){return Promise.all(e.map(function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var aL=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Fl(Ll().mark((function e(t){var n,r,i,a,o,u,s,c;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,iL(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function oL(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}aL.receivers=[];var uL=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Fl(Ll().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=oL("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function sL(){return window}function cL(){return"undefined"!==typeof sL().WorkerGlobalScope&&"function"===typeof sL().importScripts}function lL(){return fL.apply(this,arguments)}function fL(){return(fL=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function hL(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var dL="firebaseLocalStorageDb",pL="firebaseLocalStorage",vL="fbase_key",mL=function(){function e(t){d(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function yL(e,t){return e.transaction([pL],t?"readwrite":"readonly").objectStore(pL)}function gL(){var e=indexedDB.deleteDatabase(dL);return new mL(e).toPromise()}function kL(){var e=indexedDB.open(dL,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(pL,{keyPath:vL})}catch(r){n(r)}})),e.addEventListener("success",Fl(Ll().mark((function n(){var r;return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(pL)){n.next=12;break}return r.close(),n.next=5,gL();case 5:return n.t0=t,n.next=8,kL();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function bL(e,t,n){return wL.apply(this,arguments)}function wL(){return wL=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yL(t,!0).put((il(i={},vL,n),il(i,"value",r),i)),e.abrupt("return",new mL(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),wL.apply(this,arguments)}function _L(e,t){return xL.apply(this,arguments)}function xL(){return xL=Fl(Ll().mark((function e(t,n){var r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yL(t,!1).get(n),e.next=3,new mL(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),xL.apply(this,arguments)}function IL(e,t){var n=yL(e,!0).delete(t);return new mL(n).toPromise()}var EL=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,kL();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cL()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Fl(Ll().mark((function e(){var t=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=aL._getInstance(cL()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Fl(Ll().mark((function e(n,r){var i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lL();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new uL(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&hL()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,kL();case 5:return t=e.sent,e.next=8,bL(t,JO,"1");case 8:return e.next=10,IL(t,JO);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fl(Ll().mark((function e(t,n){var r=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return bL(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return _L(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fl(Ll().mark((function e(t){var n=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return IL(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=yL(e,!1).getAll();return new mL(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Fl(Ll().mark((function t(){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();EL.type="LOCAL";var TL=EL;function SL(e,t){return $R(e,"POST","/v2/accounts/mfaSignIn:start",QR(e,t))}function CL(e){return NL.apply(this,arguments)}function NL(){return(NL=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$R(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AL(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=RR("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function RL(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var PL=1e12,DL=function(){function e(t){d(this,e),this.auth=t,this.counter=PL,this._widgets=new Map}return v(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new OL(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||PL;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||PL;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||PL,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),OL=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;LR(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return v(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var LL=RL("rcb"),ML=new qR(3e4,6e4),FL="https://www.google.com/recaptcha/api.js?",UL=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=sL().grecaptcha)||void 0===t?void 0:t.render)}return v(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return LR(jL(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(sL().grecaptcha):new Promise((function(r,i){var a=sL().setTimeout((function(){i(RR(e,"network-request-failed"))}),ML.get());sL()[LL]=function(){sL().clearTimeout(a),delete sL()[LL];var o=sL().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(RR(e,"internal-error"))},AL("".concat(FL,"?").concat(Cl({onload:LL,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(RR(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=sL().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function jL(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var VL=function(){function e(){d(this,e)}return v(e,[{key:"load",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new DL(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),BL="recaptcha",zL={theme:"light",type:"image"},qL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},zL),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=BL,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=QP(r),this.isInvisible="invisible"===this.parameters.size,LR("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;LR(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new VL:new UL,this.validateStartingState()}return v(e,[{key:"verify",value:function(){var e=Fl(Ll().mark((function e(){var t,n,r,i=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){LR(!this.parameters.sitekey,this.auth,"argument-error"),LR(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),LR("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=sL()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){LR(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Fl(Ll().mark((function e(){var t,n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LR(BR()&&!cL(),this.auth,"internal-error"),e.next=3,KL();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,CL(this.auth);case 8:LR(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return LR(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function KL(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var GL=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return v(e,[{key:"confirm",value:function(e){var t=PD._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function HL(){return(HL=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QP(t),e.next=3,YL(i,n,Ol(r));case 3:return a=e.sent,e.abrupt("return",new GL(a,(function(e){return sO(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WL(e,t,n){return QL.apply(this,arguments)}function QL(){return(QL=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(t),e.next=3,nO(!1,i,"phone");case 3:return e.next=5,YL(i.auth,n,Ol(r));case 5:return a=e.sent,e.abrupt("return",new GL(a,(function(e){return lO(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $L(){return($L=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ol(t),e.next=3,YL(i.auth,n,Ol(r));case 3:return a=e.sent,e.abrupt("return",new GL(a,(function(e){return hO(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YL(e,t,n){return XL.apply(this,arguments)}function XL(){return XL=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,LR("string"===typeof a,t,"argument-error"),LR(r.type===BL,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return LR("enroll"===u.type,t,"internal-error"),e.next=13,$O(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return LR("signin"===u.type,t,"internal-error"),LR(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,SL(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,TD(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),XL.apply(this,arguments)}function JL(){return(JL=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eO(Ol(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZL=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=QP(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return YL(this.auth,e,Ol(t))}}],[{key:"credential",value:function(e,t){return PD._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?PD._fromTokenResponse(n,r):null}}]),e}();function eM(e,t){return t?jR(t):(LR(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ZL.PROVIDER_ID="phone",ZL.PHONE_SIGN_IN_METHOD="phone";var tM=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return xD(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return xD(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return xD(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ZP);function nM(e){return oO(e.auth,new tM(e),e.bypassAuthState)}function rM(e){var t=e.auth,n=e.user;return LR(n,t,"internal-error"),iO(n,new tM(e),e.bypassAuthState)}function iM(e){return aM.apply(this,arguments)}function aM(){return(aM=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,LR(r=t.user,n,"internal-error"),e.abrupt("return",eO(r,new tM(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Fl(Ll().mark((function t(n,r){return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Fl(Ll().mark((function e(t){var n,r,i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nM;case"linkViaPopup":case"linkViaRedirect":return iM;case"reauthViaPopup":case"reauthViaRedirect":return rM;default:AR(this.auth,"internal-error")}}},{key:"resolve",value:function(e){FR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){FR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),uM=new qR(2e3,1e4);function sM(e,t,n){return cM.apply(this,arguments)}function cM(){return(cM=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QP(t),DR(t,n,LD),a=eM(i,r),o=new dM(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lM(){return(lM=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return DR((i=Ol(t)).auth,n,LD),a=eM(i.auth,r),o=new dM(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fM(e,t,n){return hM.apply(this,arguments)}function hM(){return(hM=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return DR((i=Ol(t)).auth,n,LD),a=eM(i.auth,r),o=new dM(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dM=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o){var u;return d(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(u),u}return v(n,[{key:"executeNotNull",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return LR(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fl(Ll().mark((function e(){var t,n=this;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FR(1===this.filter.length,"Popup operations only handle one event"),t=oL(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(RR(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(RR(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(RR(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,uM.get())}()}}]),n}(oM);dM.currentPopupAction=null;var pM=new Map,vM=function(e){y(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return v(n,[{key:"execute",value:function(){var e=Fl(Ll().mark((function e(){var t,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pM.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,mM(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,hh(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:pM.set(this.auth._key(),t);case 21:return this.bypassAuthState||pM.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Fl(Ll().mark((function e(t){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",hh(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",hh(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(oM);function mM(e,t){return yM.apply(this,arguments)}function yM(){return(yM=Fl(Ll().mark((function e(t,n){var r,i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_M(n),i=wM(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gM(e,t){return kM.apply(this,arguments)}function kM(){return(kM=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wM(t)._set(_M(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bM(e,t){pM.set(e._key(),t)}function wM(e){return jR(e._redirectPersistence)}function _M(e){return RP("pendingRedirect",e.config.apiKey,e.name)}function xM(e,t,n){return function(e,t,n){return IM.apply(this,arguments)}(e,t,n)}function IM(){return(IM=Fl(Ll().mark((function e(t,n,r){var i,a;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QP(t),DR(t,n,LD),e.next=4,i._initializationPromise;case 4:return a=eM(i,r),e.next=7,gM(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EM(e,t,n){return function(e,t,n){return TM.apply(this,arguments)}(e,t,n)}function TM(){return(TM=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return DR((i=Ol(t)).auth,n,LD),e.next=4,i.auth._initializationPromise;case 4:return a=eM(i.auth,r),e.next=7,gM(a,i.auth);case 7:return e.next=9,DM(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SM(e,t,n){return function(e,t,n){return CM.apply(this,arguments)}(e,t,n)}function CM(){return(CM=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return DR((i=Ol(t)).auth,n,LD),e.next=4,i.auth._initializationPromise;case 4:return a=eM(i.auth,r),e.next=7,nO(!1,i,n.providerId);case 7:return e.next=9,gM(a,i.auth);case 9:return e.next=11,DM(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NM(e,t){return AM.apply(this,arguments)}function AM(){return(AM=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QP(t)._initializationPromise;case 2:return e.abrupt("return",RM(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RM(e,t){return PM.apply(this,arguments)}function PM(){return PM=Fl(Ll().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=QP(t),a=eM(i,n),o=new vM(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),PM.apply(this,arguments)}function DM(e){return OM.apply(this,arguments)}function OM(){return(OM=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oL("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LM=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FM(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!FM(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(RR(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MM(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(MM(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function MM(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function FM(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function UM(e){return jM.apply(this,arguments)}function jM(){return jM=Fl(Ll().mark((function e(t){var n,r=arguments;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",$R(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),jM.apply(this,arguments)}var VM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BM=/^https?/;function zM(){return(zM=Fl(Ll().mark((function e(t){var n,r,i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,UM(t);case 4:n=e.sent,r=n.authorizedDomains,i=S(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!qM(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:AR(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function qM(e){var t=VR(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!BM.test(r))return!1;if(VM.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var KM=new qR(3e4,6e4);function GM(){var e=sL().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var HM=null;function WM(e){return HM=HM||function(e){return new Promise((function(t,n){var r,i,a;function o(){GM(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){GM(),n(RR(e,"network-request-failed"))},timeout:KM.get()})}if(null===(i=null===(r=sL().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=sL().gapi)||void 0===a?void 0:a.load)){var u=RL("iframefcb");return sL()[u]=function(){gapi.load?o():n(RR(e,"network-request-failed"))},AL("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw HM=null,e}))}(e),HM}var QM=new qR(5e3,15e3),$M={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XM(e){var t=e.config;LR(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?KR(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Of},i=YM.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Cl(r).slice(1))}function JM(e){return ZM.apply(this,arguments)}function ZM(){return ZM=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WM(t);case 2:return n=e.sent,LR(r=sL().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:XM(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$M,dontclear:!0},(function(e){return new Promise(function(){var n=Fl(Ll().mark((function n(r,i){var a,o,u;return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){sL().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=RR(t,"network-request-failed"),o=sL().setTimeout((function(){i(a)}),QM.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ZM.apply(this,arguments)}var eF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tF="_blank",nF="http://localhost",rF=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function iF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},eF),{width:r.toString(),height:i.toString(),top:a,left:o}),c=vl().toLowerCase();n&&(u=MP(c)?tF:n),OP(c)&&(t=t||nF,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(zP(c)&&"_self"!==u)return aF(t||"",u),new rF(null);var h=window.open(t||"",u,f);LR(h,e,"popup-blocked");try{h.focus()}catch(d){}return new rF(h)}function aF(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var oF="__/auth/handler",uF="emulator/auth/handler";function sF(e,t,n,r,i,a){LR(e.config.authDomain,e,"auth-domain-config-required"),LR(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Of,eventId:i};if(t instanceof LD){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof MD){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(oF);return KR(t,uF)}(e),"?").concat(Cl(p).slice(1))}var cF="webStorageSupport",lF=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rL,this._completeRedirectFn=RM,this._overrideRedirectResult=bM}return v(e,[{key:"_openPopup",value:function(){var e=Fl(Ll().mark((function e(t,n,r,i){var a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FR(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=sF(t,n,r,VR(),i),e.abrupt("return",iF(t,o,oL()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fl(Ll().mark((function e(t,n,r,i){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=sF(t,n,r,VR(),i),sL().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(FR(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JM(t);case 2:return n=e.sent,r=new LM(t),n.register("authEvent",(function(e){return LR(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(cF,{type:cF},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),AR(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zM.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return KP()||LP()||BP()}}]),e}(),fF=lF,hF=function(e){y(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return $R(e,"POST","/v2/accounts/mfaEnrollment:finalize",QR(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return $R(e,"POST","/v2/accounts/mfaSignIn:finalize",QR(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){d(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return MR("unexpected MultiFactorSessionType")}}}]),e}()),dF=function(){function e(){d(this,e)}return v(e,null,[{key:"assertion",value:function(e){return hF._fromCredential(e)}}]),e}();dF.FACTOR_ID="phone";var pF="@firebase/auth",vF="0.21.3",mF=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){LR(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var yF;!function(e){var t;null===(t=fl())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function gF(){return window}yF="Browser",Sf(new Ul("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){LR(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),LR(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:yF,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GP(yF)},i=new WP(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Sf(new Ul("auth-internal",(function(e){return function(e){return new mF(e)}(QP(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Vf(pF,vF,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(yF)),Vf(pF,vF,"esm2017");function kF(e,t,n){return bF.apply(this,arguments)}function bF(){return bF=Fl(Ll().mark((function e(t,n,r){var i,a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gF(),o=a.BuildInfo,FR(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,TF(n.sessionId);case 4:return u=e.sent,s={},BP()?s.ibi=o.packageName:UP()?s.apn=o.packageName:AR(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",sF(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),bF.apply(this,arguments)}function wF(){return(wF=Fl(Ll().mark((function e(t){var n,r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gF(),r=n.BuildInfo,i={},BP()?i.iosBundleId=r.packageName:UP()?i.androidPackageName=r.packageName:AR(t,"operation-not-supported-in-this-environment"),e.next=5,UM(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _F(e){var t=gF().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function xF(e,t,n){return IF.apply(this,arguments)}function IF(){return IF=Fl(Ll().mark((function e(t,n,r){var i,a,o;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gF(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(RR(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),UP()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),IF.apply(this,arguments)}function EF(e){var t,n,r,i,a,o,u,s,c,l,f=gF();LR("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),LR("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),LR("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),LR("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),LR("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function TF(e){return SF.apply(this,arguments)}function SF(){return(SF=Fl(Ll().mark((function e(t){var n,r,i;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=CF(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CF(e){if(FR(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var NF=function(e){y(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return v(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),hh(g(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(LM);function AF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:LF(),postBody:null,tenantId:e.tenantId,error:RR(e,"no-auth-event")}}function RF(e,t){return MF()._set(FF(e),t)}function PF(e){return DF.apply(this,arguments)}function DF(){return(DF=Fl(Ll().mark((function e(t){var n;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MF()._get(FF(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,MF()._remove(FF(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OF(e,t){var n,r,i=function(e){var t=UF(e),n=t.link?decodeURIComponent(t.link):void 0,r=UF(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return UF(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=UF(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?RR(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function LF(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function MF(){return jR(tL)}function FF(e){return RP("authEvent",e.config.apiKey,e.name)}function UF(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return Nl(t.slice(1).join("?"))}var jF=function(){function e(){d(this,e),this._redirectPersistence=rL,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=RM,this._overrideRedirectResult=bM}return v(e,[{key:"_initialize",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new NF(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){AR(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Fl(Ll().mark((function e(t,n,r,i){var a,o,u,s;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return EF(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),pM.clear(),e.next=10,this._originValidation(t);case 10:return o=AF(t,r,i),e.next=13,RF(t,o);case 13:return e.next=15,kF(t,o,n);case 15:return u=e.sent,e.next=18,_F(u);case 18:return s=e.sent,e.abrupt("return",xF(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return wF.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=gF(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Fl(Ll().mark((function n(){return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,PF(e);case 2:t.onEvent(BF());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Fl(Ll().mark((function n(r){var i,a;return Ll().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,PF(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=OF(i,r.url)),t.onEvent(a||BF());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");gF().handleOpenURL=function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),VF=jF;function BF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:RR("no-auth-event")}}function zF(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return!("file:"!==zF()&&"ionic:"!==zF()&&"capacitor:"!==zF()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function KF(){return kl()&&11===(null===document||void 0===document?void 0:document.documentMode)}function GF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return/Edge\/\d+/.test(e)}function HF(){try{var e=self.localStorage,t=oL();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl();return KF()||GF(e)}()||bl()}catch(n){return WF()&&bl()}return!1}function WF(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function QF(){return("http:"===zF()||"https:"===zF()||yl()||qF())&&!(gl()||ml())&&HF()&&!WF()}function $F(){return qF()&&"undefined"!==typeof document}function YF(){return XF.apply(this,arguments)}function XF(){return(XF=Fl(Ll().mark((function e(){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($F()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var JF={LOCAL:"local",NONE:"none",SESSION:"session"},ZF=LR,eU="persistence";function tU(e,t){ZF(Object.values(JF).includes(t),e,"invalid-persistence-type"),gl()?ZF(t!==JF.SESSION,e,"unsupported-persistence-type"):ml()?ZF(t===JF.NONE,e,"unsupported-persistence-type"):WF()?ZF(t===JF.NONE||t===JF.LOCAL&&bl(),e,"unsupported-persistence-type"):ZF(t===JF.NONE||HF(),e,"unsupported-persistence-type")}function nU(e){return rU.apply(this,arguments)}function rU(){return(rU=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=iU(),r=RP(eU,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iU(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var aU=LR,oU=function(){function e(){d(this,e),this.browserResolver=jR(fF),this.cordovaResolver=jR(VF),this.underlyingResolver=null,this._redirectPersistence=rL,this._completeRedirectFn=RM,this._overrideRedirectResult=bM}return v(e,[{key:"_initialize",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Fl(Ll().mark((function e(t,n,r,i){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fl(Ll().mark((function e(t,n,r,i){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return $F()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return aU(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,YF();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function uU(e){return e.unwrap()}function sU(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new dU(e,function(e,t){var n,r=Ol(e),i=t;return LR(t.customData.operationType,r,"argument-error"),LR(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),QO._fromError(r,i)}(e,t));else if(r){var i=cU(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function cU(e){var t=(e instanceof wl?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof wl)&&"temporaryProof"in t&&"phoneNumber"in t)return ZL.credentialFromResult(e);var n,r=t.providerId;if(!r||r===mR)return null;switch(r){case vR:n=jD;break;case dR:n=UD;break;case pR:n=VD;break;case yR:n=qD;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?BD._create(r,u):ED._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new FD(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof wl?n.credentialFromError(e):n.credentialFromResult(e)}function lU(e,t){return t.catch((function(t){throw t instanceof wl&&sU(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,cU(t)),additionalUserInfo:HO(e),user:pU.getOrCreate(r)}}))}function fU(e,t){return hU.apply(this,arguments)}function hU(){return(hU=Fl(Ll().mark((function e(t,n){var r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return lU(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dU=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return v(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return lU(uU(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),pU=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ol(e);return XO.has(t)||XO.set(t,YO._fromUser(t)),XO.get(t)}(t)}return v(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lU(this.auth,lO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fU(this.auth,WL(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lU(this.auth,fM(this._delegate,t,oU)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nU(QP(this.auth));case 2:return e.abrupt("return",SM(this._delegate,t,oU));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lU(this.auth,hO(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return fU(this.auth,function(e,t,n){return $L.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return lU(this.auth,function(e,t,n){return lM.apply(this,arguments)}(this._delegate,e,oU))}},{key:"reauthenticateWithRedirect",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nU(QP(this.auth));case 2:return e.abrupt("return",EM(this._delegate,t,oU));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return DO.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JD(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return UO(Ol(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return UO(Ol(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return JL.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return FO.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return OO.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();pU.USER_MAP=new WeakMap;var vU=LR,mU=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;vU(r,"invalid-api-key",{appName:t.name}),vU(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?oU:void 0;this._delegate=n.initialize({options:{persistence:gU(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ER),this.linkUnderlyingAuth()}return v(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?pU.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){YP(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return _O.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return xO(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return wO.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Fl(Ll().mark((function e(t,n){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lU(this._delegate,TO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return PO.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=DD.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Fl(Ll().mark((function e(){var t;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vU(QF(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,NM(this._delegate,oU);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",lU(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){QP(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=yU(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=yU(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return CO.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return bO.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Fl(Ll().mark((function e(t){var n,r;return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tU(this._delegate,t),e.t0=t,e.next=e.t0===JF.SESSION?4:e.t0===JF.LOCAL?6:e.t0===JF.NONE?11:13;break;case 4:return n=rL,e.abrupt("break",14);case 6:return e.next=8,jR(TL)._isAvailable();case 8:return r=e.sent,n=r?TL:tL,e.abrupt("break",14);case 11:return n=AP,e.abrupt("break",14);case 13:return e.abrupt("return",AR("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return lU(this._delegate,function(e){return QD.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return lU(this._delegate,sO(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return lU(this._delegate,function(e,t){return mO.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return lU(this._delegate,function(e,t,n){return sO(Ol(e),OD.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return lU(this._delegate,function(e,t,n){return NO.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return fU(this._delegate,function(e,t,n){return HL.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vU(QF(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",lU(this._delegate,sM(this._delegate,t,oU)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Fl(Ll().mark((function e(t){return Ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vU(QF(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,nU(this._delegate);case 3:return e.abrupt("return",xM(this._delegate,t,oU));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return EO.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function yU(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&pU.getOrCreate(e))},error:t,complete:n}}function gU(e,t){var n=function(e,t){var n=iU();if(!n)return[];var r=RP(eU,e,t);switch(n.getItem(r)){case JF.NONE:return[AP];case JF.LOCAL:return[TL,rL];case JF.SESSION:return[rL];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(TL)||n.push(TL),"undefined"!==typeof window)for(var r=0,i=[tL,rL];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(AP)||n.push(AP),n}mU.Persistence=JF;var kU=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new ZL(uU(lh.auth()))}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ZL.credential(e,t)}}]),e}();kU.PHONE_SIGN_IN_METHOD=ZL.PHONE_SIGN_IN_METHOD,kU.PROVIDER_ID=ZL.PROVIDER_ID;var bU=LR,wU=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lh.app();d(this,e),bU(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new qL(t,n,i.auth()),this.type=this._delegate.type}return v(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ul("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new mU(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gR,PASSWORD_RESET:kR,RECOVER_EMAIL:bR,REVERT_SECOND_FACTOR_ADDITION:wR,VERIFY_AND_CHANGE_EMAIL:_R,VERIFY_EMAIL:xR}},EmailAuthProvider:OD,FacebookAuthProvider:UD,GithubAuthProvider:VD,GoogleAuthProvider:jD,OAuthProvider:FD,SAMLAuthProvider:zD,PhoneAuthProvider:kU,PhoneMultiFactorGenerator:dF,RecaptchaVerifier:wU,TwitterAuthProvider:qD,Auth:mU,AuthCredential:ZP,Error:wl}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.3")}(lh);var _U=n(184);var xU=function(){var e=we(),t=l((0,r.useState)("register"),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],u=a[1],s=l((0,r.useState)(""),2),c=s[0],f=s[1],h=l((0,r.useState)(""),2),d=h[0],p=h[1],v=l((0,r.useState)(!1),2),m=v[0],y=v[1];return(0,r.useEffect)((function(){})),(0,_U.jsx)(Zn,{textAlign:"center",style:{height:"50vh"},verticalAlign:"middle",children:(0,_U.jsxs)(Zn.Column,{style:{maxWidth:450},children:[(0,_U.jsxs)(Uo,{widths:"2",color:"teal",inverted:!0,children:[(0,_U.jsx)(Uo.Item,{color:"teal",content:" \u8a3b\u518a",active:"register"===n,onClick:function(){p(""),i((function(e){return"register"}))}}),(0,_U.jsx)(Uo.Item,{color:"teal",content:"  \u767b\u5165",active:"signin"===n,onClick:function(){p(""),i((function(e){return"signin"}))}})]}),(0,_U.jsxs)(Qc,{onSubmit:function(){"register"===n?lR.auth().createUserWithEmailAndPassword(o,c).then((function(){e("/"),y(!1)})).catch((function(e){switch(e.code){case"auth/email-already-in-use":p("\u4fe1\u7bb1\u5df2\u5b58\u5728");break;case"auth/invalid-email":p("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/weak-password":p("\u5bc6\u78bc\u5f37\u5ea6\u4e0d\u8db3")}})):"signin"===n&&lR.auth().signInWithEmailAndPassword(o,c).then((function(){e("/"),y(!1)})).catch((function(e){switch(e.code){case"auth/email-user-not-found":p("\u4fe1\u7bb1\u4e0d\u5b58\u5728");break;case"auth/invalid-email":p("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/wrong-password":p("\u5bc6\u78bc\u932f\u8aa4")}}))},children:[(0,_U.jsx)(Qc.Input,{label:"Mail",value:o,placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1",onChange:function(e){return u(e.target.value)}}),(0,_U.jsx)(Qc.Input,{label:"PassWord",value:c,placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",onChange:function(e){return f(e.target.value)},type:"password"}),d&&(0,_U.jsxs)(rl,{color:"red",icon:!0,children:[(0,_U.jsx)(Do,{name:"warning",color:"teal"}),d]}),(0,_U.jsxs)(Qc.Button,{color:"teal",loading:m,children:["register"===n&&"\u8a3b\u518a","signin"===n&&"\u767b\u5165"]})]})]})})};var IU=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=l((0,r.useState)(),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){lR.auth().onAuthStateChanged((function(e){n(e),o(lR.auth().currentUser.email)}))})),(0,_U.jsxs)(Uo,{inverted:!0,pointing:!0,color:"black",children:[(0,_U.jsxs)(Uo.Item,{name:"Home",as:ze,to:"/",children:[(0,_U.jsx)(Do,{name:"home"}),"Home"]}),(0,_U.jsxs)(Uo.Item,{name:"Posts",as:ze,to:"/Posts",children:[(0,_U.jsx)(Do,{name:"blogger"}),"Posts"]}),(0,_U.jsxs)(Uo.Item,{name:"Portfolio",as:ze,to:"/Portfolio",children:[(0,_U.jsx)(Do,{name:"like"}),"Portfolio"]}),(0,_U.jsxs)(Uo.Item,{name:"About",as:ze,to:"/About",children:[(0,_U.jsx)(Do,{name:"meh"}),"About me"]}),(0,_U.jsxs)(Uo.Menu,{position:"right",children:[(0,_U.jsxs)(Uo.Item,{children:[(0,_U.jsx)("i",{"aria-hidden":"true",className:"child   icon"}),(0,_U.jsx)("h5",{children:null===a||void 0===a?"welcome":a})]}),t?(0,_U.jsx)(_U.Fragment,{children:(0,_U.jsx)(Uo.Item,{onClick:function(){return lR.auth().signOut()},children:"\u767b\u51fa"})}):(0,_U.jsx)(Uo.Item,{as:ze,to:"/Login",children:"\u8a3b\u518a/\u767b\u5165"})]})]})};function EU(e){var t=e.children,n=e.className,i=e.content,a=e.fluid,o=e.text,u=e.textAlign,s=We("ui",Ye(o,"text"),Ye(a,"fluid"),et(u),"container",n),c=rt(EU,e),l=it(EU,e);return r.createElement(l,Ge({},c,{className:s}),Ea(t)?i:t)}EU.handledProps=["as","children","className","content","fluid","text","textAlign"],EU.propTypes={};var TU=EU;lh.initializeApp({apiKey:"AIzaSyBwe5yU16DdOdTczAhH3fwC2WEqWVPmMaA",authDomain:"bolg-house.firebaseapp.com",projectId:"bolg-house",storageBucket:"bolg-house.appspot.com",messagingSenderId:"180884727783",appId:"1:180884727783:web:b3ed5fe9308fc7efd27f42"});var SU=lh.firestore();function CU(e){var t=e.children,n=e.className,i=e.content,a=We(n,"description"),o=rt(CU,e),u=it(CU,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}CU.handledProps=["as","children","className","content"],CU.propTypes={},CU.create=Kn(CU,(function(e){return{content:e}}));var NU=CU;function AU(e){var t=e.children,n=e.className,i=e.content,a=We("header",n),o=rt(AU,e),u=it(AU,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}AU.handledProps=["as","children","className","content"],AU.propTypes={},AU.create=Kn(AU,(function(e){return{content:e}}));var RU=AU;function PU(e){var t=e.children,n=e.className,i=e.content,a=e.description,o=e.floated,u=e.header,s=e.verticalAlign,c=We(Xe(o,"floated"),tt(s),"content",n),l=rt(PU,e),f=it(PU,e);return Ea(t)?r.createElement(f,Ge({},l,{className:c}),RU.create(u),NU.create(a),i):r.createElement(f,Ge({},l,{className:c}),t)}PU.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],PU.propTypes={},PU.create=Kn(PU,(function(e){return{content:e}}));var DU=PU;function OU(e){var t=e.className,n=e.verticalAlign,i=We(tt(n),t),a=rt(OU,e);return r.createElement(Do,Ge({},a,{className:i}))}OU.handledProps=["className","verticalAlign"],OU.propTypes={},OU.create=Kn(OU,(function(e){return{name:e}}));var LU=OU,MU=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||wa(t.props,"onClick",e,t.props)},t}return er(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,o=e.content,u=e.description,s=e.disabled,c=e.header,l=e.icon,f=e.image,h=e.value,d=it(t,this.props),p=We(Ye(n,"active"),Ye(s,"disabled"),Ye("li"!==d,"item"),a),v=rt(t,this.props),m="li"===d?{value:h}:{"data-value":h};if(!Ea(i))return r.createElement(d,Ge({},m,{role:"listitem",className:p,onClick:this.handleClick},v),i);var y=LU.create(l,{autoGenerateKey:!1}),g=ju.create(f,{autoGenerateKey:!1});if(!(0,r.isValidElement)(o)&&Un(o))return r.createElement(d,Ge({},m,{role:"listitem",className:p,onClick:this.handleClick},v),y||g,DU.create(o,{autoGenerateKey:!1,defaultProps:{header:c,description:u}}));var k=RU.create(c,{autoGenerateKey:!1}),b=NU.create(u,{autoGenerateKey:!1});return y||g?r.createElement(d,Ge({},m,{role:"listitem",className:p,onClick:this.handleClick},v),y||g,(o||k||b)&&r.createElement(DU,null,k,b,o)):r.createElement(d,Ge({},m,{role:"listitem",className:p,onClick:this.handleClick},v),k,b,o)},t}(r.Component);MU.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],MU.propTypes={},MU.create=Kn(MU,(function(e){return{content:e}}));var FU=MU;function UU(e){var t=e.children,n=e.className,i=e.content,a=rt(UU,e),o=it(UU,e),u=We(Ye("ul"!==o&&"ol"!==o,"list"),n);return r.createElement(o,Ge({},a,{className:u}),Ea(t)?i:t)}UU.handledProps=["as","children","className","content"],UU.propTypes={};var jU=UU,VU=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){wa(e,"onClick",n,r),wa(t.props,"onItemClick",n,r)}}},t}return er(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.animated,a=n.bulleted,o=n.celled,u=n.children,s=n.className,c=n.content,l=n.divided,f=n.floated,h=n.horizontal,d=n.inverted,p=n.items,v=n.link,m=n.ordered,y=n.relaxed,g=n.selection,k=n.size,b=n.verticalAlign,w=We("ui",k,Ye(i,"animated"),Ye(a,"bulleted"),Ye(o,"celled"),Ye(l,"divided"),Ye(h,"horizontal"),Ye(d,"inverted"),Ye(v,"link"),Ye(m,"ordered"),Ye(g,"selection"),Je(y,"relaxed"),Xe(f,"floated"),tt(b),"list",s),_=rt(t,this.props),x=it(t,this.props);return Ea(u)?Ea(c)?r.createElement(x,Ge({role:"list",className:w},_),oa(p,(function(t){return FU.create(t,{overrideProps:e.handleItemOverrides})}))):r.createElement(x,Ge({role:"list",className:w},_),c):r.createElement(x,Ge({role:"list",className:w},_),u)},t}(r.Component);VU.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],VU.propTypes={},VU.Content=DU,VU.Description=NU,VU.Header=RU,VU.Icon=LU,VU.Item=FU,VU.List=jU;var BU=VU;var zU=function(){var e=l(r.useState([]),2),t=e[0],n=e[1];return r.useEffect((function(){SU.collection("topics").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));n(t)})).catch((function(e){console.error("Error getting documents: ",e)}))}),[]),(0,_U.jsx)(BU,{animated:!0,Selection:!0,relaxed:"very",size:"big",children:t.map((function(e){return(0,_U.jsxs)(BU.Item,{children:[(0,_U.jsx)(Do,{name:e.icon,color:"grey",avatar:!0}),(0,_U.jsx)(BU.Content,{children:(0,_U.jsxs)(BU.Header,{as:"a",children:[" ",e.name]})})]},e.name)}))})};var qU=function(){return(0,_U.jsx)(TU,{fluid:!0,children:(0,_U.jsx)(Zn,{verticalAlign:"middle",stackable:!0,children:(0,_U.jsxs)(Zn.Row,{centered:!0,children:[(0,_U.jsx)(Zn.Column,{width:2,textAlign:"right",children:(0,_U.jsx)(zU,{})}),(0,_U.jsx)(Zn.Column,{width:2,children:(0,_U.jsx)(Ju,{basic:!0,color:"violet",content:"Violet",as:ze,to:"/NewPost",children:"\u767c\u8868\u6587\u7ae0"})}),(0,_U.jsx)(Zn.Column,{width:5,children:"\u8cbc\u6587\u5217\u8868"}),(0,_U.jsx)(Zn.Column,{width:5,children:"\u8cc7\u8a0a "})]})})})};var KU=function(){return(0,_U.jsx)(TU,{fluid:!0,children:(0,_U.jsx)(ju,{src:"https://images.unsplash.com/photo-1493723843671-1d655e66ac1c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1500",centered:!0,rounded:!0,fluid:!0})})};var GU=function(){return"about"};var HU=function(){return"Portfolio"};function WU(e){var t=e.children,n=e.className,i=e.content,a=We("sub header",n),o=rt(WU,e),u=it(WU,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}WU.handledProps=["as","children","className","content"],WU.propTypes={},WU.create=Kn(WU,(function(e){return{content:e}}));var QU=WU;function $U(e){var t=e.children,n=e.className,i=e.content,a=We("content",n),o=rt($U,e),u=it($U,e);return r.createElement(u,Ge({},o,{className:a}),Ea(t)?i:t)}$U.handledProps=["as","children","className","content"],$U.propTypes={};var YU=$U;function XU(e){var t=e.attached,n=e.block,i=e.children,a=e.className,o=e.color,u=e.content,s=e.disabled,c=e.dividing,l=e.floated,f=e.icon,h=e.image,d=e.inverted,p=e.size,v=e.sub,m=e.subheader,y=e.textAlign,g=We("ui",o,p,Ye(n,"block"),Ye(s,"disabled"),Ye(c,"dividing"),Xe(l,"floated"),Ye(!0===f,"icon"),Ye(!0===h,"image"),Ye(d,"inverted"),Ye(v,"sub"),Je(t,"attached"),et(y),"header",a),k=rt(XU,e),b=it(XU,e);if(!Ea(i))return r.createElement(b,Ge({},k,{className:g}),i);var w=Do.create(f,{autoGenerateKey:!1}),_=ju.create(h,{autoGenerateKey:!1}),x=QU.create(m,{autoGenerateKey:!1});return w||_?r.createElement(b,Ge({},k,{className:g}),w||_,(u||x)&&r.createElement(YU,null,u,x)):r.createElement(b,Ge({},k,{className:g}),u,x)}XU.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],XU.propTypes={},XU.Content=YU,XU.Subheader=QU;var JU=XU;var ZU=function(){var e=we(),t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],u=a[1],s=l((0,r.useState)(""),2),c=s[0],f=s[1],h=l((0,r.useState)(""),2),d=h[0],p=h[1],v=l((0,r.useState)(""),2),m=v[0],y=v[1],g=l(r.useState([]),2),k=g[0],b=g[1];r.useEffect((function(){SU.collection("topics").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)})).catch((function(e){console.error("Error getting documents: ",e)}))}),[]);var w=k.map((function(e){return{text:e.name,value:e.name}})),_=d?URL.createObjectURL(d):"https://images.unsplash.com/photo-1676873261959-173b91552b0d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop";return(0,_U.jsxs)(TU,{children:[(0,_U.jsx)(JU,{as:"h2",icon:"edit",content:"Write an article"}),(0,_U.jsxs)(Qc,{onSubmit:function(){y(!0);var t=SU.collection("posts").doc(),r=lR.storage().ref("post-image/"+t.id),i={contenType:d.type};r.put(d,i).then((function(){r.getDownloadURL().then((function(r){t.set({title:n,conten:o,topic:c,cretedAt:lR.firestore.Timestamp.now(),author:{displayName:lR.auth().currentUser.displayName||"",photoUrl:lR.auth().currentUser.photoURL||"",uid:lR.auth().currentUser.uid,email:lR.auth().currentUser.email},imageURL:r}).then((function(){y(!1),e("/")}))}))}))},children:[(0,_U.jsx)(ju,{src:_,floated:"left",size:"small",circular:!0}),(0,_U.jsx)(Ju,{color:"black",as:"label",htmlFor:"post-image",icon:"upload"}),(0,_U.jsx)(Qc.Input,{type:"file",id:"post-image",style:{display:"none"},onChange:function(e){return p(e.target.files[0])}}),(0,_U.jsx)(Qc.Input,{icon:(0,_U.jsx)(Do,{name:"chess board",inverted:!0,circular:!0,left:!0}),placeholder:"\u8acb\u8f38\u5165\u6587\u7ae0\u6a19\u984c",value:n,onChange:function(e){return i(e.target.value)}}),(0,_U.jsx)(Qc.TextArea,{placeholder:"\u8acb\u8f38\u6587\u7ae0\u5167\u5bb9",value:o,onChange:function(e){return u(e.target.value)}}),(0,_U.jsx)(Qc.Dropdown,{placeholder:"\u8acb\u9078\u64c7\u6587\u7ae0\u4e3b\u984c",options:w,selection:!0,value:c,onChange:function(e,t){var n=t.value;return f(n)}}),(0,_U.jsx)(Ju,{color:"black",icon:"send",loading:m})]})]})};var ej=function(){return(0,_U.jsxs)(_U.Fragment,{children:[(0,_U.jsx)(IU,{}),(0,_U.jsxs)(Oe,{children:[(0,_U.jsx)(Pe,{path:"/",element:(0,_U.jsx)(KU,{})}),(0,_U.jsx)(Pe,{path:"Login",element:(0,_U.jsx)(xU,{})}),(0,_U.jsx)(Pe,{path:"Posts",element:(0,_U.jsx)(qU,{})}),(0,_U.jsx)(Pe,{path:"NewPost",element:(0,_U.jsx)(ZU,{})}),(0,_U.jsx)(Pe,{path:"About",element:(0,_U.jsx)(GU,{})}),(0,_U.jsx)(Pe,{path:"Portfolio",element:(0,_U.jsx)(HU,{})})]})]})},tj=document.getElementById("root");a.createRoot(tj).render((0,_U.jsx)(r.StrictMode,{children:(0,_U.jsx)(Ve,{children:(0,_U.jsx)(ej,{})})}))}()}();
//# sourceMappingURL=main.63026c35.js.map